<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!--
    【用途说明】
    本段为「iMDT 管理后台 UI 原型生成 Prompt」，用于后续在 Cursor / 其他 AI 中快速生成高保真原型页面。
    建议：长期维护版本可以同时放一份到本目录的 `README.md` 中，便于纯文档浏览；这里作为就近提示。

    ============================================================
    一、产品背景与定位
    ============================================================
    - 产品名称：iMDT 管理平台（管理后台）
    - 应用类型：面向运营、管理员、项目方的 Web 管理后台
    - 使用场景：
      * 为「区域性乳腺癌 MDT 协作平台」及后续多疾病 iMDT 项目提供统一运营与配置后台
      * 支撑医生侧 IMDT 入口、小程序、企业微信入口等前台产品的账号、权限、数据与活动管理
    - 目标用户角色（至少涵盖）：
      * 超级管理员：平台级配置、账号/角色/权限体系维护
      * 运营人员：内容配置、活动运营、MDT 项目日常管理
      * 医院/项目管理员：机构、科室、医生账号与病例流转管理
      * 工业/企业侧运营：查看项目数据、MDT 执行情况（可按后续版本支持）

    ============================================================
    二、项目模块组成
    ============================================================
    该项目由以下几大模块组成：
    - iMDT 模块：区域性 MDT 协作平台相关功能
    - 专业助手：面向医生的专业辅助工具
    - 科研助手：科研相关的辅助功能
    - 患管助手：患者管理相关功能

    注：目前各模块功能仍在持续补充中，请基于现有原型地址 https://backstage-imdt-sit.zmnyun.cn 的结构进行 UI 原型设计。登录密码在登录账号记录.md里面。

    ============================================================
    三、UI 设计规范（Web 管理后台）
    ============================================================
    - 画布尺寸与布局：
      * 以 1440 × 900 或 1280 × 800 桌面宽屏布局为主，顶部固定导航 + 左侧固定侧边栏 + 右侧主内容区
      * 采用响应式栅格（Tailwind）设计，保证在 1280–1920 宽度下观感良好
    - 视觉风格：
      * 现代化、医疗场景友好、偏冷静专业：以浅灰/深蓝/青绿色为主色，适度点缀品牌色
      * 使用「玻璃拟态」卡片：半透明背景、毛玻璃模糊、亮色描边 + 柔和多层阴影
      * 多层阴影系统：区分层级（基础卡片阴影、悬浮浮层阴影、模态/抽屉的更深阴影）
    - 组件规范：
      * 表格：支持固定表头、斑马纹、Hover 高亮行、操作列按钮（图标+文字）
      * 筛选条：位于列表上方，采用紧凑横向排列，带 Tag 式已选条件展示与一键重置
      * 表单：分组标题 + 双列/三列布局，支持必填标记与校验提示
      * 反馈组件：Toast / Message / Empty 状态（插画或图标 + 文案）

    ============================================================
    四、交互细节要求
    ============================================================
    - 悬停与聚焦：
      * 所有可点击卡片、主要按钮、导航项：Hover 时进行 2–3% 微缩放（scale），并提升阴影层级
      * 输入框、搜索框聚焦时：增加柔和的外发光（box-shadow）光晕，采用过渡动画（transition）实现渐入/渐出
    - 动效与过渡：
      * 使用 Tailwind 的 transition / transform 实现导航切换、折叠菜单、抽屉/弹窗的平滑过渡
      * 子菜单展开/收起使用高度过渡与透明度渐变，避免“闪现”
    - 列表操作：
      * 表格行 Hover 显示操作按钮（查看详情 / 编辑 / 更多）
      * 重要操作采用二次确认弹窗，并在弹窗中突出风险提示
    - 多窗口/浮层：
      * 使用右侧抽屉展示「详情 + 编辑」页面，保持列表上下文不丢失
      * 全屏图表/详情采用居中模态框，背景加模糊与遮罩

    ============================================================
    五、技术规范
    ============================================================
    - 前端技术栈：
      * 使用原生 HTML + Tailwind CSS（CDN 引入）构建所有后台原型
      * 使用 Font Awesome（CDN）作为主要图标库，不使用带有背景色块/底板/外框的图标
      * 图表可选：采用 ECharts / Chart.js 的 CDN（只需写出占位容器及示例配置，不必接真实数据）
    - 资源规范：
      * 图片统一使用开源图片网站（如 Unsplash、Pexels）在线链接，仅作为配图/封面，不嵌入真实患者信息
      * 严禁在示例中出现真实隐私数据，可用虚构医院/医生姓名（如「某三甲医院」「张医生」等）

    ============================================================
    六、输出规范与文件组织
    ============================================================
    - **文件行数限制（重要）**：
      * 每个 HTML 文件不超过 2000 行，超出时需要拆分
      * 拆分方式：将页面内容拆分为独立的 HTML 片段文件，使用 JavaScript 动态加载
      * 主骨架文件：只保留基本结构（头部、侧边栏、主容器），< 1000 行
      * 页面片段：每个页面片段文件 < 500 行
      * JavaScript 逻辑：独立 JS 文件，< 1000 行
    
    - **文件组织结构**：
      * `imdt_admin_index.html` - 主入口文件（骨架结构 + 页面加载器）
      * `pages/` - 存放各页面 HTML 片段
        * `home.html` - 首页
        * `contract-verification.html` - 合同审核列表
        * `doctor-library.html` - 医生信息库
        * 等等...
      * `js/app.js` - 主应用逻辑（页面路由、动态加载等）
      * `css/imdt_admin.css` - 主样式文件
    
    - **页面粒度**：
      * 每个核心业务视图单独输出为一个 HTML 片段文件（例如：pages/home.html、pages/mdt_list.html 等）
      * 列表页与详情/编辑页尽量拆分为独立片段，或通过清晰的布局区域区分
    
    - **汇总展示页**：
      * 使用 `show.html` 作为后台原型的汇总展示页面
      * 通过 `<iframe>` 方式嵌入各个页面的 HTML 文件，将多个后台界面在单页中平铺展示
      * `show.html` 不需要写需求说明，只展示各页面界面缩略（可在每个 iframe 上方加简短标题）
    
    - **代码风格**：
      * 使用语义化 HTML 标签（header / nav / main / section / aside / footer 等）
      * Tailwind 类名适度分组与换行，保证可读性
      * 避免内联大量 HTML 字符串，使用外部文件 + 动态加载

    使用方式示例：
    - 「请根据上述后台产品定义与 UI/交互/技术/输出规范，先为 iMDT 管理平台管理后台生成以下页面的高保真 HTML+Tailwind 原型：1）Dashboard 总览页 2）MDT 申请列表与详情 3）医生信息库列表页与抽屉详情。注意：每个文件不超过 2000 行，如超出请拆分为多个文件。」
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iMDT管理平台</title>
    <link rel="stylesheet" href="imdt_admin.css">
</head>
<body>
    <!-- 顶部导航栏 -->
    <div class="top-header">
        <div class="header-left">
            <div class="logo-separator"></div>
            <div class="platform-name">管理平台</div>
        </div>
        <div class="header-right">
            <div class="font-size-selector">
                <span>字号:</span>
                <select>
                    <option>小号</option>
                    <option>中号</option>
                    <option>大号</option>
                </select>
            </div>
            <button class="header-icon-btn" title="通知" onclick="showNotifications()" style="position: relative;">
                🔔
                <span style="position: absolute; top: 4px; right: 4px; width: 8px; height: 8px; background: #ff4d4f; border-radius: 50%; border: 2px solid #fff;"></span>
            </button>
            <button class="header-icon-btn" title="全屏" onclick="toggleFullscreen()">⛶</button>
            <div class="user-info" id="userInfoDropdown" style="position: relative;">
                <div class="user-avatar">庞</div>
                <span class="user-name">庞宇皓</span>
                <span>▼</span>
                <div id="userDropdownMenu" class="dropdown-menu" style="display: none;">
                    <div class="dropdown-item" onclick="showPersonalCenter()">个人中心</div>
                    <div class="dropdown-item" onclick="logout()" style="color: #ff4d4f;">退出登录</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 主容器 -->
    <div class="main-container">
        <!-- 左侧边栏 -->
        <div class="sidebar">
            <div class="menu-list">
                <div class="menu-item active" data-page="home">
                    <div class="menu-icon">🏠</div>
                    <span class="menu-text">我的首页</span>
                </div>
                <!-- 合同（有子菜单） -->
                <div class="menu-item has-submenu" onclick="toggleSubmenu(this)">
                    <div class="menu-icon">📑</div>
                    <span class="menu-text">合同</span>
                    <span class="submenu-arrow">▼</span>
                </div>
                <div class="submenu" style="display: none;">
                    <div class="menu-item submenu-item" data-page="contract-verification">
                        <div class="menu-icon">📋</div>
                        <span class="menu-text">审核列表</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="contract-template">
                        <div class="menu-icon">📝</div>
                        <span class="menu-text">合同模板</span>
                    </div>
                </div>
                <!-- 机构管理（有子菜单） -->
                <div class="menu-item has-submenu" onclick="toggleSubmenu(this)">
                    <div class="menu-icon">🏢</div>
                    <span class="menu-text">机构管理</span>
                    <span class="submenu-arrow">▼</span>
                </div>
                <div class="submenu" style="display: none;">
                    <div class="menu-item submenu-item" data-page="organization">
                        <div class="menu-icon">🏛️</div>
                        <span class="menu-text">机构信息</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="project">
                        <div class="menu-icon">📊</div>
                        <span class="menu-text">项目信息</span>
                    </div>
                </div>
                <!-- 系统管理（有子菜单） -->
                <div class="menu-item has-submenu" onclick="toggleSubmenu(this)">
                    <div class="menu-icon">⚙️</div>
                    <span class="menu-text">系统管理</span>
                    <span class="submenu-arrow">▼</span>
                </div>
                <div class="submenu" style="display: none;">
                    <div class="menu-item submenu-item" data-page="sys-account">
                        <div class="menu-icon">👤</div>
                        <span class="menu-text">账号管理</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="sys-role">
                        <div class="menu-icon">🛡️</div>
                        <span class="menu-text">角色管理</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="sys-menu">
                        <div class="menu-icon">📋</div>
                        <span class="menu-text">菜单管理</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="sys-permission-group">
                        <div class="menu-icon">🔗</div>
                        <span class="menu-text">权限组管理</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="sys-disease">
                        <div class="menu-icon">🦠</div>
                        <span class="menu-text">病种管理</span>
                    </div>
                </div>
                <!-- 主数据管理（有子菜单） -->
                <div class="menu-item has-submenu" onclick="toggleSubmenu(this)">
                    <div class="menu-icon">📦</div>
                    <span class="menu-text">主数据管理</span>
                    <span class="submenu-arrow">▼</span>
                </div>
                <div class="submenu" style="display: none;">
                    <div class="menu-item submenu-item" data-page="master-region">
                        <div class="menu-icon">🗺️</div>
                        <span class="menu-text">区域管理</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="master-hospital">
                        <div class="menu-icon">🏥</div>
                        <span class="menu-text">医院管理</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="master-department">
                        <div class="menu-icon">🏛️</div>
                        <span class="menu-text">科室管理</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="master-title">
                        <div class="menu-icon">👔</div>
                        <span class="menu-text">职称管理</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="master-tag">
                        <div class="menu-icon">🏷️</div>
                        <span class="menu-text">系统标签管理</span>
                    </div>
                </div>
                <div class="menu-item" data-page="doctor-library">
                    <div class="menu-icon">👨‍⚕️</div>
                    <span class="menu-text">医生信息库</span>
                </div>
                <div class="menu-item" data-page="bi-config">
                    <div class="menu-icon">📈</div>
                    <span class="menu-text">BI配置</span>
                </div>
                <div class="menu-item" data-page="wechat-website">
                    <div class="menu-icon">🌐</div>
                    <span class="menu-text">公众号网站管理</span>
                </div>
                <!-- 申请管理（有子菜单） -->
                <div class="menu-item has-submenu" onclick="toggleSubmenu(this)">
                    <div class="menu-icon">📋</div>
                    <span class="menu-text">申请管理</span>
                    <span class="submenu-arrow">▼</span>
                </div>
                <div class="submenu" style="display: none;">
                    <div class="menu-item submenu-item" data-page="application-consultation">
                        <div class="menu-icon">🩺</div>
                        <span class="menu-text">会诊申请</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="application-cooperation">
                        <div class="menu-icon">🤝</div>
                        <span class="menu-text">合作申请</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="application-settlement">
                        <div class="menu-icon">🏢</div>
                        <span class="menu-text">入驻申请</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="application-register">
                        <div class="menu-icon">📝</div>
                        <span class="menu-text">注册申请</span>
                    </div>
                </div>
                <div class="menu-item" data-page="form-library">
                    <div class="menu-icon">📝</div>
                    <span class="menu-text">表单库</span>
                </div>
                <div class="menu-item" data-page="image-recognition">
                    <div class="menu-icon">🖼️</div>
                    <span class="menu-text">图像识别管理</span>
                </div>
                <div class="menu-item" data-page="followup">
                    <div class="menu-icon">🔧</div>
                    <span class="menu-text">随访管理</span>
                </div>
                <div class="menu-item" data-page="activity">
                    <div class="menu-icon">🎯</div>
                    <span class="menu-text">活动管理</span>
                </div>
                <div class="menu-item" data-page="activity-user">
                    <div class="menu-icon">👥</div>
                    <span class="menu-text">活动用户管理</span>
                </div>
                <div class="menu-item" data-page="activity-topic">
                    <div class="menu-icon">📰</div>
                    <span class="menu-text">活动专题管理</span>
                </div>
                <div class="menu-item" data-page="activity-data">
                    <div class="menu-icon">📊</div>
                    <span class="menu-text">活动数据列表</span>
                </div>
                <div class="menu-item" data-page="activity-analysis">
                    <div class="menu-icon">📈</div>
                    <span class="menu-text">活动运营分析</span>
                </div>
                <div class="menu-item" data-page="quality-control">
                    <div class="menu-icon">⭐</div>
                    <span class="menu-text">质控评分管理</span>
                </div>
                <!-- 科研超级智能体（有子菜单） -->
                <div class="menu-item has-submenu" onclick="toggleSubmenu(this)">
                    <div class="menu-icon">🔬</div>
                    <span class="menu-text">科研超级智能体</span>
                    <span class="submenu-arrow">▼</span>
                </div>
                <div class="submenu" style="display: none;">
                    <div class="menu-item submenu-item" data-page="research-ai-selection">
                        <div class="menu-icon">📝</div>
                        <span class="menu-text">AI 选题</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="research-literature-search">
                        <div class="menu-icon">🔍</div>
                        <span class="menu-text">文献检索</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="research-literature-reading">
                        <div class="menu-icon">📖</div>
                        <span class="menu-text">文献阅读</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="research-academic-qa">
                        <div class="menu-icon">🎓</div>
                        <span class="menu-text">学术问答</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="research-assistant-writing">
                        <div class="menu-icon">✏️</div>
                        <span class="menu-text">辅助写作</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="research-knowledge-base">
                        <div class="menu-icon">📚</div>
                        <span class="menu-text">知识库</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="research-ai-cloud">
                        <div class="menu-icon">☁️</div>
                        <span class="menu-text">AI 云盘</span>
                    </div>
                    <div class="menu-item submenu-item" data-page="research-my-group">
                        <div class="menu-icon">👥</div>
                        <span class="menu-text">我的小组</span>
                    </div>
                </div>
                <!-- 外部链接：病例模拟 -->
                <div class="menu-item external-link" data-url="https://simulation-imdt-sit.zmnyun.cn/#/quick-login/?token=eyJhbGciOiJIUzUxMiJ9.eyJwaG9uZSI6IjEzNTcwMjU3NTg0Iiwicm9sZUNvZGUiOiJhZG1pbiIsImV4cCI6MTc2ODQ1NTk4MywidXNlcklkIjo0MDEsImlhdCI6MTc2Nzg1MTE4MywidXNlcm5hbWUiOiJhZG1pbjEifQ.yWqWEmo3RaWa2Wtnc2V2mo6TD4oMX-DZ_gcWF625ul_qVXFbL6k7m_AMmH13knWGCO3Cqdf-Bou5zcDHwQjtdQ&userId=401&redirect=%2F">
                    <div class="menu-icon">🧪</div>
                    <span class="menu-text">病例模拟</span>
                </div>
            </div>
            <div class="menu-collapse">
                <span>◀</span>
                <span>收起菜单</span>
            </div>
        </div>

        <!-- 主内容区 -->
        <div class="content-area">
            <!-- Tab标签栏 -->
            <div class="tab-bar" id="tabBar">
                <div class="tab-item active" data-tab="home">
                    <span>首页</span>
                    <span class="tab-close">×</span>
                </div>
            </div>

            <!-- 内容面板 -->
            <div class="content-panel">
                <!-- 首页内容 -->
                <div id="page-home" class="page-content active">
                    <div class="home-content">
                        <h1 class="home-title">Hi，我是iMDT病历智能体</h1>
                        <p class="home-desc">我能帮您，快速创建患者档案，并能智能识别、整理病历报告，快速完成资料录入</p>
                        <div class="home-actions">
                            <button class="action-btn" onclick="showCreatePatientForm()">
                                <span>📄</span>
                                <span>新建患者档案</span>
                            </button>
                            <button class="action-btn" onclick="showPage('patient')">
                                <span>🔍</span>
                                <span>检索患者档案</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- 我的患者页面（医生端旧页面，仍可从首页等入口访问） -->
                <div id="page-patient" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 我的患者
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入患者姓名" id="followupSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="togglePatientFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('patient', this)" style="position: relative;">⚙️</button>
                            <div id="patientTableSettings" class="table-settings-tooltip" style="display: none;">
                                <div class="table-settings-header">
                                    <div style="font-weight: 500; font-size: 14px;">表头设置</div>
                                    <button class="modal-close" onclick="closeTableSettings('patient')" style="position: static; width: 20px; height: 20px; font-size: 14px;">×</button>
                                </div>
                                <div style="margin-bottom: 12px;">
                                    <div class="search-box" style="max-width: 100%;">
                                        <span>🔍</span>
                                        <input type="text" placeholder="搜索字段" id="patientFieldSearch" onkeyup="filterTableFields('patient', this.value)" style="width: 100%;">
                                    </div>
                                </div>
                                <div style="max-height: 300px; overflow-y: auto;">
                                    <div style="font-weight: 500; margin-bottom: 12px; color: #666; font-size: 12px;">显示字段</div>
                                    <div id="patientFieldList" style="display: grid; gap: 8px;">
                                        <label class="field-item" data-field="序号">
                                            <span>序号</span>
                                            <label class="switch">
                                                <input type="checkbox" class="field-toggle" checked onchange="toggleTableField('patient', '序号', this.checked)">
                                                <span class="switch-slider"></span>
                                            </label>
                                        </label>
                                        <label class="field-item" data-field="患者姓名">
                                            <span>患者姓名</span>
                                            <label class="switch">
                                                <input type="checkbox" class="field-toggle" checked onchange="toggleTableField('patient', '患者姓名', this.checked)">
                                                <span class="switch-slider"></span>
                                            </label>
                                        </label>
                                        <label class="field-item" data-field="性别">
                                            <span>性别</span>
                                            <label class="switch">
                                                <input type="checkbox" class="field-toggle" checked onchange="toggleTableField('patient', '性别', this.checked)">
                                                <span class="switch-slider"></span>
                                            </label>
                                        </label>
                                        <label class="field-item" data-field="最新肿瘤分期">
                                            <span>最新肿瘤分期</span>
                                            <label class="switch">
                                                <input type="checkbox" class="field-toggle" checked onchange="toggleTableField('patient', '最新肿瘤分期', this.checked)">
                                                <span class="switch-slider"></span>
                                            </label>
                                        </label>
                                        <label class="field-item" data-field="诊断">
                                            <span>诊断</span>
                                            <label class="switch">
                                                <input type="checkbox" class="field-toggle" checked onchange="toggleTableField('patient', '诊断', this.checked)">
                                                <span class="switch-slider"></span>
                                            </label>
                                        </label>
                                        <label class="field-item" data-field="病例完善状态">
                                            <span>病例完善状态</span>
                                            <label class="switch">
                                                <input type="checkbox" class="field-toggle" checked onchange="toggleTableField('patient', '病例完善状态', this.checked)">
                                                <span class="switch-slider"></span>
                                            </label>
                                        </label>
                                        <label class="field-item" data-field="病例标签">
                                            <span>病例标签</span>
                                            <label class="switch">
                                                <input type="checkbox" class="field-toggle" checked onchange="toggleTableField('patient', '病例标签', this.checked)">
                                                <span class="switch-slider"></span>
                                            </label>
                                        </label>
                                        <label class="field-item" data-field="质控参考评分">
                                            <span>质控参考评分</span>
                                            <label class="switch">
                                                <input type="checkbox" class="field-toggle" checked onchange="toggleTableField('patient', '质控参考评分', this.checked)">
                                                <span class="switch-slider"></span>
                                            </label>
                                        </label>
                                        <label class="field-item" data-field="病例二维码">
                                            <span>病例二维码</span>
                                            <label class="switch">
                                                <input type="checkbox" class="field-toggle" checked onchange="toggleTableField('patient', '病例二维码', this.checked)">
                                                <span class="switch-slider"></span>
                                            </label>
                                        </label>
                                        <label class="field-item" data-field="创建时间">
                                            <span>创建时间</span>
                                            <label class="switch">
                                                <input type="checkbox" class="field-toggle" checked onchange="toggleTableField('patient', '创建时间', this.checked)">
                                                <span class="switch-slider"></span>
                                            </label>
                                        </label>
                                        <label class="field-item" data-field="操作">
                                            <span>操作</span>
                                            <label class="switch">
                                                <input type="checkbox" class="field-toggle" checked onchange="toggleTableField('patient', '操作', this.checked)">
                                                <span class="switch-slider"></span>
                                            </label>
                                        </label>
                                    </div>
                                </div>
                                <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid #e8e8e8;">
                                    <div style="font-weight: 500; margin-bottom: 12px; color: #999; font-size: 12px;">未显示字段</div>
                                    <div style="color: #999; font-size: 12px;">暂无字段</div>
                                </div>
                            </div>
                            <button class="toolbar-icon" title="批量操作" onclick="showBatchOperation('patient')" id="batchBtn" style="display: none;">📋</button>
                            <button class="toolbar-icon" title="导出" onclick="exportPatientList()">📥</button>
                            <button class="create-btn" onclick="showCreatePatientForm()">
                                <span>➕</span>
                                <span>创建患者</span>
                            </button>
                        </div>
                    </div>
                    <!-- 筛选面板 -->
                    <div id="patient-filter-panel" class="filter-panel" style="display: none; background: #fff; padding: 16px; border-radius: 8px; margin-bottom: 16px; border: 1px solid #e8e8e8;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">患者姓名</label>
                                <input type="text" class="form-input" placeholder="请输入患者姓名">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">诊断</label>
                                <input type="text" class="form-input" placeholder="请输入诊断">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">病例完善状态</label>
                                <select class="form-input">
                                    <option>请选择</option>
                                    <option>已完善</option>
                                    <option>未完善</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">病例标签</label>
                                <select class="form-input">
                                    <option>请选择</option>
                                    <option>早期乳腺癌</option>
                                    <option>进展期乳腺癌</option>
                                    <option>复发转移</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">创建时间范围</label>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <input type="date" class="form-input" style="flex: 1;">
                                    <span>至</span>
                                    <input type="date" class="form-input" style="flex: 1;">
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetPatientFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applyPatientFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="selectAllPatients" onchange="toggleSelectAll('patient', this)"></th>
                                    <th>序号</th>
                                    <th>患者姓名</th>
                                    <th>性别</th>
                                    <th>最新肿瘤分期</th>
                                    <th>诊断</th>
                                    <th>病例完善状态</th>
                                    <th>病例标签</th>
                                    <th>质控参考评分</th>
                                    <th>病例二维码</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody id="patientTableBody">
                                <tr>
                                    <td><input type="checkbox" class="patient-checkbox" value="1" onchange="updateBatchButton()"></td>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="viewPatientDetail(1)" style="text-decoration: none;">张三</a></td>
                                    <td>女</td>
                                    <td>T2N0M0</td>
                                    <td>左侧乳腺癌</td>
                                    <td><span class="status-tag complete">已完善</span></td>
                                    <td><span style="font-size:12px;color:#666;">早期乳腺癌</span></td>
                                    <td><a class="action-link" onclick="viewQualityScore(1)">95分</a></td>
                                    <td><a class="action-link" onclick="viewPatientQRCode(1)">查看二维码</a></td>
                                    <td>2025-01-05 10:30</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewPatientDetail(1)">查看</a>
                                            <a class="action-link" onclick="editPatient(1)">编辑</a>
                                            <a class="action-link danger" onclick="deletePatient(1)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox" class="patient-checkbox" value="2" onchange="updateBatchButton()"></td>
                                    <td>2</td>
                                    <td><a class="action-link" onclick="viewPatientDetail(2)" style="text-decoration: none;">李四</a></td>
                                    <td>女</td>
                                    <td>T1N1M0</td>
                                    <td>右侧乳腺癌</td>
                                    <td><span class="status-tag incomplete">未完善</span></td>
                                    <td><span style="font-size:12px;color:#666;">进展期乳腺癌</span></td>
                                    <td><a class="action-link" onclick="viewQualityScore(2)">78分</a></td>
                                    <td><a class="action-link" onclick="viewPatientQRCode(2)">查看二维码</a></td>
                                    <td>2025-01-04 14:20</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewPatientDetail(2)">查看</a>
                                            <a class="action-link" onclick="editPatient(2)">编辑</a>
                                            <a class="action-link danger" onclick="deletePatient(2)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox" class="patient-checkbox" value="3" onchange="updateBatchButton()"></td>
                                    <td>3</td>
                                    <td><a class="action-link" onclick="viewPatientDetail(3)" style="text-decoration: none;">王五</a></td>
                                    <td>女</td>
                                    <td>T2N1M0</td>
                                    <td>左侧乳腺癌</td>
                                    <td><span class="status-tag complete">已完善</span></td>
                                    <td><span style="font-size:12px;color:#666;">早期乳腺癌</span></td>
                                    <td><a class="action-link" onclick="viewQualityScore(3)">92分</a></td>
                                    <td><a class="action-link" onclick="viewPatientQRCode(3)">查看二维码</a></td>
                                    <td>2025-01-03 09:15</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewPatientDetail(3)">查看</a>
                                            <a class="action-link" onclick="editPatient(3)">编辑</a>
                                            <a class="action-link danger" onclick="deletePatient(3)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox" class="patient-checkbox" value="4" onchange="updateBatchButton()"></td>
                                    <td>4</td>
                                    <td><a class="action-link" onclick="viewPatientDetail(4)" style="text-decoration: none;">赵六</a></td>
                                    <td>女</td>
                                    <td>T3N2M0</td>
                                    <td>右侧乳腺癌</td>
                                    <td><span class="status-tag incomplete">未完善</span></td>
                                    <td><span style="font-size:12px;color:#666;">进展期乳腺癌</span></td>
                                    <td><a class="action-link" onclick="viewQualityScore(4)">65分</a></td>
                                    <td><a class="action-link" onclick="viewPatientQRCode(4)">查看二维码</a></td>
                                    <td>2025-01-02 16:45</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewPatientDetail(4)">查看</a>
                                            <a class="action-link" onclick="editPatient(4)">编辑</a>
                                            <a class="action-link danger" onclick="deletePatient(4)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox" class="patient-checkbox" value="5" onchange="updateBatchButton()"></td>
                                    <td>5</td>
                                    <td><a class="action-link" onclick="viewPatientDetail(5)" style="text-decoration: none;">孙七</a></td>
                                    <td>女</td>
                                    <td>T1N0M0</td>
                                    <td>左侧乳腺癌</td>
                                    <td><span class="status-tag complete">已完善</span></td>
                                    <td><span style="font-size:12px;color:#666;">早期乳腺癌</span></td>
                                    <td><a class="action-link" onclick="viewQualityScore(5)">88分</a></td>
                                    <td><a class="action-link" onclick="viewPatientQRCode(5)">查看二维码</a></td>
                                    <td>2025-01-01 11:20</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewPatientDetail(5)">查看</a>
                                            <a class="action-link" onclick="editPatient(5)">编辑</a>
                                            <a class="action-link danger" onclick="deletePatient(5)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 25 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <span class="pagination-page">2</span>
                            <span class="pagination-page">3</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>24 条/页</option>
                                    <option>50 条/页</option>
                                    <option>100 条/页</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 讲稿中心页面 -->
                <div id="page-presentation" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 讲稿中心
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入讲稿标题" id="presentationSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="togglePresentationFilter()">🔽</button>
                            <button class="create-btn" onclick="showCreatePresentationForm()">
                                <span>➕</span>
                                <span>创建讲稿</span>
                            </button>
                        </div>
                    </div>
                    <!-- 筛选面板 -->
                    <div id="presentation-filter-panel" class="filter-panel" style="display: none; background: #fff; padding: 16px; border-radius: 8px; margin-bottom: 16px; border: 1px solid #e8e8e8;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">讲稿标题</label>
                                <input type="text" class="form-input" placeholder="请输入讲稿标题">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">作者</label>
                                <input type="text" class="form-input" placeholder="请输入作者">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">创建时间范围</label>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <input type="date" class="form-input" style="flex: 1;">
                                    <span>至</span>
                                    <input type="date" class="form-input" style="flex: 1;">
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetPresentationFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applyPresentationFilter()">查询</button>
                        </div>
                    </div>
                    <div class="card-grid">
                        <div class="card-item">
                            <div class="card-title">乳腺癌MDT诊疗规范与流程</div>
                            <div class="card-meta">创建时间：2025-01-06 | 作者：张医生</div>
                            <div class="card-desc">详细介绍乳腺癌MDT诊疗的规范流程，包括多学科协作、诊疗决策等内容...</div>
                            <div class="card-footer">
                                <span style="font-size:12px;color:#999;">浏览 125 次</span>
                                <div class="action-btns">
                                    <a class="action-link" onclick="viewPresentation(1)">查看</a>
                                    <a class="action-link" onclick="editPresentation(1)">编辑</a>
                                </div>
                            </div>
                        </div>
                        <div class="card-item">
                            <div class="card-title">HER2阳性乳腺癌靶向治疗进展</div>
                            <div class="card-meta">创建时间：2025-01-05 | 作者：李医生</div>
                            <div class="card-desc">总结HER2阳性乳腺癌靶向治疗的最新研究进展，包括药物选择、疗效评估等...</div>
                            <div class="card-footer">
                                <span style="font-size:12px;color:#999;">浏览 98 次</span>
                                <div class="action-btns">
                                    <a class="action-link" onclick="viewPresentation(2)">查看</a>
                                    <a class="action-link" onclick="editPresentation(2)">编辑</a>
                                </div>
                            </div>
                        </div>
                        <div class="card-item">
                            <div class="card-title">保乳手术的适应症与禁忌症</div>
                            <div class="card-meta">创建时间：2025-01-04 | 作者：王医生</div>
                            <div class="card-desc">详细阐述保乳手术的适应症、禁忌症以及术前评估要点...</div>
                            <div class="card-footer">
                                <span style="font-size:12px;color:#999;">浏览 156 次</span>
                                <div class="action-btns">
                                    <a class="action-link" onclick="viewPresentation(3)">查看</a>
                                    <a class="action-link" onclick="editPresentation(3)">编辑</a>
                                </div>
                            </div>
                        </div>
                        <div class="card-item">
                            <div class="card-title">乳腺癌术后辅助化疗方案选择</div>
                            <div class="card-meta">创建时间：2025-01-03 | 作者：赵医生</div>
                            <div class="card-desc">根据患者病理特征，指导术后辅助化疗方案的选择和调整...</div>
                            <div class="card-footer">
                                <span style="font-size:12px;color:#999;">浏览 203 次</span>
                                <div class="action-btns">
                                    <a class="action-link" onclick="viewPresentation(4)">查看</a>
                                    <a class="action-link" onclick="editPresentation(4)">编辑</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 12 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <span class="pagination-page">2</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>24 条/页</option>
                                    <option>50 条/页</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 会诊中心页面 -->
                <div id="page-consultation" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 会诊中心
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入会诊主题" id="consultationSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleConsultationFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('consultation', this)" style="position: relative;">⚙️</button>
                            <div id="consultationTableSettings" class="table-settings-tooltip" style="display: none;">
                                <div class="table-settings-header">
                                    <div style="font-weight: 500; font-size: 14px;">表头设置</div>
                                    <button class="modal-close" onclick="closeTableSettings('consultation')" style="position: static; width: 20px; height: 20px; font-size: 14px;">×</button>
                                </div>
                                <div style="margin-bottom: 12px;">
                                    <div class="search-box" style="max-width: 100%;">
                                        <span>🔍</span>
                                        <input type="text" placeholder="搜索字段" id="consultationFieldSearch" onkeyup="filterTableFields('consultation', this.value)" style="width: 100%;">
                                    </div>
                                </div>
                                <div style="max-height: 300px; overflow-y: auto;">
                                    <div style="font-weight: 500; margin-bottom: 12px; color: #666; font-size: 12px;">显示字段</div>
                                    <div id="consultationFieldList" style="display: grid; gap: 8px;">
                                        <label class="field-item" data-field="序号"><span>序号</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('consultation', '序号', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="会诊时间"><span>会诊时间</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('consultation', '会诊时间', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="会诊主题"><span>会诊主题</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('consultation', '会诊主题', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="发起人"><span>发起人</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('consultation', '发起人', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="参与团队"><span>参与团队</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('consultation', '参与团队', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="会诊患者"><span>会诊患者</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('consultation', '会诊患者', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="状态"><span>状态</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('consultation', '状态', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="操作"><span>操作</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('consultation', '操作', this.checked)"><span class="switch-slider"></span></label></label>
                                    </div>
                                </div>
                                <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid #e8e8e8;">
                                    <div style="font-weight: 500; margin-bottom: 12px; color: #999; font-size: 12px;">未显示字段</div>
                                    <div style="color: #999; font-size: 12px;">暂无字段</div>
                                </div>
                            </div>
                            <button class="toolbar-icon" title="批量操作" onclick="showBatchOperation('consultation')" id="batchConsultationBtn" style="display: none;">📋</button>
                            <button class="toolbar-icon" title="导出" onclick="exportConsultationList()">📥</button>
                            <button class="create-btn" onclick="showCreateConsultationForm()">
                                <span>➕</span>
                                <span>创建会诊</span>
                            </button>
                        </div>
                    </div>
                    <!-- 筛选面板 -->
                    <div id="consultation-filter-panel" class="filter-panel" style="display: none; background: #fff; padding: 16px; border-radius: 8px; margin-bottom: 16px; border: 1px solid #e8e8e8;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">会诊主题</label>
                                <input type="text" class="form-input" placeholder="请输入会诊主题">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">发起人</label>
                                <input type="text" class="form-input" placeholder="请输入发起人">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">状态</label>
                                <select class="form-input">
                                    <option>请选择</option>
                                    <option>待开始</option>
                                    <option>进行中</option>
                                    <option>已结束</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">会诊时间范围</label>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <input type="datetime-local" class="form-input" style="flex: 1;">
                                    <span>至</span>
                                    <input type="datetime-local" class="form-input" style="flex: 1;">
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetConsultationFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applyConsultationFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="selectAllConsultations" onchange="toggleSelectAll('consultation', this)"></th>
                                    <th>序号</th>
                                    <th style="cursor: pointer;" onclick="sortTable('consultation', 'time', 'consultationTimeHeader', 'consultationTimeSort')" id="consultationTimeHeader">
                                        会诊时间
                                        <span class="sort-icon" id="consultationTimeSort" style="display: inline-flex; flex-direction: column; margin-left: 4px; font-size: 10px; color: #999;">
                                            <span class="caret-up" style="line-height: 0.8;">▲</span>
                                            <span class="caret-down" style="line-height: 0.8;">▼</span>
                                        </span>
                                    </th>
                                    <th>会诊主题</th>
                                    <th>发起人</th>
                                    <th>参与团队</th>
                                    <th>会诊患者</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><input type="checkbox" class="consultation-checkbox" value="1" onchange="updateBatchConsultationButton()"></td>
                                    <td>1</td>
                                    <td>2025-01-10 14:00</td>
                                    <td>复杂乳腺癌MDT会诊</td>
                                    <td>张医生</td>
                                    <td>外科、内科、放疗科</td>
                                    <td>张三</td>
                                    <td><span class="status-tag pending">待开始</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewConsultation(1)">查看</a>
                                            <a class="action-link" onclick="editConsultation(1)">编辑</a>
                                            <a class="action-link" onclick="startConsultation(1)">开始</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox" class="consultation-checkbox" value="2" onchange="updateBatchConsultationButton()"></td>
                                    <td>2</td>
                                    <td>2025-01-09 10:30</td>
                                    <td>保乳手术方案讨论</td>
                                    <td>李医生</td>
                                    <td>外科、影像科</td>
                                    <td>李四</td>
                                    <td><span class="status-tag processing">进行中</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewConsultation(2)">查看</a>
                                            <a class="action-link" onclick="joinConsultation(2)">加入</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox" class="consultation-checkbox" value="3" onchange="updateBatchConsultationButton()"></td>
                                    <td>3</td>
                                    <td>2025-01-08 15:00</td>
                                    <td>术后化疗方案调整</td>
                                    <td>王医生</td>
                                    <td>内科、外科</td>
                                    <td>王五</td>
                                    <td><span class="status-tag finished">已结束</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewConsultation(3)">查看</a>
                                            <a class="action-link" onclick="viewRecord(3)">记录</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><input type="checkbox" class="consultation-checkbox" value="4" onchange="updateBatchConsultationButton()"></td>
                                    <td>4</td>
                                    <td>2025-01-07 09:00</td>
                                    <td>疑难病例讨论</td>
                                    <td>赵医生</td>
                                    <td>外科、内科、病理科</td>
                                    <td>赵六</td>
                                    <td><span class="status-tag finished">已结束</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewConsultation(4)">查看</a>
                                            <a class="action-link" onclick="viewRecord(4)">记录</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 18 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <span class="pagination-page">2</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>24 条/页</option>
                                    <option>50 条/页</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- MDT团队页面 -->
                <div id="page-team" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / MDT团队
                    </div>
                    <!-- 子标签 -->
                    <div class="page-header" style="margin-bottom: 16px;">
                        <div style="display: flex; gap: 8px; border-bottom: 1px solid #e8e8e8;">
                            <div class="sub-tab active" data-subtab="my-team" onclick="switchTeamTab('my-team')" style="padding: 8px 16px; cursor: pointer; border-bottom: 2px solid #1890ff; color: #1890ff; font-size: 14px;">我的MDT团队</div>
                            <div class="sub-tab" data-subtab="all-team" onclick="switchTeamTab('all-team')" style="padding: 8px 16px; cursor: pointer; color: #666; font-size: 14px;">全部MDT团队</div>
                        </div>
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入团队名称" id="teamSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleTeamFilter()">🔽</button>
                            <button class="create-btn" onclick="showCreateTeamForm()">
                                <span>➕</span>
                                <span>创建团队</span>
                            </button>
                        </div>
                    </div>
                    <!-- 筛选面板 -->
                    <div id="team-filter-panel" class="filter-panel" style="display: none; background: #fff; padding: 16px; border-radius: 8px; margin-bottom: 16px; border: 1px solid #e8e8e8;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">团队名称</label>
                                <input type="text" class="form-input" placeholder="请输入团队名称">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">管理员</label>
                                <input type="text" class="form-input" placeholder="请输入管理员姓名">
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetTeamFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applyTeamFilter()">查询</button>
                        </div>
                    </div>
                    <!-- 我的MDT团队 -->
                    <div id="my-team-content" class="team-content">
                        <div class="card-grid" style="grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));">
                            <div class="team-card" style="cursor: pointer;" onclick="viewTeamDetail(1)">
                                <div class="team-card-header" style="display: flex; justify-content: space-between; align-items: flex-start;">
                                    <div style="flex: 1;">
                                        <div class="team-name">江苏省乳腺癌MDT团队</div>
                                        <div class="team-admin">管理员：张主任</div>
                                    </div>
                                    <div style="display: flex; gap: 8px; align-items: center;" onclick="event.stopPropagation();">
                                        <button class="toolbar-icon" title="查看详情" onclick="event.stopPropagation(); viewTeamDetail(1)" style="padding: 4px; border: none; background: transparent; cursor: pointer; font-size: 16px;">👁️</button>
                                        <button class="toolbar-icon" title="更多操作" onclick="event.stopPropagation(); showTeamMoreActions(1)" style="padding: 4px; border: none; background: transparent; cursor: pointer; font-size: 16px; position: relative;">⋮</button>
                                    </div>
                                </div>
                                <div class="team-stats">
                                    <div class="stat-item">
                                        <div class="stat-number">12</div>
                                        <div class="stat-label">团队成员</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-number">5</div>
                                        <div class="stat-label">参与科室</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-number">28</div>
                                        <div class="stat-label">MDT次数</div>
                                    </div>
                                </div>
                                <div class="team-card-footer" onclick="event.stopPropagation();">
                                    <div class="team-departments">
                                        <span class="dept-tag">乳腺外科</span>
                                        <span class="dept-tag">肿瘤内科</span>
                                        <span class="dept-tag">放疗科</span>
                                        <span class="dept-tag">病理科</span>
                                        <span class="dept-tag">影像科</span>
                                    </div>
                                    <div class="action-btns">
                                        <a class="action-link" onclick="event.stopPropagation(); viewTeamDetail(1)">查看</a>
                                        <a class="action-link" onclick="event.stopPropagation(); manageTeam(1)">管理</a>
                                    </div>
                                </div>
                            </div>
                            <div class="team-card" style="cursor: pointer;" onclick="viewTeamDetail(2)">
                                <div class="team-card-header" style="display: flex; justify-content: space-between; align-items: flex-start;">
                                    <div style="flex: 1;">
                                        <div class="team-name">南京地区MDT协作组</div>
                                        <div class="team-admin">管理员：李主任</div>
                                    </div>
                                    <div style="display: flex; gap: 8px; align-items: center;" onclick="event.stopPropagation();">
                                        <button class="toolbar-icon" title="查看详情" onclick="event.stopPropagation(); viewTeamDetail(2)" style="padding: 4px; border: none; background: transparent; cursor: pointer; font-size: 16px;">👁️</button>
                                        <button class="toolbar-icon" title="更多操作" onclick="event.stopPropagation(); showTeamMoreActions(2)" style="padding: 4px; border: none; background: transparent; cursor: pointer; font-size: 16px; position: relative;">⋮</button>
                                    </div>
                                </div>
                                <div class="team-stats">
                                    <div class="stat-item">
                                        <div class="stat-number">8</div>
                                        <div class="stat-label">团队成员</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-number">4</div>
                                        <div class="stat-label">参与科室</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-number">15</div>
                                        <div class="stat-label">MDT次数</div>
                                    </div>
                                </div>
                                <div class="team-card-footer">
                                    <div class="team-departments">
                                        <span class="dept-tag">乳腺外科</span>
                                        <span class="dept-tag">肿瘤内科</span>
                                        <span class="dept-tag">放疗科</span>
                                        <span class="dept-tag">影像科</span>
                                    </div>
                                    <div class="action-btns">
                                        <a class="action-link" onclick="viewTeamDetail(2)">查看</a>
                                        <a class="action-link" onclick="manageTeam(2)">管理</a>
                                    </div>
                                </div>
                            </div>
                            <div class="team-card">
                                <div class="team-card-header">
                                    <div class="team-name">早期乳腺癌MDT团队</div>
                                    <div class="team-admin">管理员：王主任</div>
                                </div>
                                <div class="team-stats">
                                    <div class="stat-item">
                                        <div class="stat-number">6</div>
                                        <div class="stat-label">团队成员</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-number">3</div>
                                        <div class="stat-label">参与科室</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-number">10</div>
                                        <div class="stat-label">MDT次数</div>
                                    </div>
                                </div>
                                <div class="team-card-footer">
                                    <div class="team-departments">
                                        <span class="dept-tag">乳腺外科</span>
                                        <span class="dept-tag">肿瘤内科</span>
                                        <span class="dept-tag">病理科</span>
                                    </div>
                                    <div class="action-btns">
                                        <a class="action-link" onclick="viewTeamDetail(3)">查看</a>
                                        <a class="action-link" onclick="manageTeam(3)">管理</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 全部MDT团队 -->
                    <div id="all-team-content" class="team-content" style="display: none;">
                        <div class="card-grid" style="grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));">
                            <div class="team-card">
                                <div class="team-card-header">
                                    <div class="team-name">上海乳腺癌MDT中心</div>
                                    <div class="team-admin">管理员：陈主任</div>
                                </div>
                                <div class="team-stats">
                                    <div class="stat-item">
                                        <div class="stat-number">15</div>
                                        <div class="stat-label">团队成员</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-number">6</div>
                                        <div class="stat-label">参与科室</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-number">45</div>
                                        <div class="stat-label">MDT次数</div>
                                    </div>
                                </div>
                                <div class="team-card-footer" onclick="event.stopPropagation();">
                                    <div class="team-departments">
                                        <span class="dept-tag">乳腺外科</span>
                                        <span class="dept-tag">肿瘤内科</span>
                                        <span class="dept-tag">放疗科</span>
                                        <span class="dept-tag">病理科</span>
                                        <span class="dept-tag">影像科</span>
                                        <span class="dept-tag">核医学科</span>
                                    </div>
                                    <div class="action-btns">
                                        <a class="action-link" onclick="event.stopPropagation(); viewTeamDetail(4)">查看</a>
                                        <a class="action-link" onclick="event.stopPropagation(); joinTeam(4)">加入</a>
                                    </div>
                                </div>
                            </div>
                            <div class="team-card" style="cursor: pointer;" onclick="viewTeamDetail(5)">
                                <div class="team-card-header" style="display: flex; justify-content: space-between; align-items: flex-start;">
                                    <div style="flex: 1;">
                                        <div class="team-name">北京乳腺癌MDT协作组</div>
                                        <div class="team-admin">管理员：刘主任</div>
                                    </div>
                                    <div style="display: flex; gap: 8px; align-items: center;" onclick="event.stopPropagation();">
                                        <button class="toolbar-icon" title="查看详情" onclick="event.stopPropagation(); viewTeamDetail(5)" style="padding: 4px; border: none; background: transparent; cursor: pointer; font-size: 16px;">👁️</button>
                                        <button class="toolbar-icon" title="更多操作" onclick="event.stopPropagation(); showTeamMoreActions(5)" style="padding: 4px; border: none; background: transparent; cursor: pointer; font-size: 16px; position: relative;">⋮</button>
                                    </div>
                                </div>
                                <div class="team-stats">
                                    <div class="stat-item">
                                        <div class="stat-number">18</div>
                                        <div class="stat-label">团队成员</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-number">7</div>
                                        <div class="stat-label">参与科室</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-number">52</div>
                                        <div class="stat-label">MDT次数</div>
                                    </div>
                                </div>
                                <div class="team-card-footer" onclick="event.stopPropagation();">
                                    <div class="team-departments">
                                        <span class="dept-tag">乳腺外科</span>
                                        <span class="dept-tag">肿瘤内科</span>
                                        <span class="dept-tag">放疗科</span>
                                        <span class="dept-tag">病理科</span>
                                        <span class="dept-tag">影像科</span>
                                        <span class="dept-tag">核医学科</span>
                                        <span class="dept-tag">心理科</span>
                                    </div>
                                    <div class="action-btns">
                                        <a class="action-link" onclick="event.stopPropagation(); viewTeamDetail(5)">查看</a>
                                        <a class="action-link" onclick="event.stopPropagation(); joinTeam(5)">加入</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 5 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>10 条/页</option>
                                    <option>20 条/页</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 共享病例库页面 -->
                <div id="page-case" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 共享病例库
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入医院名称" id="caseSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleCaseFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('case', this)" style="position: relative;">⚙️</button>
                            <div id="caseTableSettings" class="table-settings-tooltip" style="display: none;">
                                <div class="table-settings-header">
                                    <div style="font-weight: 500; font-size: 14px;">表头设置</div>
                                    <button class="modal-close" onclick="closeTableSettings('case')" style="position: static; width: 20px; height: 20px; font-size: 14px;">×</button>
                                </div>
                                <div style="margin-bottom: 12px;">
                                    <div class="search-box" style="max-width: 100%;">
                                        <span>🔍</span>
                                        <input type="text" placeholder="搜索字段" id="caseFieldSearch" onkeyup="filterTableFields('case', this.value)" style="width: 100%;">
                                    </div>
                                </div>
                                <div style="max-height: 300px; overflow-y: auto;">
                                    <div style="font-weight: 500; margin-bottom: 12px; color: #666; font-size: 12px;">显示字段</div>
                                    <div id="caseFieldList" style="display: grid; gap: 8px;">
                                        <label class="field-item" data-field="序号"><span>序号</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('case', '序号', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="患者姓名"><span>患者姓名</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('case', '患者姓名', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="性别"><span>性别</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('case', '性别', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="病例标签"><span>病例标签</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('case', '病例标签', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="诊断"><span>诊断</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('case', '诊断', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="最新肿瘤分期"><span>最新肿瘤分期</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('case', '最新肿瘤分期', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="医生姓名"><span>医生姓名</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('case', '医生姓名', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="医院名称"><span>医院名称</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('case', '医院名称', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="操作"><span>操作</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('case', '操作', this.checked)"><span class="switch-slider"></span></label></label>
                                    </div>
                                </div>
                                <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid #e8e8e8;">
                                    <div style="font-weight: 500; margin-bottom: 12px; color: #999; font-size: 12px;">未显示字段</div>
                                    <div style="color: #999; font-size: 12px;">暂无字段</div>
                                </div>
                            </div>
                            <button class="create-btn" onclick="showShareCaseForm()">
                                <span>➕</span>
                                <span>共享病例</span>
                            </button>
                        </div>
                    </div>
                    <!-- 筛选面板 -->
                    <div id="case-filter-panel" class="filter-panel" style="display: none; background: #fff; padding: 16px; border-radius: 8px; margin-bottom: 16px; border: 1px solid #e8e8e8;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">患者姓名</label>
                                <input type="text" class="form-input" placeholder="请输入患者姓名">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">诊断</label>
                                <input type="text" class="form-input" placeholder="请输入诊断">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">医院名称</label>
                                <input type="text" class="form-input" placeholder="请输入医院名称">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">医生姓名</label>
                                <input type="text" class="form-input" placeholder="请输入医生姓名">
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetCaseFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applyCaseFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>患者姓名</th>
                                    <th>性别</th>
                                    <th>病例标签</th>
                                    <th>诊断</th>
                                    <th>最新肿瘤分期</th>
                                    <th>医生姓名</th>
                                    <th>医院名称</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>张**</td>
                                    <td>女</td>
                                    <td><span style="font-size:12px;color:#666;">早期乳腺癌</span></td>
                                    <td>左侧乳腺癌</td>
                                    <td>T2N0M0</td>
                                    <td>张医生</td>
                                    <td>江苏省人民医院</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewCaseDetail(1)">病例详情</a>
                                            <a class="action-link" onclick="viewConsultationDetail(1)">会诊详情</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>李**</td>
                                    <td>女</td>
                                    <td><span style="font-size:12px;color:#666;">进展期乳腺癌</span></td>
                                    <td>右侧乳腺癌</td>
                                    <td>T3N1M0</td>
                                    <td>李医生</td>
                                    <td>南京医科大学第一附属医院</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewCaseDetail(2)">病例详情</a>
                                            <a class="action-link" onclick="viewConsultationDetail(2)">会诊详情</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>王**</td>
                                    <td>女</td>
                                    <td><span style="font-size:12px;color:#666;">早期乳腺癌</span></td>
                                    <td>左侧乳腺癌</td>
                                    <td>T1N0M0</td>
                                    <td>王医生</td>
                                    <td>江苏省肿瘤医院</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewCaseDetail(3)">病例详情</a>
                                            <a class="action-link" onclick="viewConsultationDetail(3)">会诊详情</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>赵**</td>
                                    <td>女</td>
                                    <td><span style="font-size:12px;color:#666;">进展期乳腺癌</span></td>
                                    <td>右侧乳腺癌</td>
                                    <td>T2N2M0</td>
                                    <td>赵医生</td>
                                    <td>江苏省人民医院</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewCaseDetail(4)">病例详情</a>
                                            <a class="action-link" onclick="viewConsultationDetail(4)">会诊详情</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td>孙**</td>
                                    <td>女</td>
                                    <td><span style="font-size:12px;color:#666;">早期乳腺癌</span></td>
                                    <td>左侧乳腺癌</td>
                                    <td>T1N0M0</td>
                                    <td>孙医生</td>
                                    <td>南京医科大学第一附属医院</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewCaseDetail(5)">病例详情</a>
                                            <a class="action-link" onclick="viewConsultationDetail(5)">会诊详情</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>6</td>
                                    <td>周**</td>
                                    <td>女</td>
                                    <td><span style="font-size:12px;color:#666;">进展期乳腺癌</span></td>
                                    <td>右侧乳腺癌</td>
                                    <td>T3N2M0</td>
                                    <td>周医生</td>
                                    <td>江苏省肿瘤医院</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewCaseDetail(6)">病例详情</a>
                                            <a class="action-link" onclick="viewConsultationDetail(6)">会诊详情</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>7</td>
                                    <td>吴**</td>
                                    <td>女</td>
                                    <td><span style="font-size:12px;color:#666;">早期乳腺癌</span></td>
                                    <td>左侧乳腺癌</td>
                                    <td>T2N1M0</td>
                                    <td>吴医生</td>
                                    <td>江苏省人民医院</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewCaseDetail(7)">病例详情</a>
                                            <a class="action-link" onclick="viewConsultationDetail(7)">会诊详情</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>8</td>
                                    <td>郑**</td>
                                    <td>女</td>
                                    <td><span style="font-size:12px;color:#666;">进展期乳腺癌</span></td>
                                    <td>右侧乳腺癌</td>
                                    <td>T2N2M0</td>
                                    <td>郑医生</td>
                                    <td>南京医科大学第一附属医院</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewCaseDetail(8)">病例详情</a>
                                            <a class="action-link" onclick="viewConsultationDetail(8)">会诊详情</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 28 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <span class="pagination-page">2</span>
                            <span class="pagination-page">3</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>15 条/页</option>
                                    <option>30 条/页</option>
                                    <option>50 条/页</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 随访管理页面 -->
                <div id="page-followup" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 随访管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入患者姓名" id="followupSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleFollowupFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('followup', this)" style="position: relative;">⚙️</button>
                            <div id="followupTableSettings" class="table-settings-tooltip" style="display: none;">
                                <div class="table-settings-header">
                                    <div style="font-weight: 500; font-size: 14px;">表头设置</div>
                                    <button class="modal-close" onclick="closeTableSettings('followup')" style="position: static; width: 20px; height: 20px; font-size: 14px;">×</button>
                                </div>
                                <div style="margin-bottom: 12px;">
                                    <div class="search-box" style="max-width: 100%;">
                                        <span>🔍</span>
                                        <input type="text" placeholder="搜索字段" id="followupFieldSearch" onkeyup="filterTableFields('followup', this.value)" style="width: 100%;">
                                    </div>
                                </div>
                                <div style="max-height: 300px; overflow-y: auto;">
                                    <div style="font-weight: 500; margin-bottom: 12px; color: #666; font-size: 12px;">显示字段</div>
                                    <div id="followupFieldList" style="display: grid; gap: 8px;">
                                        <label class="field-item" data-field="序号"><span>序号</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('followup', '序号', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="会诊时间"><span>会诊时间</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('followup', '会诊时间', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="患者姓名"><span>患者姓名</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('followup', '患者姓名', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="患者性别"><span>患者性别</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('followup', '患者性别', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="医生姓名"><span>医生姓名</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('followup', '医生姓名', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="医院名称"><span>医院名称</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('followup', '医院名称', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="诊断"><span>诊断</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('followup', '诊断', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="随访次数"><span>随访次数</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('followup', '随访次数', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="首次随访日期"><span>首次随访日期</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('followup', '首次随访日期', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="最后随访日期"><span>最后随访日期</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('followup', '最后随访日期', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="操作"><span>操作</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('followup', '操作', this.checked)"><span class="switch-slider"></span></label></label>
                                    </div>
                                </div>
                                <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid #e8e8e8;">
                                    <div style="font-weight: 500; margin-bottom: 12px; color: #999; font-size: 12px;">未显示字段</div>
                                    <div style="color: #999; font-size: 12px;">暂无字段</div>
                                </div>
                            </div>
                            <button class="create-btn" onclick="showCreateFollowupForm()">
                                <span>➕</span>
                                <span>创建随访</span>
                            </button>
                        </div>
                    </div>
                    <!-- 筛选面板 -->
                    <div id="followup-filter-panel" class="filter-panel" style="display: none; background: #fff; padding: 16px; border-radius: 8px; margin-bottom: 16px; border: 1px solid #e8e8e8;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">患者姓名</label>
                                <input type="text" class="form-input" placeholder="请输入患者姓名">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">随访方式</label>
                                <select class="form-input">
                                    <option>请选择</option>
                                    <option>电话随访</option>
                                    <option>门诊随访</option>
                                    <option>微信随访</option>
                                    <option>邮件随访</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">随访结果</label>
                                <select class="form-input">
                                    <option>请选择</option>
                                    <option>良好</option>
                                    <option>一般</option>
                                    <option>较差</option>
                                    <option>待复查</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">随访时间范围</label>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <input type="date" class="form-input" style="flex: 1;">
                                    <span>至</span>
                                    <input type="date" class="form-input" style="flex: 1;">
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetFollowupFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applyFollowupFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th style="cursor: pointer;" onclick="sortTable('followup', 'time', 'followupTimeHeader', 'followupTimeSort')" id="followupTimeHeader">
                                        会诊时间
                                        <span class="sort-icon" id="followupTimeSort" style="display: inline-flex; flex-direction: column; margin-left: 4px; font-size: 10px; color: #999;">
                                            <span class="caret-up" style="line-height: 0.8;">▲</span>
                                            <span class="caret-down" style="line-height: 0.8;">▼</span>
                                        </span>
                                    </th>
                                    <th>患者姓名</th>
                                    <th>患者性别</th>
                                    <th>医生姓名</th>
                                    <th>医院名称</th>
                                    <th>诊断</th>
                                    <th style="cursor: pointer;" onclick="sortTable('followup', 'count', 'followupCountHeader', 'followupCountSort')" id="followupCountHeader">
                                        随访次数
                                        <span class="sort-icon" id="followupCountSort" style="display: inline-flex; flex-direction: column; margin-left: 4px; font-size: 10px; color: #999;">
                                            <span class="caret-up" style="line-height: 0.8;">▲</span>
                                            <span class="caret-down" style="line-height: 0.8;">▼</span>
                                        </span>
                                    </th>
                                    <th>首次随访日期</th>
                                    <th>最后随访日期</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>2025-01-08 14:00</td>
                                    <td><a class="action-link" onclick="viewPatientDetail(1)" style="text-decoration: none;">张三</a></td>
                                    <td>女</td>
                                    <td>张医生</td>
                                    <td>江苏省人民医院</td>
                                    <td>左侧乳腺癌</td>
                                    <td>3</td>
                                    <td>2025-01-05</td>
                                    <td>2025-01-08</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewFollowup(1)">查看</a>
                                            <a class="action-link" onclick="editFollowup(1)">编辑</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>2025-01-07 10:30</td>
                                    <td><a class="action-link" onclick="viewPatientDetail(2)" style="text-decoration: none;">李四</a></td>
                                    <td>女</td>
                                    <td>李医生</td>
                                    <td>南京医科大学第一附属医院</td>
                                    <td>右侧乳腺癌</td>
                                    <td>2</td>
                                    <td>2025-01-05</td>
                                    <td>2025-01-07</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewFollowup(2)">查看</a>
                                            <a class="action-link" onclick="editFollowup(2)">编辑</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>2025-01-06 09:00</td>
                                    <td><a class="action-link" onclick="viewPatientDetail(3)" style="text-decoration: none;">王五</a></td>
                                    <td>女</td>
                                    <td>王医生</td>
                                    <td>江苏省肿瘤医院</td>
                                    <td>左侧乳腺癌</td>
                                    <td>1</td>
                                    <td>2025-01-06</td>
                                    <td>2025-01-06</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewFollowup(3)">查看</a>
                                            <a class="action-link" onclick="editFollowup(3)">编辑</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>2025-01-05 16:00</td>
                                    <td><a class="action-link" onclick="viewPatientDetail(4)" style="text-decoration: none;">赵六</a></td>
                                    <td>女</td>
                                    <td>赵医生</td>
                                    <td>江苏省人民医院</td>
                                    <td>右侧乳腺癌</td>
                                    <td>4</td>
                                    <td>2025-01-02</td>
                                    <td>2025-01-05</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewFollowup(4)">查看</a>
                                            <a class="action-link" onclick="editFollowup(4)">编辑</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 32 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <span class="pagination-page">2</span>
                            <span class="pagination-page">3</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>24 条/页</option>
                                    <option>50 条/页</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 合同审核列表页面 -->
                <div id="page-contract-verification" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 审核列表
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入专家名称" id="contractVerificationSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleContractVerificationFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('contractVerification', this)" style="position: relative;">⚙️</button>
                            <div id="contractVerificationTableSettings" class="table-settings-tooltip" style="display: none;">
                                <div class="table-settings-header">
                                    <div style="font-weight: 500; font-size: 14px;">表头设置</div>
                                    <button class="modal-close" onclick="closeTableSettings('contractVerification')" style="position: static; width: 20px; height: 20px; font-size: 14px;">×</button>
                                </div>
                                <div style="margin-bottom: 12px;">
                                    <div class="search-box" style="max-width: 100%;">
                                        <span>🔍</span>
                                        <input type="text" placeholder="搜索字段" id="contractVerificationFieldSearch" onkeyup="filterTableFields('contractVerification', this.value)" style="width: 100%;">
                                    </div>
                                </div>
                                <div style="max-height: 300px; overflow-y: auto;">
                                    <div style="font-weight: 500; margin-bottom: 12px; color: #666; font-size: 12px;">显示字段</div>
                                    <div id="contractVerificationFieldList" style="display: grid; gap: 8px;">
                                        <label class="field-item" data-field="序号"><span>序号</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractVerification', '序号', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="模板名称"><span>模板名称</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractVerification', '模板名称', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="专家名字"><span>专家名字</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractVerification', '专家名字', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="状态"><span>状态</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractVerification', '状态', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="是否已绑定医生"><span>是否已绑定医生</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractVerification', '是否已绑定医生', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="职称"><span>职称</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractVerification', '职称', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="单位"><span>单位</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractVerification', '单位', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="手机号码"><span>手机号码</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractVerification', '手机号码', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="身份证号"><span>身份证号</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractVerification', '身份证号', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="银行卡号"><span>银行卡号</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractVerification', '银行卡号', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="开户行信息"><span>开户行信息</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractVerification', '开户行信息', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="提交时间"><span>提交时间</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractVerification', '提交时间', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="操作"><span>操作</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractVerification', '操作', this.checked)"><span class="switch-slider"></span></label></label>
                                    </div>
                                </div>
                            </div>
                            <button class="toolbar-icon" title="下载" onclick="exportContractVerification()">📥</button>
                        </div>
                    </div>
                    <!-- 筛选面板 -->
                    <div id="contract-verification-filter-panel" class="filter-panel" style="display: none; background: #fff; padding: 16px; border-radius: 8px; margin-bottom: 16px; border: 1px solid #e8e8e8;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">专家名称</label>
                                <input type="text" class="form-input" placeholder="请输入专家名称">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">状态</label>
                                <select class="form-input">
                                    <option>全部</option>
                                    <option>未审核</option>
                                    <option>审核通过</option>
                                    <option>审核拒绝</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">是否已绑定医生</label>
                                <select class="form-input">
                                    <option>全部</option>
                                    <option>已绑定</option>
                                    <option>未绑定</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">提交时间范围</label>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <input type="date" class="form-input" style="flex: 1;">
                                    <span>至</span>
                                    <input type="date" class="form-input" style="flex: 1;">
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetContractVerificationFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applyContractVerificationFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>模板名称</th>
                                    <th>专家名字</th>
                                    <th>状态</th>
                                    <th>是否已绑定医生</th>
                                    <th>职称</th>
                                    <th>单位</th>
                                    <th>手机号码</th>
                                    <th>身份证号</th>
                                    <th>银行卡号</th>
                                    <th>开户行信息</th>
                                    <th>提交时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>青蓝之约劳务协议-20251218</td>
                                    <td>测试</td>
                                    <td><span class="status-tag">未审核</span></td>
                                    <td>未绑定</td>
                                    <td>测试</td>
                                    <td>测试</td>
                                    <td>13570257584</td>
                                    <td>123456789101112</td>
                                    <td>22222222</td>
                                    <td>天河</td>
                                    <td>2025-12-19 20:06:51</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="previewContractVerification(1)">预览</a>
                                            <a class="action-link" onclick="auditContractVerification(1)">审核</a>
                                            <a class="action-link" onclick="bindDoctorContractVerification(1)">绑定</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>2025艰难梭菌治疗交流协议-20251215</td>
                                    <td>钟楚红</td>
                                    <td><span class="status-tag">未审核</span></td>
                                    <td>未绑定</td>
                                    <td>演员</td>
                                    <td>香港</td>
                                    <td>13535239647</td>
                                    <td>440823199605047845</td>
                                    <td>6212006425458754</td>
                                    <td>天河支行</td>
                                    <td>2025-12-16 15:39:30</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="previewContractVerification(2)">预览</a>
                                            <a class="action-link" onclick="auditContractVerification(2)">审核</a>
                                            <a class="action-link" onclick="bindDoctorContractVerification(2)">绑定</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>11</td>
                                    <td>和黄医路肠优劳务协议-20250729</td>
                                    <td>邹测试</td>
                                    <td><span class="status-tag complete">审核通过</span></td>
                                    <td>未绑定</td>
                                    <td>测试</td>
                                    <td>测试</td>
                                    <td>13640129681</td>
                                    <td>440221199403123512</td>
                                    <td>1</td>
                                    <td>测试测试</td>
                                    <td>2025-07-29 20:30:36</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="previewContractVerification(11)">预览</a>
                                            <a class="action-link" onclick="viewContractVerification(11)">查看</a>
                                            <a class="action-link" onclick="bindDoctorContractVerification(11)">绑定</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 110 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <span class="pagination-page">2</span>
                            <span class="pagination-page">3</span>
                            <span class="pagination-page">4</span>
                            <span class="pagination-page">5</span>
                            <span class="pagination-page">•••</span>
                            <span class="pagination-page">8</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>15 条/页</option>
                                    <option>30 条/页</option>
                                    <option>50 条/页</option>
                                </select>
                            </div>
                            <div style="margin-left: 12px; display: flex; align-items: center; gap: 8px;">
                                <span>跳至</span>
                                <input type="number" style="width: 60px; padding: 4px; border: 1px solid #d9d9d9; border-radius: 4px;">
                                <span>页</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 合同模板页面 -->
                <div id="page-contract-template" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 合同模板
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入模板名称" id="contractTemplateSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleContractTemplateFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('contractTemplate', this)" style="position: relative;">⚙️</button>
                            <div id="contractTemplateTableSettings" class="table-settings-tooltip" style="display: none;">
                                <div class="table-settings-header">
                                    <div style="font-weight: 500; font-size: 14px;">表头设置</div>
                                    <button class="modal-close" onclick="closeTableSettings('contractTemplate')" style="position: static; width: 20px; height: 20px; font-size: 14px;">×</button>
                                </div>
                                <div style="margin-bottom: 12px;">
                                    <div class="search-box" style="max-width: 100%;">
                                        <span>🔍</span>
                                        <input type="text" placeholder="搜索字段" id="contractTemplateFieldSearch" onkeyup="filterTableFields('contractTemplate', this.value)" style="width: 100%;">
                                    </div>
                                </div>
                                <div style="max-height: 300px; overflow-y: auto;">
                                    <div style="font-weight: 500; margin-bottom: 12px; color: #666; font-size: 12px;">显示字段</div>
                                    <div id="contractTemplateFieldList" style="display: grid; gap: 8px;">
                                        <label class="field-item" data-field="序号"><span>序号</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractTemplate', '序号', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="模板名称"><span>模板名称</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractTemplate', '模板名称', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="模板类型"><span>模板类型</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractTemplate', '模板类型', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="创建时间"><span>创建时间</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractTemplate', '创建时间', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="操作"><span>操作</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('contractTemplate', '操作', this.checked)"><span class="switch-slider"></span></label></label>
                                    </div>
                                </div>
                            </div>
                            <button class="create-btn" onclick="showCreateContractTemplateForm()">
                                <span>➕</span>
                                <span>创建模板</span>
                            </button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>模板名称</th>
                                    <th>模板类型</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="viewContractTemplate(1)" style="text-decoration: none;">青蓝之约劳务协议</a></td>
                                    <td>劳务协议</td>
                                    <td>2025-12-18 10:30</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewContractTemplate(1)">查看</a>
                                            <a class="action-link" onclick="editContractTemplate(1)">编辑</a>
                                            <a class="action-link danger" onclick="deleteContractTemplate(1)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td><a class="action-link" onclick="viewContractTemplate(2)" style="text-decoration: none;">2025艰难梭菌治疗交流协议</a></td>
                                    <td>交流协议</td>
                                    <td>2025-12-15 14:20</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewContractTemplate(2)">查看</a>
                                            <a class="action-link" onclick="editContractTemplate(2)">编辑</a>
                                            <a class="action-link danger" onclick="deleteContractTemplate(2)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 25 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <span class="pagination-page">2</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>15 条/页</option>
                                    <option>30 条/页</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 机构信息页面 -->
                <div id="page-organization" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 机构信息
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入机构名称" id="organizationSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleOrganizationFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('organization', this)" style="position: relative;">⚙️</button>
                            <div id="organizationTableSettings" class="table-settings-tooltip" style="display: none;">
                                <div class="table-settings-header">
                                    <div style="font-weight: 500; font-size: 14px;">表头设置</div>
                                    <button class="modal-close" onclick="closeTableSettings('organization')" style="position: static; width: 20px; height: 20px; font-size: 14px;">×</button>
                                </div>
                                <div style="margin-bottom: 12px;">
                                    <div class="search-box" style="max-width: 100%;">
                                        <span>🔍</span>
                                        <input type="text" placeholder="搜索字段" id="organizationFieldSearch" onkeyup="filterTableFields('organization', this.value)" style="width: 100%;">
                                    </div>
                                </div>
                                <div style="max-height: 300px; overflow-y: auto;">
                                    <div style="font-weight: 500; margin-bottom: 12px; color: #666; font-size: 12px;">显示字段</div>
                                    <div id="organizationFieldList" style="display: grid; gap: 8px;">
                                        <label class="field-item" data-field="序号"><span>序号</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('organization', '序号', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="机构名称"><span>机构名称</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('organization', '机构名称', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="机构负责人"><span>机构负责人</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('organization', '机构负责人', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="创建时间"><span>创建时间</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('organization', '创建时间', this.checked)"><span class="switch-slider"></span></label></label>
                                        <label class="field-item" data-field="操作"><span>操作</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('organization', '操作', this.checked)"><span class="switch-slider"></span></label></label>
                                    </div>
                                </div>
                            </div>
                            <button class="create-btn" onclick="showCreateOrganizationForm()">
                                <span>➕</span>
                                <span>创建机构</span>
                            </button>
                        </div>
                    </div>
                    <!-- 筛选面板 -->
                    <div id="organization-filter-panel" class="filter-panel" style="display: none; background: #fff; padding: 16px; border-radius: 8px; margin-bottom: 16px; border: 1px solid #e8e8e8;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">机构名称</label>
                                <input type="text" class="form-input" placeholder="请输入机构名称">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">机构负责人</label>
                                <input type="text" class="form-input" placeholder="请输入负责人姓名">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">创建时间范围</label>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <input type="date" class="form-input" style="flex: 1;">
                                    <span>至</span>
                                    <input type="date" class="form-input" style="flex: 1;">
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetOrganizationFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applyOrganizationFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>机构名称</th>
                                    <th>机构负责人</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="viewOrganizationDetail(1)" style="text-decoration: none;">ah测试机构</a></td>
                                    <td>安徽测试负责人</td>
                                    <td>2025-10-11 14:43:45</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewOrganizationDetail(1)">查看</a>
                                            <a class="action-link" onclick="editOrganization(1)">编辑</a>
                                            <a class="action-link danger" onclick="deleteOrganization(1)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td><a class="action-link" onclick="viewOrganizationDetail(2)" style="text-decoration: none;">机构测试2501</a></td>
                                    <td>机构负责人2501</td>
                                    <td>2025-08-21 16:21:17</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewOrganizationDetail(2)">查看</a>
                                            <a class="action-link" onclick="editOrganization(2)">编辑</a>
                                            <a class="action-link danger" onclick="deleteOrganization(2)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td><a class="action-link" onclick="viewOrganizationDetail(3)" style="text-decoration: none;">结直肠癌机构</a></td>
                                    <td>金城</td>
                                    <td>2025-05-29 20:56:55</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewOrganizationDetail(3)">查看</a>
                                            <a class="action-link" onclick="editOrganization(3)">编辑</a>
                                            <a class="action-link danger" onclick="deleteOrganization(3)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 58 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <span class="pagination-page">2</span>
                            <span class="pagination-page">3</span>
                            <span class="pagination-page">4</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>15 条/页</option>
                                    <option>30 条/页</option>
                                    <option>50 条/页</option>
                                </select>
                            </div>
                            <div style="margin-left: 12px; display: flex; align-items: center; gap: 8px;">
                                <span>跳至</span>
                                <input type="number" style="width: 60px; padding: 4px; border: 1px solid #d9d9d9; border-radius: 4px;">
                                <span>页</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 项目信息页面 -->
                <div id="page-project" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 项目信息
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入项目名称" id="projectSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleProjectFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('project', this)" style="position: relative;">⚙️</button>
                            <button class="create-btn" onclick="showCreateProjectForm()">
                                <span>➕</span>
                                <span>创建项目</span>
                            </button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>项目名称</th>
                                    <th>所属机构</th>
                                    <th>项目类型</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="viewProjectDetail(1)" style="text-decoration: none;">乳腺癌MDT项目</a></td>
                                    <td>江苏省人民医院</td>
                                    <td>MDT项目</td>
                                    <td>2025-01-05 10:30</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewProjectDetail(1)">查看</a>
                                            <a class="action-link" onclick="editProject(1)">编辑</a>
                                            <a class="action-link danger" onclick="deleteProject(1)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 15 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>15 条/页</option>
                                    <option>30 条/页</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 系统管理：账号管理 -->
                <div id="page-sys-account" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 系统管理 / 账号管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入账号" id="sysAccountSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleSysAccountFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('sysAccount', this)" style="position: relative;">⚙️</button>
                            <button class="create-btn" onclick="showCreateSysAccountForm()">
                                <span>➕</span>
                                <span>创建账号</span>
                            </button>
                        </div>
                    </div>
                    <div class="filter-panel" id="sys-account-filter-panel" style="display: none;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">账号</label>
                                <input type="text" class="form-input" placeholder="请输入账号">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">状态</label>
                                <select class="form-input">
                                    <option>全部</option>
                                    <option>已启用</option>
                                    <option>已禁用</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">角色</label>
                                <input type="text" class="form-input" placeholder="请输入角色">
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetSysAccountFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applySysAccountFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>账号</th>
                                    <th>真实姓名</th>
                                    <th>状态</th>
                                    <th>性别</th>
                                    <th>参与项目</th>
                                    <th>手机号码</th>
                                    <th>角色</th>
                                    <th>最后登录时间</th>
                                    <th>创建时间</th>
                                    <th>修改时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>qlyz</td>
                                    <td>全量项目医助</td>
                                    <td><span class="status-tag complete">已启用</span></td>
                                    <td>-</td>
                                    <td>查看</td>
                                    <td>-</td>
                                    <td>医生助理</td>
                                    <td>2026-01-08 12:06:27</td>
                                    <td>2026-01-08 12:05:50</td>
                                    <td>2026-01-08 12:05:57</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="disableSysAccount(1)">禁用</a>
                                            <a class="action-link" onclick="editSysAccount(1)">编辑</a>
                                            <a class="action-link danger" onclick="removeSysAccount(1)">移除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 603 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <span class="pagination-page">2</span>
                            <span class="pagination-page">3</span>
                            <span class="pagination-page">4</span>
                            <span class="pagination-page">5</span>
                            <span class="pagination-page">•••</span>
                            <span class="pagination-page">41</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>15 条/页</option>
                                    <option>30 条/页</option>
                                    <option>50 条/页</option>
                                </select>
                            </div>
                            <div style="margin-left: 12px; display: flex; align-items: center; gap: 8px;">
                                <span>跳至</span>
                                <input type="number" style="width: 60px; padding: 4px; border: 1px solid #d9d9d9; border-radius: 4px;">
                                <span>页</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 系统管理：角色管理 -->
                <div id="page-sys-role" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 系统管理 / 角色管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入角色名称" id="sysRoleSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleSysRoleFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('sysRole', this)" style="position: relative;">⚙️</button>
                            <button class="create-btn" onclick="showCreateSysRoleForm()">
                                <span>➕</span>
                                <span>创建角色</span>
                            </button>
                        </div>
                    </div>
                    <div class="filter-panel" id="sys-role-filter-panel" style="display: none;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">角色名称</label>
                                <input type="text" class="form-input" placeholder="请输入角色名称">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">角色编码</label>
                                <input type="text" class="form-input" placeholder="请输入角色编码">
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetSysRoleFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applySysRoleFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>角色名称</th>
                                    <th>角色编码</th>
                                    <th>角色描述</th>
                                    <th>创建时间</th>
                                    <th>修改时间</th>
                                    <th>绑定</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>管理员</td>
                                    <td>admin</td>
                                    <td>全量权限</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>2025-01-08 10:00</td>
                                    <td><a class="action-link" onclick="bindSysRole(1)">绑定</a></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewSysRole(1)">查看</a>
                                            <a class="action-link" onclick="editSysRole(1)">编辑</a>
                                            <a class="action-link danger" onclick="deleteSysRole(1)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 系统管理：菜单管理 -->
                <div id="page-sys-menu" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 系统管理 / 菜单管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入菜单名称" id="sysMenuSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleSysMenuFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('sysMenu', this)" style="position: relative;">⚙️</button>
                            <button class="create-btn" onclick="showCreateSysMenuForm()">
                                <span>➕</span>
                                <span>创建菜单</span>
                            </button>
                        </div>
                    </div>
                    <div class="filter-panel" id="sys-menu-filter-panel" style="display: none;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">菜单名称</label>
                                <input type="text" class="form-input" placeholder="请输入菜单名称">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">菜单级别</label>
                                <select class="form-input">
                                    <option>全部</option>
                                    <option>一级</option>
                                    <option>二级</option>
                                    <option>三级</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">菜单展示</label>
                                <select class="form-input">
                                    <option>全部</option>
                                    <option>显示</option>
                                    <option>隐藏</option>
                                </select>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetSysMenuFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applySysMenuFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>菜单编码</th>
                                    <th>菜单名称</th>
                                    <th>菜单级别</th>
                                    <th>接口url</th>
                                    <th>类型</th>
                                    <th>菜单展示</th>
                                    <th>备注</th>
                                    <th>创建时间</th>
                                    <th>修改时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sys_home</td>
                                    <td>我的首页</td>
                                    <td>一级</td>
                                    <td>/home</td>
                                    <td>菜单</td>
                                    <td>显示</td>
                                    <td>-</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewSysMenu(1)">查看</a>
                                            <a class="action-link" onclick="editSysMenu(1)">编辑</a>
                                            <a class="action-link danger" onclick="deleteSysMenu(1)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 系统管理：权限组管理 -->
                <div id="page-sys-permission-group" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 系统管理 / 权限组管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入权限组名称" id="sysPermissionGroupSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleSysPermissionGroupFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('sysPermissionGroup', this)" style="position: relative;">⚙️</button>
                            <button class="create-btn" onclick="showCreateSysPermissionGroupForm()">
                                <span>➕</span>
                                <span>新增权限组</span>
                            </button>
                        </div>
                    </div>
                    <div class="filter-panel" id="sys-permission-group-filter-panel" style="display: none;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">权限组名称</label>
                                <input type="text" class="form-input" placeholder="请输入权限组名称">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">描述</label>
                                <input type="text" class="form-input" placeholder="请输入描述">
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetSysPermissionGroupFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applySysPermissionGroupFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>权限组名称</th>
                                    <th>描述</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>管理员组</td>
                                    <td>拥有全部权限</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="editSysPermissionGroup(1)">编辑</a>
                                            <a class="action-link danger" onclick="deleteSysPermissionGroup(1)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 系统管理：病种管理 -->
                <div id="page-sys-disease" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 系统管理 / 病种管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入病种名称" id="sysDiseaseSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleSysDiseaseFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('sysDisease', this)" style="position: relative;">⚙️</button>
                            <button class="create-btn" onclick="showCreateSysDiseaseForm()">
                                <span>➕</span>
                                <span>创建病种</span>
                            </button>
                        </div>
                    </div>
                    <div class="filter-panel" id="sys-disease-filter-panel" style="display: none;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">病种名称</label>
                                <input type="text" class="form-input" placeholder="请输入病种名称">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">创建时间</label>
                                <div style="display: flex; gap: 8px; align-items: center;">
                                    <input type="date" class="form-input" style="flex: 1;">
                                    <span>至</span>
                                    <input type="date" class="form-input" style="flex: 1;">
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetSysDiseaseFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applySysDiseaseFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>病种名称</th>
                                    <th>创建时间</th>
                                    <th>更新时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>乳腺癌</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="editSysDisease(1)">编辑</a>
                                            <a class="action-link danger" onclick="deleteSysDisease(1)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 系统管理页面 -->
                <div id="page-system" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 系统管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入关键词" id="systemSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleSystemFilter()">🔽</button>
                        </div>
                    </div>
                    <div style="background: #fff; padding: 24px; border-radius: 8px;">
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px;">
                            <div class="card-item" onclick="showSystemConfig('user')" style="cursor: pointer;">
                                <div style="font-size: 24px; margin-bottom: 8px;">👤</div>
                                <div style="font-weight: 500;">用户管理</div>
                            </div>
                            <div class="card-item" onclick="showSystemConfig('role')" style="cursor: pointer;">
                                <div style="font-size: 24px; margin-bottom: 8px;">🔐</div>
                                <div style="font-weight: 500;">角色管理</div>
                            </div>
                            <div class="card-item" onclick="showSystemConfig('permission')" style="cursor: pointer;">
                                <div style="font-size: 24px; margin-bottom: 8px;">🛡️</div>
                                <div style="font-weight: 500;">权限管理</div>
                            </div>
                            <div class="card-item" onclick="showSystemConfig('log')" style="cursor: pointer;">
                                <div style="font-size: 24px; margin-bottom: 8px;">📋</div>
                                <div style="font-weight: 500;">日志管理</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 主数据管理：区域管理 -->
                <div id="page-master-region" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 主数据管理 / 区域管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入区域名称" id="masterRegionSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleMasterRegionFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('masterRegion', this)" style="position: relative;">⚙️</button>
                        </div>
                    </div>
                    <div class="filter-panel" id="master-region-filter-panel" style="display: none;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">区域名称</label>
                                <input type="text" class="form-input" placeholder="请输入区域名称">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">类别</label>
                                <select class="form-input">
                                    <option>全部</option>
                                    <option>国</option>
                                    <option>省</option>
                                    <option>市</option>
                                    <option>区</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">层级</label>
                                <select class="form-input">
                                    <option>全部</option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                </select>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetMasterRegionFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applyMasterRegionFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>区域名称</th>
                                    <th>类别</th>
                                    <th>层级</th>
                                    <th>层级序列</th>
                                    <th>拼音</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>中国</td>
                                    <td>国</td>
                                    <td>1</td>
                                    <td>.1.</td>
                                    <td>-</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link danger" onclick="removeMasterRegion(1)">移除区域</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>北京</td>
                                    <td>省</td>
                                    <td>2</td>
                                    <td>.1.2.</td>
                                    <td>B</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link danger" onclick="removeMasterRegion(2)">移除区域</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>安徽</td>
                                    <td>省</td>
                                    <td>2</td>
                                    <td>.1.3.</td>
                                    <td>A</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link danger" onclick="removeMasterRegion(3)">移除区域</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 3408 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <span class="pagination-page">2</span>
                            <span class="pagination-page">3</span>
                            <span class="pagination-page">4</span>
                            <span class="pagination-page">5</span>
                            <span class="pagination-page">•••</span>
                            <span class="pagination-page">228</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>15 条/页</option>
                                    <option>30 条/页</option>
                                    <option>50 条/页</option>
                                </select>
                            </div>
                            <div style="margin-left: 12px; display: flex; align-items: center; gap: 8px;">
                                <span>跳至</span>
                                <input type="number" style="width: 60px; padding: 4px; border: 1px solid #d9d9d9; border-radius: 4px;">
                                <span>页</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 主数据管理：医院管理 -->
                <div id="page-master-hospital" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 主数据管理 / 医院管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入医院名称/别称" id="masterHospitalSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleMasterHospitalFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('masterHospital', this)" style="position: relative;">⚙️</button>
                        </div>
                    </div>
                    <div class="filter-panel" id="master-hospital-filter-panel" style="display: none;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">医院名称</label>
                                <input type="text" class="form-input" placeholder="请输入医院名称">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">医院等级</label>
                                <select class="form-input">
                                    <option>全部</option>
                                    <option>三级</option>
                                    <option>二级</option>
                                    <option>一级</option>
                                </select>
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">省</label>
                                <select class="form-input">
                                    <option>全部</option>
                                    <option>北京</option>
                                    <option>上海</option>
                                    <option>广东</option>
                                </select>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetMasterHospitalFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applyMasterHospitalFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>医院名称</th>
                                    <th>医院别称</th>
                                    <th>医院地址</th>
                                    <th>省</th>
                                    <th>市</th>
                                    <th>区</th>
                                    <th>医院等级</th>
                                    <th>医院等次</th>
                                    <th>创建时间</th>
                                    <th>修改时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>江苏省人民医院</td>
                                    <td>省人民医院</td>
                                    <td>南京市广州路300号</td>
                                    <td>江苏</td>
                                    <td>南京</td>
                                    <td>鼓楼区</td>
                                    <td>三级</td>
                                    <td>甲等</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewMasterHospital(1)">查看</a>
                                            <a class="action-link" onclick="editMasterHospital(1)">编辑</a>
                                            <a class="action-link danger" onclick="deleteMasterHospital(1)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 主数据管理：科室管理 -->
                <div id="page-master-department" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 主数据管理 / 科室管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入科室名称" id="masterDepartmentSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleMasterDepartmentFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('masterDepartment', this)" style="position: relative;">⚙️</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>科室名称</th>
                                    <th>创建时间</th>
                                    <th>修改时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>肿瘤科</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="editMasterDepartment(1)">编辑</a>
                                            <a class="action-link danger" onclick="deleteMasterDepartment(1)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 主数据管理：职称管理 -->
                <div id="page-master-title" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 主数据管理 / 职称管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入职称名称" id="masterTitleSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleMasterTitleFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('masterTitle', this)" style="position: relative;">⚙️</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>职称名称</th>
                                    <th>创建时间</th>
                                    <th>修改时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>主任医师</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="editMasterTitle(1)">编辑</a>
                                            <a class="action-link danger" onclick="deleteMasterTitle(1)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 主数据管理：系统标签管理 -->
                <div id="page-master-tag" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 主数据管理 / 系统标签管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入标签名称" id="masterTagSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleMasterTagFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('masterTag', this)" style="position: relative;">⚙️</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>标签名称</th>
                                    <th>标签类型</th>
                                    <th>创建时间</th>
                                    <th>修改时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>MDT专家</td>
                                    <td>医生标签</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="editMasterTag(1)">编辑</a>
                                            <a class="action-link danger" onclick="deleteMasterTag(1)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 医生信息库页面 -->
                <div id="page-doctor-library" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 医生信息库
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入医生姓名" id="doctorLibrarySearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleDoctorLibraryFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('doctorLibrary', this)" style="position: relative;">⚙️</button>
                            <button class="create-btn" onclick="showCreateDoctorForm()">
                                <span>➕</span>
                                <span>添加医生</span>
                            </button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>医生姓名</th>
                                    <th>职称</th>
                                    <th>所属医院</th>
                                    <th>所属科室</th>
                                    <th>手机号码</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="viewDoctorDetail(1)" style="text-decoration: none;">张医生</a></td>
                                    <td>主任医师</td>
                                    <td>江苏省人民医院</td>
                                    <td>肿瘤科</td>
                                    <td>13800138000</td>
                                    <td>2025-01-05 10:30</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewDoctorDetail(1)">查看</a>
                                            <a class="action-link" onclick="editDoctor(1)">编辑</a>
                                            <a class="action-link danger" onclick="deleteDoctor(1)">删除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 128 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <span class="pagination-page">2</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>15 条/页</option>
                                    <option>30 条/页</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- BI配置页面 -->
                <div id="page-bi-config" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / BI配置
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入配置名称" id="biConfigSearch">
                            </div>
                            <button class="create-btn" onclick="showCreateBIConfigForm()">
                                <span>➕</span>
                                <span>新建配置</span>
                            </button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>配置名称</th>
                                    <th>配置类型</th>
                                    <th>状态</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="viewBIConfigDetail(1)" style="text-decoration: none;">数据报表配置</a></td>
                                    <td>报表</td>
                                    <td><span class="status-tag complete">启用</span></td>
                                    <td>2025-01-05 10:30</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewBIConfigDetail(1)">查看</a>
                                            <a class="action-link" onclick="editBIConfig(1)">编辑</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 公众号网站管理页面 -->
                <div id="page-wechat-website" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 公众号网站管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入关键词" id="wechatWebsiteSearch">
                            </div>
                            <button class="create-btn" onclick="showCreateWechatWebsiteForm()">
                                <span>➕</span>
                                <span>新建</span>
                            </button>
                        </div>
                    </div>
                    <div style="background: #fff; padding: 24px; border-radius: 8px;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px;">
                            <div class="card-item" onclick="showWechatWebsiteConfig('wechat')" style="cursor: pointer;">
                                <div style="font-size: 24px; margin-bottom: 8px;">💬</div>
                                <div style="font-weight: 500;">公众号管理</div>
                            </div>
                            <div class="card-item" onclick="showWechatWebsiteConfig('website')" style="cursor: pointer;">
                                <div style="font-size: 24px; margin-bottom: 8px;">🌐</div>
                                <div style="font-weight: 500;">网站管理</div>
                            </div>
                            <div class="card-item" onclick="showWechatWebsiteConfig('content')" style="cursor: pointer;">
                                <div style="font-size: 24px; margin-bottom: 8px;">📝</div>
                                <div style="font-weight: 500;">内容管理</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 申请管理：会诊申请 -->
                <div id="page-application-consultation" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 申请管理 / 会诊申请
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入申请人姓名" id="applicationConsultationSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleApplicationConsultationFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('applicationConsultation', this)" style="position: relative;">⚙️</button>
                        </div>
                    </div>
                    <div class="filter-panel" id="application-consultation-filter-panel" style="display: none;">
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">申请人姓名</label>
                                <input type="text" class="form-input" placeholder="请输入申请人姓名">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">所属联盟</label>
                                <input type="text" class="form-input" placeholder="请输入所属联盟">
                            </div>
                            <div class="form-group" style="margin-bottom: 0;">
                                <label class="form-label">申请时间</label>
                                <input type="date" class="form-input">
                            </div>
                        </div>
                        <div style="display: flex; justify-content: flex-end; gap: 12px;">
                            <button class="btn btn-default" onclick="resetApplicationConsultationFilter()">重置</button>
                            <button class="btn btn-primary" onclick="applyApplicationConsultationFilter()">查询</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>申请时间</th>
                                    <th>所属联盟</th>
                                    <th>姓名</th>
                                    <th>手机号码</th>
                                    <th>所在省/市/区</th>
                                    <th>所在医院</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>2024-04-26 11:38:01</td>
                                    <td>2.14联盟</td>
                                    <td>李回归</td>
                                    <td>15017565862</td>
                                    <td>广东省 / 广州市 / 天河区</td>
                                    <td>南方</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewApplicationConsultation(1)">查看申请</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>2024-04-24 17:18:01</td>
                                    <td>冯国手11</td>
                                    <td>李2</td>
                                    <td>13700000001</td>
                                    <td>广东省 / 深圳市 / 福田区</td>
                                    <td>南方1</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewApplicationConsultation(2)">查看申请</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination">
                        <div class="pagination-info">共 21 条</div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>◀</button>
                            <span class="pagination-page active">1</span>
                            <span class="pagination-page">2</span>
                            <button class="pagination-btn">▶</button>
                            <div class="pagination-size">
                                <select>
                                    <option>15 条/页</option>
                                    <option>30 条/页</option>
                                    <option>50 条/页</option>
                                </select>
                            </div>
                            <div style="margin-left: 12px; display: flex; align-items: center; gap: 8px;">
                                <span>跳至</span>
                                <input type="number" style="width: 60px; padding: 4px; border: 1px solid #d9d9d9; border-radius: 4px;">
                                <span>页</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 申请管理：合作申请 -->
                <div id="page-application-cooperation" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 申请管理 / 合作申请
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入申请人姓名" id="applicationCooperationSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleApplicationCooperationFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('applicationCooperation', this)" style="position: relative;">⚙️</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>申请时间</th>
                                    <th>申请人</th>
                                    <th>手机号码</th>
                                    <th>机构名称</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>张三</td>
                                    <td>13800138000</td>
                                    <td>XX医院</td>
                                    <td><span class="status-tag status-pending">待审核</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewApplicationCooperation(1)">查看申请</a>
                                            <a class="action-link" onclick="approveApplicationCooperation(1)">通过</a>
                                            <a class="action-link danger" onclick="rejectApplicationCooperation(1)">拒绝</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 申请管理：入驻申请 -->
                <div id="page-application-settlement" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 申请管理 / 入驻申请
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入申请人姓名" id="applicationSettlementSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleApplicationSettlementFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('applicationSettlement', this)" style="position: relative;">⚙️</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>申请时间</th>
                                    <th>申请人</th>
                                    <th>手机号码</th>
                                    <th>机构名称</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>李四</td>
                                    <td>13900139000</td>
                                    <td>YY医院</td>
                                    <td><span class="status-tag status-pending">待审核</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewApplicationSettlement(1)">查看申请</a>
                                            <a class="action-link" onclick="approveApplicationSettlement(1)">通过</a>
                                            <a class="action-link danger" onclick="rejectApplicationSettlement(1)">拒绝</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 申请管理：注册申请 -->
                <div id="page-application-register" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 申请管理 / 注册申请
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入申请人姓名" id="applicationRegisterSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleApplicationRegisterFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('applicationRegister', this)" style="position: relative;">⚙️</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>申请时间</th>
                                    <th>申请人</th>
                                    <th>手机号码</th>
                                    <th>邮箱</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>2025-01-08 10:00</td>
                                    <td>王五</td>
                                    <td>13700137000</td>
                                    <td>wangwu@example.com</td>
                                    <td><span class="status-tag status-pending">待审核</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewApplicationRegister(1)">查看申请</a>
                                            <a class="action-link" onclick="approveApplicationRegister(1)">通过</a>
                                            <a class="action-link danger" onclick="rejectApplicationRegister(1)">拒绝</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                                    <td>张医生</td>
                                    <td>2025-01-08 10:30</td>
                                    <td><span class="status-tag">待审核</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewApplicationDetail(1)">查看</a>
                                            <a class="action-link" onclick="approveApplication(1)">通过</a>
                                            <a class="action-link danger" onclick="rejectApplication(1)">拒绝</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 表单库页面 -->
                <div id="page-form-library" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 表单库
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入表单名称" id="formLibrarySearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleFormLibraryFilter()">🔽</button>
                            <button class="create-btn" onclick="showCreateFormLibraryForm()">
                                <span>➕</span>
                                <span>创建表单</span>
                            </button>
                        </div>
                    </div>
                    <div class="card-grid">
                        <div class="card-item">
                            <div class="card-title">患者基本信息表</div>
                            <div class="card-meta">创建时间：2025-01-06 | 使用次数：125</div>
                            <div class="card-footer">
                                <div class="action-btns">
                                    <a class="action-link" onclick="viewFormLibrary(1)">查看</a>
                                    <a class="action-link" onclick="editFormLibrary(1)">编辑</a>
                                    <a class="action-link danger" onclick="deleteFormLibrary(1)">删除</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 图像识别管理页面 -->
                <div id="page-image-recognition" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 图像识别管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入关键词" id="imageRecognitionSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleImageRecognitionFilter()">🔽</button>
                            <button class="create-btn" onclick="showCreateImageRecognitionForm()">
                                <span>➕</span>
                                <span>新建识别规则</span>
                            </button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>规则名称</th>
                                    <th>识别类型</th>
                                    <th>状态</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="viewImageRecognitionDetail(1)" style="text-decoration: none;">病历报告识别</a></td>
                                    <td>OCR识别</td>
                                    <td><span class="status-tag complete">启用</span></td>
                                    <td>2025-01-05 10:30</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewImageRecognitionDetail(1)">查看</a>
                                            <a class="action-link" onclick="editImageRecognition(1)">编辑</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 活动管理页面 -->
                <div id="page-activity" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 活动管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入活动名称" id="activitySearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleActivityFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('activity', this)" style="position: relative;">⚙️</button>
                            <button class="create-btn" onclick="showCreateActivityForm()">
                                <span>➕</span>
                                <span>创建活动</span>
                            </button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>活动名称</th>
                                    <th>活动类型</th>
                                    <th>开始时间</th>
                                    <th>结束时间</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="viewActivityDetail(1)" style="text-decoration: none;">乳腺癌MDT学术会议</a></td>
                                    <td>学术会议</td>
                                    <td>2025-02-01</td>
                                    <td>2025-02-03</td>
                                    <td><span class="status-tag complete">进行中</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewActivityDetail(1)">查看</a>
                                            <a class="action-link" onclick="editActivity(1)">编辑</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 活动用户管理页面 -->
                <div id="page-activity-user" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 活动用户管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入用户姓名" id="activityUserSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleActivityUserFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('activityUser', this)" style="position: relative;">⚙️</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>用户姓名</th>
                                    <th>所属活动</th>
                                    <th>参与时间</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>张医生</td>
                                    <td>乳腺癌MDT学术会议</td>
                                    <td>2025-02-01 09:00</td>
                                    <td><span class="status-tag complete">已参与</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewActivityUserDetail(1)">查看</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 活动专题管理页面 -->
                <div id="page-activity-topic" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 活动专题管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入专题名称" id="activityTopicSearch">
                            </div>
                            <button class="create-btn" onclick="showCreateActivityTopicForm()">
                                <span>➕</span>
                                <span>创建专题</span>
                            </button>
                        </div>
                    </div>
                    <div class="card-grid">
                        <div class="card-item">
                            <div class="card-title">乳腺癌规范化诊疗专题</div>
                            <div class="card-meta">创建时间：2025-01-06</div>
                            <div class="card-footer">
                                <div class="action-btns">
                                    <a class="action-link" onclick="viewActivityTopic(1)">查看</a>
                                    <a class="action-link" onclick="editActivityTopic(1)">编辑</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 活动数据列表页面 -->
                <div id="page-activity-data" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 活动数据列表
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入关键词" id="activityDataSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleActivityDataFilter()">🔽</button>
                            <button class="toolbar-icon" title="导出" onclick="exportActivityData()">📥</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>活动名称</th>
                                    <th>参与人数</th>
                                    <th>浏览量</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="viewActivityDataDetail(1)" style="text-decoration: none;">乳腺癌MDT学术会议</a></td>
                                    <td>125</td>
                                    <td>2580</td>
                                    <td>2025-01-05 10:30</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewActivityDataDetail(1)">查看</a>
                                            <a class="action-link" onclick="exportActivityDataDetail(1)">导出</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 活动运营分析页面 -->
                <div id="page-activity-analysis" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 活动运营分析
                    </div>
                    <div style="background: #fff; padding: 24px; border-radius: 8px;">
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px;">
                            <div style="background: #f0f2f5; padding: 16px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 32px; font-weight: 600; color: #1890ff; margin-bottom: 8px;">125</div>
                                <div style="color: #666;">总活动数</div>
                            </div>
                            <div style="background: #f0f2f5; padding: 16px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 32px; font-weight: 600; color: #52c41a; margin-bottom: 8px;">3,580</div>
                                <div style="color: #666;">总参与人数</div>
                            </div>
                            <div style="background: #f0f2f5; padding: 16px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 32px; font-weight: 600; color: #faad14; margin-bottom: 8px;">12,580</div>
                                <div style="color: #666;">总浏览量</div>
                            </div>
                            <div style="background: #f0f2f5; padding: 16px; border-radius: 8px; text-align: center;">
                                <div style="font-size: 32px; font-weight: 600; color: #722ed1; margin-bottom: 8px;">85%</div>
                                <div style="color: #666;">平均参与率</div>
                            </div>
                        </div>
                        <div style="margin-top: 24px;">
                            <div style="font-weight: 500; margin-bottom: 16px;">活动趋势分析</div>
                            <div style="height: 300px; background: #fafafa; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #999;">
                                图表区域（原型示意）
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 质控评分管理页面 -->
                <div id="page-quality-control" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 质控评分管理
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入关键词" id="qualityControlSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleQualityControlFilter()">🔽</button>
                            <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('qualityControl', this)" style="position: relative;">⚙️</button>
                            <button class="create-btn" onclick="showCreateQualityControlForm()">
                                <span>➕</span>
                                <span>新建评分规则</span>
                            </button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>规则名称</th>
                                    <th>评分维度</th>
                                    <th>权重</th>
                                    <th>状态</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="viewQualityControlDetail(1)" style="text-decoration: none;">基本信息完整性评分</a></td>
                                    <td>完整性</td>
                                    <td>30%</td>
                                    <td><span class="status-tag complete">启用</span></td>
                                    <td>2025-01-05 10:30</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewQualityControlDetail(1)">查看</a>
                                            <a class="action-link" onclick="editQualityControl(1)">编辑</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- AI 选题页面 -->
                <div id="page-research-ai-selection" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 科研超级智能体 / AI 选题
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入关键词" id="aiSelectionSearch">
                            </div>
                            <button class="create-btn" onclick="showCreateAISelectionForm()">
                                <span>➕</span>
                                <span>新建选题</span>
                            </button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>选题名称</th>
                                    <th>研究方向</th>
                                    <th>创建时间</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="viewAISelectionDetail(1)" style="text-decoration: none;">基于AI的乳腺癌早期诊断研究</a></td>
                                    <td>医学影像</td>
                                    <td>2025-01-08 10:30</td>
                                    <td><span class="status-tag complete">进行中</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewAISelectionDetail(1)">查看</a>
                                            <a class="action-link" onclick="editAISelection(1)">编辑</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 文献检索页面 -->
                <div id="page-research-literature-search" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 科研超级智能体 / 文献检索
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入检索关键词" id="literatureSearch">
                            </div>
                            <button class="toolbar-icon" title="高级检索" onclick="showAdvancedSearch()">⚙️</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>文献标题</th>
                                    <th>作者</th>
                                    <th>期刊</th>
                                    <th>发表时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="viewLiteratureDetail(1)" style="text-decoration: none;">Breast Cancer Early Detection Using AI</a></td>
                                    <td>Zhang et al.</td>
                                    <td>Nature Medicine</td>
                                    <td>2024-12</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewLiteratureDetail(1)">查看</a>
                                            <a class="action-link" onclick="addToReadingList(1)">加入阅读</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 文献阅读页面 -->
                <div id="page-research-literature-reading" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 科研超级智能体 / 文献阅读
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入文献标题" id="literatureReadingSearch">
                            </div>
                            <button class="toolbar-icon" title="筛选" onclick="toggleLiteratureReadingFilter()">🔽</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>文献标题</th>
                                    <th>阅读进度</th>
                                    <th>笔记数量</th>
                                    <th>最后阅读时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="openLiteratureReading(1)" style="text-decoration: none;">AI in Medical Diagnosis</a></td>
                                    <td><div class="progress-bar"><div class="progress-fill" style="width: 65%;"></div></div> 65%</td>
                                    <td>3</td>
                                    <td>2025-01-08 14:20</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="openLiteratureReading(1)">继续阅读</a>
                                            <a class="action-link" onclick="viewNotes(1)">查看笔记</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 学术问答页面 -->
                <div id="page-research-academic-qa" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 科研超级智能体 / 学术问答
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <button class="create-btn" onclick="showNewQuestionForm()">
                                <span>➕</span>
                                <span>新建问题</span>
                            </button>
                        </div>
                    </div>
                    <div class="card-grid">
                        <div class="card-item">
                            <div class="card-title">什么是MDT诊疗模式？</div>
                            <div class="card-meta">提问时间：2025-01-08 10:30</div>
                            <div class="card-desc">多学科团队（MDT）诊疗模式的定义、特点和应用场景...</div>
                            <div class="card-footer">
                                <span style="font-size:12px;color:#999;">已回答</span>
                                <div class="action-btns">
                                    <a class="action-link" onclick="viewQuestionDetail(1)">查看</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 辅助写作页面 -->
                <div id="page-research-assistant-writing" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 科研超级智能体 / 辅助写作
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入文档名称" id="writingSearch">
                            </div>
                            <button class="create-btn" onclick="showCreateDocumentForm()">
                                <span>➕</span>
                                <span>新建文档</span>
                            </button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>文档名称</th>
                                    <th>类型</th>
                                    <th>最后修改时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="openDocument(1)" style="text-decoration: none;">乳腺癌MDT诊疗规范研究</a></td>
                                    <td>论文</td>
                                    <td>2025-01-08 15:30</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="openDocument(1)">编辑</a>
                                            <a class="action-link" onclick="exportDocument(1)">导出</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 知识库页面 -->
                <div id="page-research-knowledge-base" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 科研超级智能体 / 知识库
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入知识条目" id="knowledgeSearch">
                            </div>
                            <button class="create-btn" onclick="showCreateKnowledgeForm()">
                                <span>➕</span>
                                <span>新建知识</span>
                            </button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>序号</th>
                                    <th>知识标题</th>
                                    <th>分类</th>
                                    <th>标签</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td><a class="action-link" onclick="viewKnowledgeDetail(1)" style="text-decoration: none;">乳腺癌TNM分期标准</a></td>
                                    <td>临床指南</td>
                                    <td><span style="font-size:12px;color:#666;">分期, 标准</span></td>
                                    <td>2025-01-05 10:30</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewKnowledgeDetail(1)">查看</a>
                                            <a class="action-link" onclick="editKnowledge(1)">编辑</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- AI 云盘页面 -->
                <div id="page-research-ai-cloud" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 科研超级智能体 / AI 云盘
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入文件名" id="cloudSearch">
                            </div>
                            <button class="toolbar-icon" title="上传" onclick="showUploadDialog()">📤</button>
                            <button class="toolbar-icon" title="新建文件夹" onclick="createFolder()">📁</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>名称</th>
                                    <th>类型</th>
                                    <th>大小</th>
                                    <th>修改时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><a class="action-link" onclick="openCloudFile(1)" style="text-decoration: none;">📄 研究资料</a></td>
                                    <td>文件夹</td>
                                    <td>-</td>
                                    <td>2025-01-08 10:30</td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="openCloudFile(1)">打开</a>
                                            <a class="action-link" onclick="downloadCloudFile(1)">下载</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 我的小组页面 -->
                <div id="page-research-my-group" class="page-content">
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / 科研超级智能体 / 我的小组
                    </div>
                    <div class="page-header">
                        <div class="page-toolbar">
                            <div class="search-box">
                                <span>🔍</span>
                                <input type="text" placeholder="请输入小组名称" id="groupSearch">
                            </div>
                            <button class="create-btn" onclick="showCreateGroupForm()">
                                <span>➕</span>
                                <span>创建小组</span>
                            </button>
                        </div>
                    </div>
                    <div class="card-grid">
                        <div class="card-item">
                            <div class="card-title">乳腺癌MDT研究小组</div>
                            <div class="card-meta">成员数：5 | 创建时间：2025-01-05</div>
                            <div class="card-desc">专注于乳腺癌MDT诊疗模式的研究和临床应用...</div>
                            <div class="card-footer">
                                <span style="font-size:12px;color:#999;">活跃</span>
                                <div class="action-btns">
                                    <a class="action-link" onclick="viewGroupDetail(1)">查看</a>
                                    <a class="action-link" onclick="manageGroup(1)">管理</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 模态框容器 -->
    <div id="modalContainer"></div>

    <script>
        // 菜单切换
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', function(e) {
                // 外部链接直接打开新窗口，不做激活态
                if (this.classList.contains('external-link')) {
                    e.stopPropagation();
                    const url = this.dataset.url;
                    if (url) {
                        window.open(url, '_blank');
                    }
                    return;
                }
                // 如果是子菜单项，阻止事件冒泡
                if (this.classList.contains('submenu-item')) {
                    e.stopPropagation();
                    document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
                    this.classList.add('active');
                    const page = this.dataset.page;
                    if (page) {
                        showPage(page);
                    }
                } else if (this.classList.contains('has-submenu')) {
                    // 如果有子菜单，切换子菜单显示
                    e.stopPropagation();
                    toggleSubmenu(this);
                } else {
                    // 普通菜单项
                    document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
                    this.classList.add('active');
                    const page = this.dataset.page;
                    if (page) {
                        showPage(page);
                    }
                }
            });
        });

        // 显示页面
        function showPage(pageName) {
            // 隐藏所有页面
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
            });

            // 显示对应页面
            const targetPage = document.getElementById(`page-${pageName}`);
            if (targetPage) {
                targetPage.classList.add('active');
            }

            // 更新Tab标签
            updateTabs(pageName);
        }

        // 切换子菜单
        function toggleSubmenu(element) {
            const submenu = element.nextElementSibling;
            if (submenu && submenu.classList.contains('submenu')) {
                const isExpanded = element.classList.contains('expanded');
                if (isExpanded) {
                    element.classList.remove('expanded');
                    submenu.style.display = 'none';
                } else {
                    element.classList.add('expanded');
                    submenu.style.display = 'block';
                }
            }
        }

        // 更新Tab标签
        function updateTabs(pageName, title) {
            const tabNames = {
                'home': '首页',
                'patient': '我的患者',
                'presentation': '讲稿中心',
                'consultation': '会诊中心',
                'team': 'MDT团队',
                'case': '共享病例库',
                'followup': '随访管理',
                'contract-verification': '审核列表',
                'contract-template': '合同模板',
                'organization': '机构信息',
                'project': '项目信息',
                'sys-account': '账号管理',
                'sys-role': '角色管理',
                'sys-menu': '菜单管理',
                'sys-permission-group': '权限组管理',
                'sys-disease': '病种管理',
                'master-region': '区域管理',
                'master-hospital': '医院管理',
                'master-department': '科室管理',
                'master-title': '职称管理',
                'master-tag': '系统标签管理',
                'doctor-library': '医生信息库',
                'bi-config': 'BI配置',
                'wechat-website': '公众号网站管理',
                'application-consultation': '会诊申请',
                'application-cooperation': '合作申请',
                'application-settlement': '入驻申请',
                'application-register': '注册申请',
                'form-library': '表单库',
                'image-recognition': '图像识别管理',
                'activity': '活动管理',
                'activity-user': '活动用户管理',
                'activity-topic': '活动专题管理',
                'activity-data': '活动数据列表',
                'activity-analysis': '活动运营分析',
                'quality-control': '质控评分管理',
                'research-ai-selection': 'AI 选题',
                'research-literature-search': '文献检索',
                'research-literature-reading': '文献阅读',
                'research-academic-qa': '学术问答',
                'research-assistant-writing': '辅助写作',
                'research-knowledge-base': '知识库',
                'research-ai-cloud': 'AI 云盘',
                'research-my-group': '我的小组'
            };

            const tabBar = document.getElementById('tabBar');
            const displayTitle = title || tabNames[pageName] || pageName;
            const existingTab = Array.from(tabBar.querySelectorAll('.tab-item')).find(
                tab => tab.dataset.tab === pageName
            );

            if (!existingTab) {
                // 创建新Tab
                const newTab = document.createElement('div');
                newTab.className = 'tab-item';
                newTab.dataset.tab = pageName;
                newTab.innerHTML = `
                    <span>${displayTitle}</span>
                    <span class="tab-close">×</span>
                `;
                tabBar.appendChild(newTab);

                // 添加关闭事件
                newTab.querySelector('.tab-close').addEventListener('click', function(e) {
                    e.stopPropagation();
                    const tabs = tabBar.querySelectorAll('.tab-item');
                    if (tabs.length > 1) {
                        const page = document.getElementById(pageName);
                        if (page) {
                            page.remove();
                        }
                        newTab.remove();
                        // 切换到第一个Tab
                        const firstTab = tabs[0];
                        if (firstTab && firstTab !== newTab) {
                            firstTab.classList.add('active');
                            const firstPageName = firstTab.dataset.tab;
                            if (firstPageName && firstPageName !== pageName) {
                                showPage(firstPageName);
                            }
                        }
                    }
                });

                // 添加点击切换事件
                newTab.addEventListener('click', function(e) {
                    if (e.target.classList.contains('tab-close')) return;
                    document.querySelectorAll('.tab-item').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    const targetPage = document.getElementById(pageName);
                    if (targetPage) {
                        document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
                        targetPage.classList.add('active');
                    } else {
                        showPage(pageName);
                    }
                });
            } else {
                // 更新现有Tab的标题
                const titleSpan = existingTab.querySelector('span:first-child');
                if (titleSpan && title) {
                    titleSpan.textContent = displayTitle;
                }
            }

            // 更新激活状态
            document.querySelectorAll('.tab-item').forEach(t => t.classList.remove('active'));
            const activeTab = tabBar.querySelector(`[data-tab="${pageName}"]`);
            if (activeTab) {
                activeTab.classList.add('active');
            }
        }

        // Tab关闭事件（首页的关闭按钮）
        document.querySelectorAll('.tab-close').forEach(closeBtn => {
            closeBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                const tabBar = document.getElementById('tabBar');
                const tabs = tabBar.querySelectorAll('.tab-item');
                if (tabs.length > 1) {
                    this.parentElement.remove();
                    const firstTab = tabs[0];
                    if (firstTab) {
                        firstTab.classList.add('active');
                        showPage(firstTab.dataset.tab);
                    }
                }
            });
        });

        // 通用页面显示函数
        function showDetailPage(pageId, title, content) {
            // 检查页面是否已存在
            let page = document.getElementById(pageId);
            if (!page) {
                // 创建新页面
                page = document.createElement('div');
                page.id = pageId;
                page.className = 'page-content';
                page.innerHTML = `
                    <div class="breadcrumb">
                        <a href="#" onclick="showPage('home'); return false;">首页</a> / ${title}
                    </div>
                    ${content}
                `;
                document.querySelector('.content-panel').appendChild(page);
            }
            
            // 显示页面
            document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
            page.classList.add('active');
            
            // 更新Tab（使用简化的标题）
            const shortTitle = title.length > 10 ? title.substring(0, 10) + '...' : title;
            updateTabs(pageId, shortTitle);
        }

        // 创建患者表单 - 对话式界面
        function showCreatePatientForm() {
            showDetailPage('page-create-patient', '新建患者', `
                <div style="background: #fff; border-radius: 8px; padding: 24px; min-height: 500px;">
                    <div style="display: flex; flex-direction: column; height: 100%;">
                        <div style="font-size: 18px; font-weight: 500; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;">
                            <span>新建患者</span>
                            <button class="btn btn-default" onclick="showPage('patient')" style="padding: 4px 12px; font-size: 12px;">返回</button>
                        </div>
                        <div style="flex: 1; display: flex; flex-direction: column; gap: 16px; padding: 20px; background: #f5f5f5; border-radius: 8px; margin-bottom: 20px; max-height: 400px; overflow-y: auto;" id="chatMessages">
                            <div style="display: flex; gap: 12px;">
                                <div style="width: 32px; height: 32px; border-radius: 50%; background: #1890ff; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; flex-shrink: 0;">AI</div>
                                <div style="flex: 1; background: #fff; padding: 12px 16px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                    <div style="font-size: 13px; color: #666; margin-bottom: 4px;">iMDT 病历录入助手 <span style="color: #999; font-size: 12px;">${new Date().toLocaleTimeString()}</span></div>
                                    <div style="font-size: 14px; color: #333; line-height: 1.6;">您好，您可以选择以下两种方式进行患者建档：<br>1. 手工建档；<br>2. 图像识别建档</div>
                                </div>
                            </div>
                        </div>
                        <div style="display: flex; gap: 12px; padding: 12px; background: #fff; border-radius: 8px; border: 1px solid #e8e8e8;">
                            <button class="btn btn-primary" onclick="showManualPatientForm()" style="flex: 1;">手工建档</button>
                            <button class="btn btn-default" onclick="showImageRecognitionForm()" style="flex: 1;">图像识别建档</button>
                        </div>
                        <div style="display: flex; gap: 8px; padding: 12px; background: #fff; border-radius: 8px; border: 1px solid #e8e8e8; margin-top: 12px;">
                            <button class="btn btn-default" onclick="sendChatMessage()" style="padding: 8px 12px; border: none; background: transparent; cursor: pointer; font-size: 16px;">📎</button>
                            <input type="text" placeholder="输入消息..." style="flex: 1; padding: 8px 12px; border: 1px solid #d9d9d9; border-radius: 4px; outline: none;" id="chatInput" onkeyup="updateChatSendButton()">
                            <button class="btn btn-primary" id="chatSendBtn" onclick="sendChatMessage()" disabled style="padding: 8px 16px; opacity: 0.5; cursor: not-allowed;">发送</button>
                        </div>
                    </div>
                </div>
            `);
        }

        // 更新聊天发送按钮状态
        function updateChatSendButton() {
            const input = document.getElementById('chatInput');
            const sendBtn = document.getElementById('chatSendBtn');
            if (input && sendBtn) {
                if (input.value.trim()) {
                    sendBtn.disabled = false;
                    sendBtn.style.opacity = '1';
                    sendBtn.style.cursor = 'pointer';
                } else {
                    sendBtn.disabled = true;
                    sendBtn.style.opacity = '0.5';
                    sendBtn.style.cursor = 'not-allowed';
                }
            }
        }

        // 发送聊天消息
        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const messages = document.getElementById('chatMessages');
            if (!input || !messages || !input.value.trim()) return;

            // 添加用户消息
            const userMsg = document.createElement('div');
            userMsg.style.cssText = 'display: flex; gap: 12px; justify-content: flex-end; margin-top: 16px;';
            userMsg.innerHTML = `
                <div style="flex: 1; background: #1890ff; color: white; padding: 12px 16px; border-radius: 8px; max-width: 70%;">
                    <div style="font-size: 14px; line-height: 1.6;">${input.value}</div>
                </div>
                <div style="width: 32px; height: 32px; border-radius: 50%; background: #f0f0f0; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">👤</div>
            `;
            messages.appendChild(userMsg);

            // 模拟AI回复
            setTimeout(() => {
                const aiMsg = document.createElement('div');
                aiMsg.style.cssText = 'display: flex; gap: 12px; margin-top: 16px;';
                aiMsg.innerHTML = `
                    <div style="width: 32px; height: 32px; border-radius: 50%; background: #1890ff; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; flex-shrink: 0;">AI</div>
                    <div style="flex: 1; background: #fff; padding: 12px 16px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                        <div style="font-size: 13px; color: #666; margin-bottom: 4px;">iMDT 病历录入助手 <span style="color: #999; font-size: 12px;">${new Date().toLocaleTimeString()}</span></div>
                        <div style="font-size: 14px; color: #333; line-height: 1.6;">收到，正在处理您的请求...</div>
                    </div>
                `;
                messages.appendChild(aiMsg);
                messages.scrollTop = messages.scrollHeight;
            }, 500);

            input.value = '';
            messages.scrollTop = messages.scrollHeight;
        }

        // 手工建档表单
        function showManualPatientForm() {
            showDetailPage('page-manual-patient', '手工建档', `
                <div class="form-container">
                    <div class="form-title">患者基本信息</div>
                    <div class="form-group">
                        <label class="form-label">患者姓名 <span class="required">*</span></label>
                        <input type="text" class="form-input" placeholder="请输入患者姓名">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                        <div class="form-group">
                            <label class="form-label">性别 <span class="required">*</span></label>
                            <select class="form-input">
                                <option>请选择</option>
                                <option>女</option>
                                <option>男</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">年龄 <span class="required">*</span></label>
                            <input type="number" class="form-input" placeholder="请输入年龄">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">身份证号</label>
                        <input type="text" class="form-input" placeholder="请输入身份证号">
                    </div>
                    <div class="form-group">
                        <label class="form-label">联系电话</label>
                        <input type="text" class="form-input" placeholder="请输入联系电话">
                    </div>
                    <div class="form-title" style="margin-top: 32px;">诊断信息</div>
                    <div class="form-group">
                        <label class="form-label">诊断 <span class="required">*</span></label>
                        <input type="text" class="form-input" placeholder="请输入诊断">
                    </div>
                    <div class="form-group">
                        <label class="form-label">最新肿瘤分期</label>
                        <input type="text" class="form-input" placeholder="例如：T2N0M0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">病例标签</label>
                        <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                            <span class="dept-tag" style="cursor: pointer;">早期乳腺癌</span>
                            <span class="dept-tag" style="cursor: pointer;">进展期乳腺癌</span>
                            <span class="dept-tag" style="cursor: pointer;">复发转移</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">备注</label>
                        <textarea class="form-textarea" placeholder="请输入备注信息" rows="4"></textarea>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="showPage('patient')">取消</button>
                        <button class="btn btn-primary" onclick="alert('创建成功！'); showPage('patient');">确定</button>
                    </div>
                </div>
            `);
        }

        // 图像识别建档
        function showImageRecognitionForm() {
            showDetailPage('page-image-patient', '图像识别建档', `
                <div class="form-container">
                    <div class="form-title">上传病历图像</div>
                    <div style="border: 2px dashed #d9d9d9; border-radius: 8px; padding: 40px; text-align: center; margin-bottom: 24px; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.borderColor='#1890ff'" onmouseout="this.style.borderColor='#d9d9d9'">
                        <div style="font-size: 48px; margin-bottom: 16px;">📷</div>
                        <div style="font-size: 14px; color: #666; margin-bottom: 8px;">点击或拖拽文件到此区域上传</div>
                        <div style="font-size: 12px; color: #999;">支持 JPG、PNG、PDF 格式，文件大小不超过 10MB</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">识别结果预览</label>
                        <div style="background: #f5f5f5; padding: 16px; border-radius: 4px; min-height: 200px; color: #999; text-align: center;">
                            上传图像后将自动识别并填充表单
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="showPage('patient')">取消</button>
                        <button class="btn btn-primary" onclick="alert('识别完成！'); showManualPatientForm();">确认并继续</button>
                    </div>
                </div>
            `);
        }

        // 切换团队标签
        function switchTeamTab(tab) {
            document.querySelectorAll('.sub-tab').forEach(t => t.classList.remove('active'));
            document.querySelector(`[data-subtab="${tab}"]`).classList.add('active');
            
            if (tab === 'my-team') {
                document.getElementById('my-team-content').style.display = 'block';
                document.getElementById('all-team-content').style.display = 'none';
            } else {
                document.getElementById('my-team-content').style.display = 'none';
                document.getElementById('all-team-content').style.display = 'block';
            }
        }

        // 患者相关函数
        function viewPatientDetail(id) {
            const patientData = {
                1: {name: '张三', gender: '女', age: 45, diagnosis: '左侧乳腺癌', stage: 'T2N0M0', status: '已完善', tags: '早期乳腺癌', score: '95分', createTime: '2025-01-05 10:30', idCard: '320***********1234', phone: '138****8888', address: '江苏省南京市'},
                2: {name: '李四', gender: '女', age: 52, diagnosis: '右侧乳腺癌', stage: 'T1N1M0', status: '未完善', tags: '进展期乳腺癌', score: '78分', createTime: '2025-01-04 14:20', idCard: '320***********5678', phone: '139****9999', address: '江苏省南京市'},
                3: {name: '王五', gender: '女', age: 38, diagnosis: '左侧乳腺癌', stage: 'T2N1M0', status: '已完善', tags: '早期乳腺癌', score: '92分', createTime: '2025-01-03 09:15', idCard: '320***********9012', phone: '137****7777', address: '江苏省南京市'}
            };
            const p = patientData[id] || patientData[1];
            showDetailPage(`page-patient-detail-${id}`, `患者详情 - ${p.name}`, `
                <div class="form-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div class="form-title">患者详情</div>
                        <div>
                            <button class="btn btn-default" onclick="viewPatientQRCode(${id})" style="margin-right: 8px;">二维码</button>
                            <button class="btn btn-default" onclick="exportPatientData(${id})" style="margin-right: 8px;">导出</button>
                            <button class="btn btn-default" onclick="editPatient(${id})" style="margin-right: 8px;">编辑</button>
                            <button class="btn btn-primary" onclick="showPage('patient')">返回</button>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
                        <div>
                            <div class="form-title" style="font-size: 16px; margin-bottom: 16px;">基本信息</div>
                            <div style="background: #fafafa; padding: 16px; border-radius: 8px;">
                                <div style="margin-bottom: 12px;"><strong>患者姓名：</strong>${p.name}</div>
                                <div style="margin-bottom: 12px;"><strong>性别：</strong>${p.gender}</div>
                                <div style="margin-bottom: 12px;"><strong>年龄：</strong>${p.age}岁</div>
                                <div style="margin-bottom: 12px;"><strong>身份证号：</strong>${p.idCard}</div>
                                <div style="margin-bottom: 12px;"><strong>联系电话：</strong>${p.phone}</div>
                                <div style="margin-bottom: 12px;"><strong>地址：</strong>${p.address}</div>
                                <div style="margin-bottom: 12px;"><strong>诊断：</strong>${p.diagnosis}</div>
                                <div style="margin-bottom: 12px;"><strong>肿瘤分期：</strong>${p.stage}</div>
                                <div style="margin-bottom: 12px;"><strong>病例标签：</strong><span class="dept-tag">${p.tags}</span></div>
                                <div style="margin-bottom: 12px;"><strong>完善状态：</strong><span class="status-tag ${p.status === '已完善' ? 'complete' : 'incomplete'}">${p.status}</span></div>
                                <div style="margin-bottom: 12px;"><strong>质控评分：</strong><a class="action-link" onclick="viewQualityScore(${id})">${p.score}</a></div>
                                <div><strong>创建时间：</strong>${p.createTime}</div>
                            </div>
                        </div>
                        <div>
                            <div class="form-title" style="font-size: 16px; margin-bottom: 16px;">病历资料</div>
                            <div style="background: #fafafa; padding: 16px; border-radius: 8px; min-height: 200px; margin-bottom: 16px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                    <span style="font-weight: 500;">病历文件</span>
                                    <button class="btn btn-primary" style="padding: 4px 12px; font-size: 12px;" onclick="uploadPatientFile(${id})">上传</button>
                                </div>
                                <div style="color: #999; text-align: center; padding: 20px 0;">暂无病历资料</div>
                            </div>
                            <div class="form-title" style="font-size: 16px; margin-bottom: 16px;">快速操作</div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                                <button class="btn btn-default" onclick="createConsultationForPatient(${id})">创建会诊</button>
                                <button class="btn btn-default" onclick="createFollowupForPatient(${id})">创建随访</button>
                                <button class="btn btn-default" onclick="sharePatientCase(${id})">共享病例</button>
                                <button class="btn btn-default" onclick="viewPatientHistory(${id})">查看历史</button>
                            </div>
                        </div>
                    </div>
                    <div style="background: #fff; border: 1px solid #e8e8e8; border-radius: 8px; padding: 16px; margin-bottom: 24px;">
                        <div class="form-title" style="font-size: 16px; margin-bottom: 16px;">诊疗记录</div>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>时间</th>
                                    <th>类型</th>
                                    <th>内容</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>2025-01-05 10:30</td>
                                    <td>创建</td>
                                    <td>患者档案已创建</td>
                                    <td><a class="action-link" href="#">查看</a></td>
                                </tr>
                                <tr>
                                    <td>2025-01-06 14:20</td>
                                    <td>会诊</td>
                                    <td>参与MDT会诊讨论</td>
                                    <td><a class="action-link" onclick="viewConsultation(1)">查看</a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            `);
        }

        // 导出患者数据
        function exportPatientData(id) {
            if(confirm('确定要导出该患者的数据吗？')) {
                alert('数据导出中，请稍候...');
            }
        }

        // 上传患者文件
        function uploadPatientFile(id) {
            showDetailPage(`page-upload-file-${id}`, '上传病历文件', `
                <div class="form-container">
                    <div class="form-title">上传病历文件</div>
                    <div style="border: 2px dashed #d9d9d9; border-radius: 8px; padding: 40px; text-align: center; margin-bottom: 24px; cursor: pointer;">
                        <div style="font-size: 48px; margin-bottom: 16px;">📎</div>
                        <div style="font-size: 14px; color: #666; margin-bottom: 8px;">点击或拖拽文件到此区域上传</div>
                        <div style="font-size: 12px; color: #999;">支持 PDF、JPG、PNG、DOC、DOCX 格式，文件大小不超过 50MB</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">文件类型</label>
                        <select class="form-input">
                            <option>请选择</option>
                            <option>病历首页</option>
                            <option>入院记录</option>
                            <option>出院记录</option>
                            <option>手术记录</option>
                            <option>病理报告</option>
                            <option>影像报告</option>
                            <option>检验报告</option>
                            <option>其他</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">备注</label>
                        <textarea class="form-textarea" placeholder="请输入备注信息" rows="3"></textarea>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="viewPatientDetail(${id})">取消</button>
                        <button class="btn btn-primary" onclick="alert('上传成功！'); viewPatientDetail(${id});">确定</button>
                    </div>
                </div>
            `);
        }

        // 为患者创建会诊
        function createConsultationForPatient(id) {
            showCreateConsultationForm();
        }

        // 为患者创建随访
        function createFollowupForPatient(id) {
            showCreateFollowupForm();
        }

        // 共享患者病例
        function sharePatientCase(id) {
            showShareCaseForm();
        }

        // 查看患者历史
        function viewPatientHistory(id) {
            showDetailPage(`page-patient-history-${id}`, '患者历史记录', `
                <div class="form-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div class="form-title">患者历史记录</div>
                        <button class="btn btn-primary" onclick="viewPatientDetail(${id})">返回</button>
                    </div>
                    <div style="background: #fff; border: 1px solid #e8e8e8; border-radius: 8px; padding: 16px;">
                        <div style="margin-bottom: 16px;">
                            <div style="font-weight: 500; margin-bottom: 8px;">2025-01-06</div>
                            <div style="padding-left: 20px; border-left: 2px solid #e8e8e8;">
                                <div style="margin-bottom: 8px;"><strong>14:20</strong> - 参与MDT会诊讨论</div>
                                <div style="margin-bottom: 8px;"><strong>10:30</strong> - 创建患者档案</div>
                            </div>
                        </div>
                        <div style="margin-bottom: 16px;">
                            <div style="font-weight: 500; margin-bottom: 8px;">2025-01-05</div>
                            <div style="padding-left: 20px; border-left: 2px solid #e8e8e8;">
                                <div style="margin-bottom: 8px;"><strong>16:45</strong> - 更新诊断信息</div>
                                <div><strong>10:30</strong> - 创建患者档案</div>
                            </div>
                        </div>
                    </div>
                </div>
            `);
        }

        function editPatient(id) {
            showDetailPage(`page-edit-patient-${id}`, '编辑患者', `
                <div class="form-container">
                    <div class="form-title">编辑患者信息</div>
                    <div class="form-group">
                        <label class="form-label">患者姓名 <span class="required">*</span></label>
                        <input type="text" class="form-input" value="张三" placeholder="请输入患者姓名">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                        <div class="form-group">
                            <label class="form-label">性别 <span class="required">*</span></label>
                            <select class="form-input">
                                <option selected>女</option>
                                <option>男</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">年龄 <span class="required">*</span></label>
                            <input type="number" class="form-input" value="45" placeholder="请输入年龄">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">诊断 <span class="required">*</span></label>
                        <input type="text" class="form-input" value="左侧乳腺癌" placeholder="请输入诊断">
                    </div>
                    <div class="form-group">
                        <label class="form-label">最新肿瘤分期</label>
                        <input type="text" class="form-input" value="T2N0M0" placeholder="例如：T2N0M0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">病例标签</label>
                        <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                            <span class="dept-tag" style="cursor: pointer; background: #e6f7ff; color: #1890ff;">早期乳腺癌</span>
                            <span class="dept-tag" style="cursor: pointer;">进展期乳腺癌</span>
                            <span class="dept-tag" style="cursor: pointer;">复发转移</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">备注</label>
                        <textarea class="form-textarea" placeholder="请输入备注信息" rows="4"></textarea>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="viewPatientDetail(${id})">取消</button>
                        <button class="btn btn-primary" onclick="alert('保存成功！'); viewPatientDetail(${id});">保存</button>
                    </div>
                </div>
            `);
        }

        function deletePatient(id) {
            if(confirm('确定要删除该患者吗？删除后无法恢复。')) {
                alert('删除成功！');
                showPage('patient');
            }
        }

        // 讲稿相关函数
        function showCreatePresentationForm() {
            showDetailPage('page-create-presentation', '创建讲稿', `
                <div class="form-container">
                    <div class="form-title">创建讲稿</div>
                    <div class="form-group">
                        <label class="form-label">讲稿标题 <span class="required">*</span></label>
                        <input type="text" class="form-input" placeholder="请输入讲稿标题">
                    </div>
                    <div class="form-group">
                        <label class="form-label">讲稿分类</label>
                        <select class="form-input">
                            <option>临床指南</option>
                            <option>病例分享</option>
                            <option>学术研究</option>
                            <option>诊疗规范</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">讲稿内容 <span class="required">*</span></label>
                        <textarea class="form-textarea" placeholder="请输入讲稿内容" rows="12"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">附件上传</label>
                        <div style="border: 2px dashed #d9d9d9; border-radius: 8px; padding: 20px; text-align: center; cursor: pointer;">
                            <div style="font-size: 24px; margin-bottom: 8px;">📎</div>
                            <div style="font-size: 12px; color: #999;">点击上传附件（支持PDF、PPT、DOC等格式）</div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="showPage('presentation')">取消</button>
                        <button class="btn btn-primary" onclick="alert('创建成功！'); showPage('presentation');">确定</button>
                    </div>
                </div>
            `);
        }

        function viewPresentation(id) {
            showDetailPage(`page-presentation-detail-${id}`, '讲稿详情', `
                <div class="form-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div class="form-title">乳腺癌MDT诊疗规范与流程</div>
                        <div>
                            <button class="btn btn-default" onclick="downloadPresentation(${id})" style="margin-right: 8px;">下载</button>
                            <button class="btn btn-default" onclick="sharePresentation(${id})" style="margin-right: 8px;">分享</button>
                            <button class="btn btn-default" onclick="editPresentation(${id})" style="margin-right: 8px;">编辑</button>
                            <button class="btn btn-primary" onclick="showPage('presentation')">返回</button>
                        </div>
                    </div>
                    <div style="background: #fafafa; padding: 16px; border-radius: 8px; margin-bottom: 24px;">
                        <div style="margin-bottom: 8px;"><strong>作者：</strong>张医生</div>
                        <div style="margin-bottom: 8px;"><strong>创建时间：</strong>2025-01-06 10:30</div>
                        <div style="margin-bottom: 8px;"><strong>分类：</strong>诊疗规范</div>
                        <div><strong>浏览次数：</strong>125 次</div>
                    </div>
                    <div style="background: #fff; padding: 24px; border-radius: 8px; border: 1px solid #e8e8e8; line-height: 1.8; color: #333;">
                        <h3 style="margin-bottom: 16px;">一、MDT诊疗概述</h3>
                        <p style="margin-bottom: 16px;">多学科协作（MDT）是乳腺癌诊疗的重要模式，通过多学科专家的共同讨论，为患者制定个体化的诊疗方案。</p>
                        <h3 style="margin-bottom: 16px;">二、MDT团队组成</h3>
                        <p style="margin-bottom: 16px;">MDT团队应包括：乳腺外科、肿瘤内科、放疗科、病理科、影像科等专业医生。</p>
                        <h3 style="margin-bottom: 16px;">三、MDT诊疗流程</h3>
                        <p style="margin-bottom: 16px;">1. 病例准备与资料收集<br>2. MDT会议讨论<br>3. 制定诊疗方案<br>4. 方案执行与随访</p>
                    </div>
                </div>
            `);
        }

        function editPresentation(id) {
            showDetailPage(`page-edit-presentation-${id}`, '编辑讲稿', `
                <div class="form-container">
                    <div class="form-title">编辑讲稿</div>
                    <div class="form-group">
                        <label class="form-label">讲稿标题 <span class="required">*</span></label>
                        <input type="text" class="form-input" value="乳腺癌MDT诊疗规范与流程" placeholder="请输入讲稿标题">
                    </div>
                    <div class="form-group">
                        <label class="form-label">讲稿分类</label>
                        <select class="form-input">
                            <option selected>诊疗规范</option>
                            <option>临床指南</option>
                            <option>病例分享</option>
                            <option>学术研究</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">讲稿内容 <span class="required">*</span></label>
                        <textarea class="form-textarea" rows="12" placeholder="请输入讲稿内容">一、MDT诊疗概述
多学科协作（MDT）是乳腺癌诊疗的重要模式，通过多学科专家的共同讨论，为患者制定个体化的诊疗方案。

二、MDT团队组成
MDT团队应包括：乳腺外科、肿瘤内科、放疗科、病理科、影像科等专业医生。

三、MDT诊疗流程
1. 病例准备与资料收集
2. MDT会议讨论
3. 制定诊疗方案
4. 方案执行与随访</textarea>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="viewPresentation(${id})">取消</button>
                        <button class="btn btn-primary" onclick="alert('保存成功！'); viewPresentation(${id});">保存</button>
                    </div>
                </div>
            `);
        }

        // 会诊相关函数
        function showCreateConsultationForm() {
            showDetailPage('page-create-consultation', '创建会诊', `
                <div class="form-container">
                    <div class="form-title">创建会诊</div>
                    <div class="form-group">
                        <label class="form-label">会诊主题 <span class="required">*</span></label>
                        <input type="text" class="form-input" placeholder="请输入会诊主题">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                        <div class="form-group">
                            <label class="form-label">会诊时间 <span class="required">*</span></label>
                            <input type="datetime-local" class="form-input">
                        </div>
                        <div class="form-group">
                            <label class="form-label">会诊方式</label>
                            <select class="form-input">
                                <option>线上会议</option>
                                <option>线下会议</option>
                                <option>混合模式</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">会诊患者 <span class="required">*</span></label>
                        <select class="form-input">
                            <option>请选择患者</option>
                            <option>张三</option>
                            <option>李四</option>
                            <option>王五</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">参与团队 <span class="required">*</span></label>
                        <div style="display: flex; gap: 8px; flex-wrap: wrap; margin-top: 8px;">
                            <span class="dept-tag" style="cursor: pointer;">乳腺外科</span>
                            <span class="dept-tag" style="cursor: pointer;">肿瘤内科</span>
                            <span class="dept-tag" style="cursor: pointer;">放疗科</span>
                            <span class="dept-tag" style="cursor: pointer;">病理科</span>
                            <span class="dept-tag" style="cursor: pointer;">影像科</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">会诊目的</label>
                        <textarea class="form-textarea" placeholder="请描述会诊目的和需要讨论的问题" rows="4"></textarea>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="showPage('consultation')">取消</button>
                        <button class="btn btn-primary" onclick="alert('创建成功！'); showPage('consultation');">确定</button>
                    </div>
                </div>
            `);
        }

        function viewConsultation(id) {
            showDetailPage(`page-consultation-detail-${id}`, '会诊详情', `
                <div class="form-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div class="form-title">复杂乳腺癌MDT会诊</div>
                        <div>
                            <button class="btn btn-default" onclick="inviteConsultationMembers(${id})" style="margin-right: 8px;">邀请成员</button>
                            <button class="btn btn-default" onclick="exportConsultationRecord(${id})" style="margin-right: 8px;">导出记录</button>
                            <button class="btn btn-default" onclick="editConsultation(${id})" style="margin-right: 8px;">编辑</button>
                            <button class="btn btn-primary" onclick="startConsultation(${id})" style="margin-right: 8px;">开始会诊</button>
                            <button class="btn btn-default" onclick="showPage('consultation')">返回</button>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
                        <div style="background: #fafafa; padding: 16px; border-radius: 8px;">
                            <div style="font-weight: 500; margin-bottom: 12px;">会诊信息</div>
                            <div style="margin-bottom: 8px;"><strong>会诊时间：</strong>2025-01-10 14:00</div>
                            <div style="margin-bottom: 8px;"><strong>发起人：</strong>张医生</div>
                            <div style="margin-bottom: 8px;"><strong>会诊方式：</strong>线上会议</div>
                            <div style="margin-bottom: 8px;"><strong>状态：</strong><span class="status-tag pending">待开始</span></div>
                        </div>
                        <div style="background: #fafafa; padding: 16px; border-radius: 8px;">
                            <div style="font-weight: 500; margin-bottom: 12px;">患者信息</div>
                            <div style="margin-bottom: 8px;"><strong>患者姓名：</strong>张三</div>
                            <div style="margin-bottom: 8px;"><strong>诊断：</strong>左侧乳腺癌</div>
                            <div style="margin-bottom: 8px;"><strong>肿瘤分期：</strong>T2N0M0</div>
                        </div>
                    </div>
                    <div style="background: #fafafa; padding: 16px; border-radius: 8px; margin-bottom: 24px;">
                        <div style="font-weight: 500; margin-bottom: 12px;">参与团队</div>
                        <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                            <span class="dept-tag">乳腺外科</span>
                            <span class="dept-tag">肿瘤内科</span>
                            <span class="dept-tag">放疗科</span>
                        </div>
                    </div>
                    <div style="background: #fafafa; padding: 16px; border-radius: 8px; margin-bottom: 24px;">
                        <div style="font-weight: 500; margin-bottom: 12px;">会诊目的</div>
                        <div style="color: #666; line-height: 1.6;">讨论该患者的治疗方案，包括手术方式、辅助治疗选择等。</div>
                    </div>
                    <div style="background: #fff; border: 1px solid #e8e8e8; border-radius: 8px; padding: 16px;">
                        <div style="font-weight: 500; margin-bottom: 16px; display: flex; justify-content: space-between; align-items: center;">
                            <span>参与成员</span>
                            <button class="btn btn-primary" style="padding: 4px 12px; font-size: 12px;" onclick="inviteConsultationMembers(${id})">邀请成员</button>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;">
                            <div style="padding: 12px; background: #fafafa; border-radius: 4px;">
                                <div style="font-weight: 500; margin-bottom: 4px;">张医生</div>
                                <div style="font-size: 12px; color: #999;">乳腺外科 · 主任医师</div>
                            </div>
                            <div style="padding: 12px; background: #fafafa; border-radius: 4px;">
                                <div style="font-weight: 500; margin-bottom: 4px;">李医生</div>
                                <div style="font-size: 12px; color: #999;">肿瘤内科 · 副主任医师</div>
                            </div>
                            <div style="padding: 12px; background: #fafafa; border-radius: 4px;">
                                <div style="font-weight: 500; margin-bottom: 4px;">王医生</div>
                                <div style="font-size: 12px; color: #999;">放疗科 · 主任医师</div>
                            </div>
                        </div>
                    </div>
                </div>
            `);
        }

        // 邀请会诊成员
        function inviteConsultationMembers(id) {
            showDetailPage(`page-invite-members-${id}`, '邀请会诊成员', `
                <div class="form-container">
                    <div class="form-title">邀请会诊成员</div>
                    <div class="form-group">
                        <label class="form-label">选择团队</label>
                        <select class="form-input">
                            <option>请选择团队</option>
                            <option>江苏省乳腺癌MDT团队</option>
                            <option>南京地区MDT协作组</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">选择成员</label>
                        <div style="border: 1px solid #e8e8e8; border-radius: 4px; padding: 12px; max-height: 200px; overflow-y: auto;">
                            <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px; cursor: pointer;">
                                <input type="checkbox"> 张医生（乳腺外科）
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px; cursor: pointer;">
                                <input type="checkbox"> 李医生（肿瘤内科）
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px; cursor: pointer;">
                                <input type="checkbox"> 王医生（放疗科）
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox"> 赵医生（病理科）
                            </label>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="viewConsultation(${id})">取消</button>
                        <button class="btn btn-primary" onclick="alert('邀请已发送！'); viewConsultation(${id});">发送邀请</button>
                    </div>
                </div>
            `);
        }

        // 导出会诊记录
        function exportConsultationRecord(id) {
            if(confirm('确定要导出会诊记录吗？')) {
                alert('会诊记录导出中，请稍候...');
            }
        }

        function editConsultation(id) {
            showCreateConsultationForm();
        }

        function startConsultation(id) {
            if(confirm('确定要开始会诊吗？')) {
                showDetailPage(`page-consultation-meeting-${id}`, '会诊进行中', `
                    <div style="background: #fff; border-radius: 8px; padding: 24px; text-align: center;">
                        <div style="font-size: 24px; margin-bottom: 16px;">🎥</div>
                        <div style="font-size: 18px; font-weight: 500; margin-bottom: 8px;">会诊进行中</div>
                        <div style="color: #666; margin-bottom: 24px;">会诊已开始，正在连接...</div>
                        <button class="btn btn-primary" onclick="showPage('consultation')">进入会诊</button>
                    </div>
                `);
            }
        }

        function joinConsultation(id) {
            startConsultation(id);
        }

        function viewRecord(id) {
            showDetailPage(`page-consultation-record-${id}`, '会诊记录', `
                <div class="form-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div class="form-title">会诊记录</div>
                        <button class="btn btn-primary" onclick="showPage('consultation')">返回</button>
                    </div>
                    <div style="background: #fafafa; padding: 16px; border-radius: 8px; margin-bottom: 24px;">
                        <div style="margin-bottom: 8px;"><strong>会诊主题：</strong>术后化疗方案调整</div>
                        <div style="margin-bottom: 8px;"><strong>会诊时间：</strong>2025-01-08 15:00</div>
                        <div style="margin-bottom: 8px;"><strong>参与医生：</strong>王医生、李医生、赵医生</div>
                    </div>
                    <div style="background: #fff; padding: 24px; border-radius: 8px; border: 1px solid #e8e8e8;">
                        <h3 style="margin-bottom: 16px;">会诊讨论内容</h3>
                        <div style="line-height: 1.8; color: #333; margin-bottom: 24px;">
                            <p style="margin-bottom: 12px;"><strong>王医生（肿瘤内科）：</strong>根据患者病理结果，建议采用AC-T方案进行辅助化疗。</p>
                            <p style="margin-bottom: 12px;"><strong>李医生（乳腺外科）：</strong>同意化疗方案，建议在化疗前完成手术。</p>
                            <p style="margin-bottom: 12px;"><strong>赵医生（病理科）：</strong>病理报告显示ER+、PR+、HER2-，符合化疗指征。</p>
                        </div>
                        <h3 style="margin-bottom: 16px;">会诊结论</h3>
                        <div style="background: #e6f7ff; padding: 16px; border-radius: 8px; border-left: 4px solid #1890ff;">
                            <p style="margin: 0; line-height: 1.8;">1. 建议采用AC-T方案进行辅助化疗<br>2. 化疗周期：4个周期AC，4个周期T<br>3. 定期复查血常规、肝肾功能</p>
                        </div>
                    </div>
                </div>
            `);
        }

        // 团队相关函数
        function showCreateTeamForm() {
            showDetailPage('page-create-team', '创建团队', `
                <div class="form-container">
                    <div class="form-title">创建MDT团队</div>
                    <div class="form-group">
                        <label class="form-label">团队名称 <span class="required">*</span></label>
                        <input type="text" class="form-input" placeholder="请输入团队名称">
                    </div>
                    <div class="form-group">
                        <label class="form-label">团队描述</label>
                        <textarea class="form-textarea" placeholder="请输入团队描述" rows="4"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">参与科室 <span class="required">*</span></label>
                        <div style="display: flex; gap: 8px; flex-wrap: wrap; margin-top: 8px;">
                            <span class="dept-tag" style="cursor: pointer;">乳腺外科</span>
                            <span class="dept-tag" style="cursor: pointer;">肿瘤内科</span>
                            <span class="dept-tag" style="cursor: pointer;">放疗科</span>
                            <span class="dept-tag" style="cursor: pointer;">病理科</span>
                            <span class="dept-tag" style="cursor: pointer;">影像科</span>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="showPage('team')">取消</button>
                        <button class="btn btn-primary" onclick="alert('创建成功！'); showPage('team');">确定</button>
                    </div>
                </div>
            `);
        }

        function viewTeamDetail(id) {
            showDetailPage(`page-team-detail-${id}`, '团队详情', `
                <div class="form-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div class="form-title">江苏省乳腺癌MDT团队</div>
                        <div>
                            <button class="btn btn-default" onclick="viewTeamConsultations(${id})" style="margin-right: 8px;">查看会诊</button>
                            <button class="btn btn-default" onclick="editTeamInfo(${id})" style="margin-right: 8px;">编辑</button>
                            <button class="btn btn-default" onclick="manageTeam(${id})" style="margin-right: 8px;">管理</button>
                            <button class="btn btn-default" onclick="exitTeam(${id})" style="margin-right: 8px;">退出团队</button>
                            <button class="btn btn-primary" onclick="showPage('team')">返回</button>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
                        <div>
                            <div class="form-title" style="font-size: 16px; margin-bottom: 16px;">团队信息</div>
                            <div style="background: #fafafa; padding: 16px; border-radius: 8px;">
                                <div style="margin-bottom: 12px;"><strong>团队名称：</strong>江苏省乳腺癌MDT团队</div>
                                <div style="margin-bottom: 12px;"><strong>团队描述：</strong>专注于乳腺癌MDT诊疗的协作团队</div>
                                <div style="margin-bottom: 12px;"><strong>管理员：</strong>张主任</div>
                                <div style="margin-bottom: 12px;"><strong>团队成员：</strong>12人</div>
                                <div style="margin-bottom: 12px;"><strong>参与科室：</strong>5个</div>
                                <div style="margin-bottom: 12px;"><strong>MDT次数：</strong>28次</div>
                                <div><strong>创建时间：</strong>2024-01-15</div>
                            </div>
                        </div>
                        <div>
                            <div class="form-title" style="font-size: 16px; margin-bottom: 16px;">参与科室</div>
                            <div style="background: #fafafa; padding: 16px; border-radius: 8px; display: flex; flex-wrap: wrap; gap: 8px;">
                                <span class="dept-tag">乳腺外科</span>
                                <span class="dept-tag">肿瘤内科</span>
                                <span class="dept-tag">放疗科</span>
                                <span class="dept-tag">病理科</span>
                                <span class="dept-tag">影像科</span>
                            </div>
                        </div>
                    </div>
                    <div style="background: #fff; border: 1px solid #e8e8e8; border-radius: 8px; padding: 16px; margin-bottom: 24px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <div class="form-title" style="font-size: 16px; margin: 0;">团队成员 (12人)</div>
                            <button class="btn btn-primary" style="padding: 4px 12px; font-size: 12px;" onclick="inviteTeamMember(${id})">邀请成员</button>
                        </div>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>姓名</th>
                                    <th>职称</th>
                                    <th>科室</th>
                                    <th>医院</th>
                                    <th>角色</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>张主任</td>
                                    <td>主任医师</td>
                                    <td>乳腺外科</td>
                                    <td>江苏省人民医院</td>
                                    <td><span class="status-tag complete">管理员</span></td>
                                    <td><a class="action-link" onclick="viewDoctorDetail('1')">查看</a></td>
                                </tr>
                                <tr>
                                    <td>李医生</td>
                                    <td>副主任医师</td>
                                    <td>肿瘤内科</td>
                                    <td>江苏省人民医院</td>
                                    <td><span class="status-tag pending">成员</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewDoctorDetail('2')">查看</a>
                                            <a class="action-link" onclick="setTeamMemberRole(${id}, '2')">设管理员</a>
                                            <a class="action-link danger" onclick="removeTeamMember(${id}, '2')">移除</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>王医生</td>
                                    <td>主任医师</td>
                                    <td>放疗科</td>
                                    <td>江苏省肿瘤医院</td>
                                    <td><span class="status-tag pending">成员</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewDoctorDetail('3')">查看</a>
                                            <a class="action-link" onclick="setTeamMemberRole(${id}, '3')">设管理员</a>
                                            <a class="action-link danger" onclick="removeTeamMember(${id}, '3')">移除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div style="background: #fff; border: 1px solid #e8e8e8; border-radius: 8px; padding: 16px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <div class="form-title" style="font-size: 16px; margin: 0;">团队会诊记录</div>
                            <a class="action-link" onclick="viewTeamConsultations(${id})">查看全部</a>
                        </div>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>会诊时间</th>
                                    <th>会诊主题</th>
                                    <th>发起人</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>2025-01-10 14:00</td>
                                    <td>复杂乳腺癌MDT会诊</td>
                                    <td>张医生</td>
                                    <td><span class="status-tag finished">已结束</span></td>
                                    <td><a class="action-link" onclick="viewConsultation(1)">查看</a></td>
                                </tr>
                                <tr>
                                    <td>2025-01-08 10:00</td>
                                    <td>保乳手术方案讨论</td>
                                    <td>李医生</td>
                                    <td><span class="status-tag finished">已结束</span></td>
                                    <td><a class="action-link" onclick="viewConsultation(2)">查看</a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            `);
        }

        // 团队更多操作
        function showTeamMoreActions(id) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content" style="width: 300px;">
                    <button class="modal-close" onclick="this.closest('.modal-overlay').remove()">×</button>
                    <div class="form-title">团队操作</div>
                    <div style="display: grid; gap: 8px;">
                        <button class="btn btn-default" style="width: 100%; text-align: left;" onclick="viewTeamDetail(${id}); this.closest('.modal-overlay').remove();">查看详情</button>
                        <button class="btn btn-default" style="width: 100%; text-align: left;" onclick="editTeamInfo(${id}); this.closest('.modal-overlay').remove();">编辑团队</button>
                        <button class="btn btn-default" style="width: 100%; text-align: left;" onclick="manageTeam(${id}); this.closest('.modal-overlay').remove();">管理团队</button>
                        <button class="btn btn-default" style="width: 100%; text-align: left;" onclick="viewTeamConsultations(${id}); this.closest('.modal-overlay').remove();">查看会诊</button>
                        <button class="btn btn-default" style="width: 100%; text-align: left; color: #ff4d4f;" onclick="exitTeam(${id}); this.closest('.modal-overlay').remove();">退出团队</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // 编辑团队信息
        function editTeamInfo(id) {
            showDetailPage(`page-edit-team-${id}`, '编辑团队信息', `
                <div class="form-container">
                    <div class="form-title">编辑团队信息</div>
                    <div class="form-group">
                        <label class="form-label">团队名称 <span style="color: #ff4d4f;">*</span></label>
                        <input type="text" class="form-input" value="江苏省乳腺癌MDT团队">
                    </div>
                    <div class="form-group">
                        <label class="form-label">团队描述</label>
                        <textarea class="form-textarea" rows="3" placeholder="请输入团队描述">专注于乳腺癌MDT诊疗的协作团队</textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">团队类型</label>
                        <select class="form-input">
                            <option>MDT团队</option>
                            <option>协作组</option>
                            <option>研究中心</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">团队权限</label>
                        <div style="margin-top: 8px;">
                            <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px; cursor: pointer;">
                                <input type="radio" name="teamPermission" value="public" checked> 公开（任何人都可以查看）
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px; cursor: pointer;">
                                <input type="radio" name="teamPermission" value="private"> 私有（仅成员可见）
                            </label>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="viewTeamDetail(${id})">取消</button>
                        <button class="btn btn-primary" onclick="alert('保存成功！'); viewTeamDetail(${id});">保存</button>
                    </div>
                </div>
            `);
        }

        // 退出团队
        function exitTeam(id) {
            if(confirm('确定要退出该团队吗？退出后将无法查看团队相关信息。')) {
                alert('已退出团队');
                showPage('team');
            }
        }

        // 查看团队会诊
        function viewTeamConsultations(teamId) {
            showDetailPage(`page-team-consultations-${teamId}`, '团队会诊记录', `
                <div class="form-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div class="form-title">团队会诊记录</div>
                        <button class="btn btn-primary" onclick="viewTeamDetail(${teamId})">返回</button>
                    </div>
                    <div style="background: #fff; border: 1px solid #e8e8e8; border-radius: 8px; padding: 16px;">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>会诊时间</th>
                                    <th>会诊主题</th>
                                    <th>发起人</th>
                                    <th>参与成员</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>2025-01-10 14:00</td>
                                    <td>复杂乳腺癌MDT会诊</td>
                                    <td>张医生</td>
                                    <td>12人</td>
                                    <td><span class="status-tag finished">已结束</span></td>
                                    <td><a class="action-link" onclick="viewConsultation(1)">查看</a></td>
                                </tr>
                                <tr>
                                    <td>2025-01-08 10:00</td>
                                    <td>保乳手术方案讨论</td>
                                    <td>李医生</td>
                                    <td>10人</td>
                                    <td><span class="status-tag finished">已结束</span></td>
                                    <td><a class="action-link" onclick="viewConsultation(2)">查看</a></td>
                                </tr>
                                <tr>
                                    <td>2025-01-05 15:00</td>
                                    <td>术后化疗方案调整</td>
                                    <td>王医生</td>
                                    <td>8人</td>
                                    <td><span class="status-tag finished">已结束</span></td>
                                    <td><a class="action-link" onclick="viewConsultation(3)">查看</a></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            `);
        }

        // 查看医生详情
        function viewDoctorDetail(doctorId) {
            alert('查看医生详情功能');
        }

        // 设置团队成员角色
        function setTeamMemberRole(teamId, memberId) {
            if(confirm('确定要设置该成员为管理员吗？')) {
                alert('设置成功！');
            }
        }

        // 移除团队成员
        function removeTeamMember(teamId, memberId) {
            if(confirm('确定要移除该团队成员吗？')) {
                alert('移除成功！');
            }
        }

        // 解散团队
        function dissolveTeam(id) {
            if(confirm('警告：解散团队后，所有团队成员将被移除，团队数据将被删除，此操作不可恢复！\n\n确定要解散该团队吗？')) {
                if(confirm('请再次确认，您真的要解散该团队吗？')) {
                    alert('团队已解散');
                    showPage('team');
                }
            }
        }

        // 查看团队申请列表
        function viewTeamApplications(teamId) {
            showDetailPage(`page-team-applications-${teamId}`, '团队申请列表', `
                <div class="form-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div class="form-title">团队申请列表</div>
                        <button class="btn btn-primary" onclick="manageTeam(${teamId})">返回</button>
                    </div>
                    <div style="background: #fff; border: 1px solid #e8e8e8; border-radius: 8px; padding: 16px;">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>申请人</th>
                                    <th>职称</th>
                                    <th>科室</th>
                                    <th>医院</th>
                                    <th>申请理由</th>
                                    <th>申请时间</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>周医生</td>
                                    <td>副主任医师</td>
                                    <td>乳腺外科</td>
                                    <td>南京市第一医院</td>
                                    <td>希望参与MDT讨论，提升诊疗水平</td>
                                    <td>2025-01-08 10:30</td>
                                    <td><span class="status-tag pending">待审核</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="approveTeamApplication(${teamId}, '1')">通过</a>
                                            <a class="action-link danger" onclick="rejectTeamApplication(${teamId}, '1')">拒绝</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>吴医生</td>
                                    <td>主任医师</td>
                                    <td>肿瘤内科</td>
                                    <td>南京市鼓楼医院</td>
                                    <td>希望与同行交流学习</td>
                                    <td>2025-01-07 14:20</td>
                                    <td><span class="status-tag complete">已通过</span></td>
                                    <td><span style="color: #999;">已处理</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            `);
        }

        // 通过团队申请
        function approveTeamApplication(teamId, applicationId) {
            if(confirm('确定要通过该申请吗？')) {
                alert('已通过申请，该成员已加入团队');
            }
        }

        // 拒绝团队申请
        function rejectTeamApplication(teamId, applicationId) {
            if(confirm('确定要拒绝该申请吗？')) {
                alert('已拒绝申请');
            }
        }

        function manageTeam(id) {
            showDetailPage(`page-manage-team-${id}`, '团队管理', `
                <div class="form-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div class="form-title">团队管理 - 江苏省乳腺癌MDT团队</div>
                        <div>
                            <button class="btn btn-default" onclick="editTeamInfo(${id})" style="margin-right: 8px;">编辑团队</button>
                            <button class="btn btn-default danger" onclick="dissolveTeam(${id})" style="margin-right: 8px;">解散团队</button>
                            <button class="btn btn-primary" onclick="viewTeamDetail(${id})">返回</button>
                        </div>
                    </div>
                    <div style="background: #fff; border: 1px solid #e8e8e8; border-radius: 8px; overflow: hidden; margin-bottom: 24px;">
                        <div style="padding: 16px; background: #fafafa; border-bottom: 1px solid #e8e8e8; display: flex; justify-content: space-between; align-items: center;">
                            <div style="font-weight: 500;">团队成员管理</div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-default" style="padding: 4px 12px; font-size: 12px;" onclick="viewTeamApplications(${id})">申请列表</button>
                                <button class="btn btn-primary" style="padding: 4px 12px; font-size: 12px;" onclick="inviteTeamMember(${id})">邀请成员</button>
                            </div>
                        </div>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>姓名</th>
                                    <th>职称</th>
                                    <th>科室</th>
                                    <th>医院</th>
                                    <th>角色</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>张医生</td>
                                    <td>主任医师</td>
                                    <td>乳腺外科</td>
                                    <td>江苏省人民医院</td>
                                    <td><span class="status-tag complete">管理员</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewDoctorDetail('1')">查看</a>
                                            <a class="action-link danger" onclick="removeTeamMember(${id}, '1')">移除</a>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>李医生</td>
                                    <td>副主任医师</td>
                                    <td>肿瘤内科</td>
                                    <td>江苏省人民医院</td>
                                    <td><span class="status-tag pending">成员</span></td>
                                    <td>
                                        <div class="action-btns">
                                            <a class="action-link" onclick="viewDoctorDetail('2')">查看</a>
                                            <a class="action-link" onclick="setTeamMemberRole(${id}, '2')">设管理员</a>
                                            <a class="action-link danger" onclick="removeTeamMember(${id}, '2')">移除</a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="form-group">
                        <label class="form-label">团队设置</label>
                        <div style="background: #fafafa; padding: 16px; border-radius: 8px;">
                            <div style="margin-bottom: 12px;">
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" checked> 允许成员邀请其他医生
                                </label>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" checked> 公开团队信息
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="viewTeamDetail(${id})">取消</button>
                        <button class="btn btn-primary" onclick="alert('保存成功！'); viewTeamDetail(${id});">保存</button>
                    </div>
                </div>
            `);
        }

        function joinTeam(id) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content" style="width: 500px;">
                    <button class="modal-close" onclick="this.closest('.modal-overlay').remove()">×</button>
                    <div class="form-title">申请加入团队</div>
                    <div class="form-group">
                        <label class="form-label">团队名称</label>
                        <input type="text" class="form-input" value="江苏省乳腺癌MDT团队" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">申请理由</label>
                        <textarea class="form-textarea" rows="3" placeholder="请输入申请理由"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">所属科室</label>
                        <select class="form-input">
                            <option>请选择</option>
                            <option>乳腺外科</option>
                            <option>肿瘤内科</option>
                            <option>放疗科</option>
                            <option>病理科</option>
                            <option>影像科</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="this.closest('.modal-overlay').remove()">取消</button>
                        <button class="btn btn-primary" onclick="alert('申请已提交，等待管理员审核'); this.closest('.modal-overlay').remove();">提交申请</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // 病例相关函数
        function showShareCaseForm() {
            showDetailPage('page-share-case', '共享病例', `
                <div class="form-container">
                    <div class="form-title">共享病例</div>
                    <div class="form-group">
                        <label class="form-label">选择患者 <span class="required">*</span></label>
                        <select class="form-input">
                            <option>请选择患者</option>
                            <option>张三</option>
                            <option>李四</option>
                            <option>王五</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">共享标题</label>
                        <input type="text" class="form-input" placeholder="请输入共享标题（可选）">
                    </div>
                    <div class="form-group">
                        <label class="form-label">共享说明</label>
                        <textarea class="form-textarea" placeholder="请输入共享说明" rows="4"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">共享范围</label>
                        <div style="margin-top: 8px;">
                            <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                <input type="radio" name="shareScope" value="all" checked> 全部用户可见
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                <input type="radio" name="shareScope" value="team"> 仅团队内可见
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="radio" name="shareScope" value="private"> 仅指定用户可见
                            </label>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="showPage('case')">取消</button>
                        <button class="btn btn-primary" onclick="alert('共享成功！'); showPage('case');">确定</button>
                    </div>
                </div>
            `);
        }

        function viewCaseDetail(id) {
            showDetailPage(`page-case-detail-${id}`, '病例详情', `
                <div class="form-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div class="form-title">病例详情</div>
                        <div>
                            <button class="btn btn-default" onclick="collectCase(${id})" style="margin-right: 8px;">收藏</button>
                            <button class="btn btn-default" onclick="downloadCase(${id})" style="margin-right: 8px;">下载</button>
                            <button class="btn btn-primary" onclick="showPage('case')">返回</button>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
                        <div style="background: #fafafa; padding: 16px; border-radius: 8px;">
                            <div style="font-weight: 500; margin-bottom: 12px;">患者信息</div>
                            <div style="margin-bottom: 8px;"><strong>患者姓名：</strong>张**</div>
                            <div style="margin-bottom: 8px;"><strong>性别：</strong>女</div>
                            <div style="margin-bottom: 8px;"><strong>诊断：</strong>左侧乳腺癌</div>
                            <div style="margin-bottom: 8px;"><strong>肿瘤分期：</strong>T2N0M0</div>
                            <div><strong>病例标签：</strong><span class="dept-tag">早期乳腺癌</span></div>
                        </div>
                        <div style="background: #fafafa; padding: 16px; border-radius: 8px;">
                            <div style="font-weight: 500; margin-bottom: 12px;">医生信息</div>
                            <div style="margin-bottom: 8px;"><strong>医生姓名：</strong>张医生</div>
                            <div style="margin-bottom: 8px;"><strong>医院名称：</strong>江苏省人民医院</div>
                            <div style="margin-bottom: 8px;"><strong>科室：</strong>乳腺外科</div>
                        </div>
                    </div>
                    <div style="background: #fff; padding: 24px; border-radius: 8px; border: 1px solid #e8e8e8;">
                        <h3 style="margin-bottom: 16px;">病例详情</h3>
                        <div style="line-height: 1.8; color: #333;">
                            <p style="margin-bottom: 12px;">患者，女，45岁，因发现左侧乳房肿块就诊。经检查诊断为左侧乳腺癌，T2N0M0期。</p>
                            <p style="margin-bottom: 12px;">通过MDT多学科协作，制定了个性化治疗方案，包括保乳手术、辅助化疗等。</p>
                            <p>患者术后恢复良好，目前正在进行辅助化疗。</p>
                        </div>
                    </div>
                </div>
            `);
        }

        function viewConsultationDetail(id) {
            viewRecord(id);
        }

        // 随访相关函数
        function showCreateFollowupForm() {
            showDetailPage('page-create-followup', '创建随访', `
                <div class="form-container">
                    <div class="form-title">创建随访</div>
                    <div class="form-group">
                        <label class="form-label">选择患者 <span class="required">*</span></label>
                        <select class="form-input">
                            <option>请选择患者</option>
                            <option>张三</option>
                            <option>李四</option>
                            <option>王五</option>
                        </select>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                        <div class="form-group">
                            <label class="form-label">随访时间 <span class="required">*</span></label>
                            <input type="datetime-local" class="form-input">
                        </div>
                        <div class="form-group">
                            <label class="form-label">随访方式 <span class="required">*</span></label>
                            <select class="form-input">
                                <option>电话随访</option>
                                <option>门诊随访</option>
                                <option>微信随访</option>
                                <option>邮件随访</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">随访内容 <span class="required">*</span></label>
                        <textarea class="form-textarea" placeholder="请输入随访内容" rows="6"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">随访结果</label>
                        <select class="form-input">
                            <option>良好</option>
                            <option>一般</option>
                            <option>较差</option>
                            <option>待复查</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">下次随访时间</label>
                        <input type="date" class="form-input">
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="showPage('followup')">取消</button>
                        <button class="btn btn-primary" onclick="alert('创建成功！'); showPage('followup');">确定</button>
                    </div>
                </div>
            `);
        }

        function viewFollowup(id) {
            showDetailPage(`page-followup-detail-${id}`, '随访详情', `
                <div class="form-container">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                        <div class="form-title">随访详情</div>
                        <div>
                            <button class="btn btn-default" onclick="createNextFollowup(${id})" style="margin-right: 8px;">创建下次随访</button>
                            <button class="btn btn-default" onclick="exportFollowupRecord(${id})" style="margin-right: 8px;">导出</button>
                            <button class="btn btn-default" onclick="editFollowup(${id})" style="margin-right: 8px;">编辑</button>
                            <button class="btn btn-primary" onclick="showPage('followup')">返回</button>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
                        <div style="background: #fafafa; padding: 16px; border-radius: 8px;">
                            <div style="font-weight: 500; margin-bottom: 12px;">患者信息</div>
                            <div style="margin-bottom: 8px;"><strong>患者姓名：</strong>张三</div>
                            <div style="margin-bottom: 8px;"><strong>诊断：</strong>左侧乳腺癌</div>
                        </div>
                        <div style="background: #fafafa; padding: 16px; border-radius: 8px;">
                            <div style="font-weight: 500; margin-bottom: 12px;">随访信息</div>
                            <div style="margin-bottom: 8px;"><strong>随访时间：</strong>2025-01-08 10:00</div>
                            <div style="margin-bottom: 8px;"><strong>随访方式：</strong>电话随访</div>
                            <div style="margin-bottom: 8px;"><strong>随访医生：</strong>张医生</div>
                            <div><strong>随访结果：</strong><span class="status-tag complete">良好</span></div>
                        </div>
                    </div>
                    <div style="background: #fff; padding: 24px; border-radius: 8px; border: 1px solid #e8e8e8; margin-bottom: 24px;">
                        <h3 style="margin-bottom: 16px;">随访内容</h3>
                        <div style="line-height: 1.8; color: #333;">
                            <p style="margin-bottom: 12px;">1. 术后恢复情况：患者术后恢复良好，伤口愈合正常，无感染迹象。</p>
                            <p style="margin-bottom: 12px;">2. 用药依从性：患者按时服用药物，无不良反应。</p>
                            <p>3. 生活状态：患者精神状态良好，能够正常进行日常活动。</p>
                        </div>
                    </div>
                    <div style="background: #fafafa; padding: 16px; border-radius: 8px;">
                        <div style="font-weight: 500; margin-bottom: 8px;">下次随访</div>
                        <div style="color: #666;">2025-02-08</div>
                    </div>
                </div>
            `);
        }

        function editFollowup(id) {
            showDetailPage(`page-edit-followup-${id}`, '编辑随访', `
                <div class="form-container">
                    <div class="form-title">编辑随访</div>
                    <div class="form-group">
                        <label class="form-label">患者姓名</label>
                        <input type="text" class="form-input" value="张三" disabled>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                        <div class="form-group">
                            <label class="form-label">随访时间 <span class="required">*</span></label>
                            <input type="datetime-local" class="form-input" value="2025-01-08T10:00">
                        </div>
                        <div class="form-group">
                            <label class="form-label">随访方式 <span class="required">*</span></label>
                            <select class="form-input">
                                <option selected>电话随访</option>
                                <option>门诊随访</option>
                                <option>微信随访</option>
                                <option>邮件随访</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">随访内容 <span class="required">*</span></label>
                        <textarea class="form-textarea" rows="6">术后恢复情况、用药依从性</textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">随访结果</label>
                        <select class="form-input">
                            <option selected>良好</option>
                            <option>一般</option>
                            <option>较差</option>
                            <option>待复查</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">下次随访时间</label>
                        <input type="date" class="form-input" value="2025-02-08">
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="viewFollowup(${id})">取消</button>
                        <button class="btn btn-primary" onclick="alert('保存成功！'); viewFollowup(${id});">保存</button>
                    </div>
                </div>
            `);
        }

        // 筛选功能 - 患者
        function togglePatientFilter() {
            const panel = document.getElementById('patient-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            }
        }

        function resetPatientFilter() {
            const panel = document.getElementById('patient-filter-panel');
            if (panel) {
                panel.querySelectorAll('input, select').forEach(el => {
                    if (el.type === 'text' || el.type === 'date') {
                        el.value = '';
                    } else if (el.tagName === 'SELECT') {
                        el.selectedIndex = 0;
                    }
                });
            }
        }

        function applyPatientFilter() {
            alert('筛选条件已应用');
            togglePatientFilter();
        }

        // 筛选功能 - 会诊
        function toggleConsultationFilter() {
            const panel = document.getElementById('consultation-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            }
        }

        function resetConsultationFilter() {
            const panel = document.getElementById('consultation-filter-panel');
            if (panel) {
                panel.querySelectorAll('input, select').forEach(el => {
                    if (el.type === 'text' || el.type === 'datetime-local') {
                        el.value = '';
                    } else if (el.tagName === 'SELECT') {
                        el.selectedIndex = 0;
                    }
                });
            }
        }

        function applyConsultationFilter() {
            alert('筛选条件已应用');
            toggleConsultationFilter();
        }

        // 筛选功能 - 讲稿
        function togglePresentationFilter() {
            const panel = document.getElementById('presentation-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            }
        }

        function resetPresentationFilter() {
            const panel = document.getElementById('presentation-filter-panel');
            if (panel) {
                panel.querySelectorAll('input, select').forEach(el => {
                    if (el.type === 'text' || el.type === 'date') {
                        el.value = '';
                    } else if (el.tagName === 'SELECT') {
                        el.selectedIndex = 0;
                    }
                });
            }
        }

        function applyPresentationFilter() {
            alert('筛选条件已应用');
            togglePresentationFilter();
        }

        // 筛选功能 - 病例
        function toggleCaseFilter() {
            const panel = document.getElementById('case-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            }
        }

        function resetCaseFilter() {
            const panel = document.getElementById('case-filter-panel');
            if (panel) {
                panel.querySelectorAll('input, select').forEach(el => {
                    if (el.type === 'text') {
                        el.value = '';
                    } else if (el.tagName === 'SELECT') {
                        el.selectedIndex = 0;
                    }
                });
            }
        }

        function applyCaseFilter() {
            alert('筛选条件已应用');
            toggleCaseFilter();
        }

        // 筛选功能 - 随访
        function toggleFollowupFilter() {
            const panel = document.getElementById('followup-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            }
        }

        function resetFollowupFilter() {
            const panel = document.getElementById('followup-filter-panel');
            if (panel) {
                panel.querySelectorAll('input, select').forEach(el => {
                    if (el.type === 'text' || el.type === 'date') {
                        el.value = '';
                    } else if (el.tagName === 'SELECT') {
                        el.selectedIndex = 0;
                    }
                });
            }
        }

        function applyFollowupFilter() {
            alert('筛选条件已应用');
            toggleFollowupFilter();
        }

        // 筛选功能 - 团队
        function toggleTeamFilter() {
            const panel = document.getElementById('team-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
            }
        }

        function resetTeamFilter() {
            const panel = document.getElementById('team-filter-panel');
            if (panel) {
                panel.querySelectorAll('input, select').forEach(el => {
                    if (el.type === 'text') {
                        el.value = '';
                    } else if (el.tagName === 'SELECT') {
                        el.selectedIndex = 0;
                    }
                });
            }
        }

        function applyTeamFilter() {
            alert('筛选条件已应用');
            toggleTeamFilter();
        }

        // 表格排序
        let sortState = {};
        
        function sortTable(type, column, headerId, sortIconId) {
            const header = document.getElementById(headerId);
            const sortIcon = document.getElementById(sortIconId);
            
            if (!sortState[headerId]) {
                sortState[headerId] = 'none';
            }
            
            // 切换排序状态：none -> asc -> desc -> asc
            if (sortState[headerId] === 'none' || sortState[headerId] === 'desc') {
                sortState[headerId] = 'asc';
                if (sortIcon) {
                    sortIcon.innerHTML = '<span class="caret-up active" style="line-height: 0.8; color: #1890ff;">▲</span><span class="caret-down" style="line-height: 0.8; color: #999;">▼</span>';
                }
            } else {
                sortState[headerId] = 'desc';
                if (sortIcon) {
                    sortIcon.innerHTML = '<span class="caret-up" style="line-height: 0.8; color: #999;">▲</span><span class="caret-down active" style="line-height: 0.8; color: #1890ff;">▼</span>';
                }
            }
            
            // 这里可以添加实际的排序逻辑
            console.log(`按${column}列${sortState[headerId] === 'asc' ? '升序' : '降序'}排序`);
        }

        // 批量操作
        function toggleSelectAll(type, checkbox) {
            const checkboxes = document.querySelectorAll(`.${type}-checkbox`);
            checkboxes.forEach(cb => cb.checked = checkbox.checked);
            updateBatchButton();
        }

        function updateBatchButton() {
            const checkboxes = document.querySelectorAll('.patient-checkbox');
            const checked = Array.from(checkboxes).some(cb => cb.checked);
            const btn = document.getElementById('batchBtn');
            if (btn) {
                btn.style.display = checked ? 'flex' : 'none';
            }
        }

        function updateBatchConsultationButton() {
            const checkboxes = document.querySelectorAll('.consultation-checkbox');
            const checked = Array.from(checkboxes).some(cb => cb.checked);
            const btn = document.getElementById('batchConsultationBtn');
            if (btn) {
                btn.style.display = checked ? 'flex' : 'none';
            }
        }

        function showBatchOperation(type) {
            const checkboxes = document.querySelectorAll(`.${type}-checkbox:checked`);
            const ids = Array.from(checkboxes).map(cb => cb.value);
            if (ids.length === 0) {
                alert('请先选择要操作的数据');
                return;
            }

            let operations = [];
            if (type === 'patient') {
                operations = [
                    {text: '批量导出', action: `batchExport('${ids.join(',')}')`},
                    {text: '批量删除', action: `batchDelete('${ids.join(',')}')`},
                    {text: '批量共享', action: `batchShare('${ids.join(',')}')`}
                ];
            } else if (type === 'consultation') {
                operations = [
                    {text: '批量导出', action: `batchExportConsultation('${ids.join(',')}')`},
                    {text: '批量取消', action: `batchCancelConsultation('${ids.join(',')}')`}
                ];
            }

            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content" style="width: 500px;">
                    <button class="modal-close" onclick="this.closest('.modal-overlay').remove()">×</button>
                    <div class="form-title">批量操作</div>
                    <div style="margin-bottom: 24px;">
                        <div style="color: #666; margin-bottom: 16px;">已选择 <strong>${ids.length}</strong> 条数据</div>
                        <div style="display: grid; gap: 12px;">
                            ${operations.map(op => `<button class="btn btn-default" style="width: 100%;" onclick="${op.action}">${op.text}</button>`).join('')}
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-primary" onclick="this.closest('.modal-overlay').remove()">关闭</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        function batchExport(ids) {
            alert(`正在导出 ${ids.split(',').length} 条数据...`);
        }

        function batchDelete(ids) {
            if(confirm(`确定要删除选中的 ${ids.split(',').length} 条数据吗？`)) {
                alert('删除成功！');
                document.querySelectorAll('.patient-checkbox:checked').forEach(cb => {
                    cb.closest('tr').remove();
                });
                updateBatchButton();
            }
        }

        function batchShare(ids) {
            alert(`正在共享 ${ids.split(',').length} 条数据...`);
        }

        function batchExportConsultation(ids) {
            alert(`正在导出 ${ids.split(',').length} 条会诊数据...`);
        }

        function batchCancelConsultation(ids) {
            if(confirm(`确定要取消选中的 ${ids.split(',').length} 个会诊吗？`)) {
                alert('已取消');
            }
        }

        function exportPatientList() {
            if(confirm('确定要导出当前列表数据吗？')) {
                alert('数据导出中，请稍候...');
            }
        }

        function exportConsultationList() {
            if(confirm('确定要导出会诊列表数据吗？')) {
                alert('数据导出中，请稍候...');
            }
        }

        // 下载讲稿
        function downloadPresentation(id) {
            alert('讲稿下载中，请稍候...');
        }

        // 分享讲稿
        function sharePresentation(id) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content" style="width: 500px;">
                    <button class="modal-close" onclick="this.closest('.modal-overlay').remove()">×</button>
                    <div class="form-title">分享讲稿</div>
                    <div class="form-group">
                        <label class="form-label">分享方式</label>
                        <div style="margin-top: 8px;">
                            <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px; cursor: pointer;">
                                <input type="radio" name="shareType" value="link" checked> 生成分享链接
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="shareType" value="team"> 分享到团队
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">分享链接</label>
                        <div style="display: flex; gap: 8px;">
                            <input type="text" class="form-input" value="https://imdt.example.com/share/presentation/${id}" readonly style="flex: 1;">
                            <button class="btn btn-default" onclick="copyToClipboard(this.previousElementSibling.value)">复制</button>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-primary" onclick="this.closest('.modal-overlay').remove()">确定</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // 复制到剪贴板
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('已复制到剪贴板');
            });
        }

        // 收藏病例
        function collectCase(id) {
            alert('已收藏');
        }

        // 下载病例
        function downloadCase(id) {
            if(confirm('确定要下载该病例数据吗？')) {
                alert('病例数据下载中，请稍候...');
            }
        }

        // 创建下次随访
        function createNextFollowup(id) {
            showCreateFollowupForm();
        }

        // 导出随访记录
        function exportFollowupRecord(id) {
            if(confirm('确定要导出该随访记录吗？')) {
                alert('随访记录导出中，请稍候...');
            }
        }

        // 邀请团队成员
        function inviteTeamMember(teamId) {
            showDetailPage(`page-invite-team-member-${teamId}`, '邀请团队成员', `
                <div class="form-container">
                    <div class="form-title">邀请团队成员</div>
                    <div class="form-group">
                        <label class="form-label">搜索医生</label>
                        <div class="search-box" style="max-width: 100%;">
                            <span>🔍</span>
                            <input type="text" placeholder="请输入医生姓名或科室" id="searchDoctor">
                        </div>
                    </div>
                    <div style="background: #fff; border: 1px solid #e8e8e8; border-radius: 8px; padding: 16px; margin-bottom: 24px; max-height: 400px; overflow-y: auto;">
                        <div style="font-weight: 500; margin-bottom: 12px;">医生列表</div>
                        <div style="display: grid; gap: 12px;">
                            <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: #fafafa; border-radius: 4px; cursor: pointer;">
                                <input type="checkbox"> 
                                <div style="flex: 1;">
                                    <div style="font-weight: 500; margin-bottom: 4px;">张医生</div>
                                    <div style="font-size: 12px; color: #999;">乳腺外科 · 主任医师 · 江苏省人民医院</div>
                                </div>
                            </label>
                            <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: #fafafa; border-radius: 4px; cursor: pointer;">
                                <input type="checkbox"> 
                                <div style="flex: 1;">
                                    <div style="font-weight: 500; margin-bottom: 4px;">李医生</div>
                                    <div style="font-size: 12px; color: #999;">肿瘤内科 · 副主任医师 · 南京医科大学第一附属医院</div>
                                </div>
                            </label>
                            <label style="display: flex; align-items: center; gap: 12px; padding: 12px; background: #fafafa; border-radius: 4px; cursor: pointer;">
                                <input type="checkbox"> 
                                <div style="flex: 1;">
                                    <div style="font-weight: 500; margin-bottom: 4px;">王医生</div>
                                    <div style="font-size: 12px; color: #999;">放疗科 · 主任医师 · 江苏省肿瘤医院</div>
                                </div>
                            </label>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="manageTeam(${teamId})">取消</button>
                        <button class="btn btn-primary" onclick="alert('邀请已发送！'); manageTeam(${teamId});">发送邀请</button>
                    </div>
                </div>
            `);
        }

        // 表格设置（表头设置）

        // 用户下拉菜单
        document.getElementById('userInfoDropdown').addEventListener('click', function(e) {
            e.stopPropagation();
            const menu = document.getElementById('userDropdownMenu');
            menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
        });

        document.addEventListener('click', function() {
            document.getElementById('userDropdownMenu').style.display = 'none';
        });

        // 个人中心
        function showPersonalCenter() {
            showDetailPage('page-personal-center', '个人中心', `
                <div class="form-container">
                    <div class="form-title">个人中心</div>
                    <div style="display: grid; grid-template-columns: 200px 1fr; gap: 24px; margin-bottom: 24px;">
                        <div style="text-align: center;">
                            <div style="width: 120px; height: 120px; border-radius: 50%; background: #1890ff; color: white; display: flex; align-items: center; justify-content: center; font-size: 48px; margin: 0 auto 16px;">庞</div>
                            <div style="font-size: 16px; font-weight: 500; margin-bottom: 8px;">庞宇皓</div>
                            <div style="font-size: 12px; color: #999;">主任医师</div>
                        </div>
                        <div>
                            <div class="form-group">
                                <label class="form-label">姓名</label>
                                <input type="text" class="form-input" value="庞宇皓">
                            </div>
                            <div class="form-group">
                                <label class="form-label">职称</label>
                                <input type="text" class="form-input" value="主任医师">
                            </div>
                            <div class="form-group">
                                <label class="form-label">科室</label>
                                <input type="text" class="form-input" value="乳腺外科">
                            </div>
                            <div class="form-group">
                                <label class="form-label">医院</label>
                                <input type="text" class="form-input" value="江苏省人民医院">
                            </div>
                            <div class="form-group">
                                <label class="form-label">联系电话</label>
                                <input type="text" class="form-input" value="138****8888">
                            </div>
                            <div class="form-group">
                                <label class="form-label">邮箱</label>
                                <input type="email" class="form-input" value="pangyuhao@example.com">
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="showPage('home')">取消</button>
                        <button class="btn btn-primary" onclick="alert('保存成功！'); showPage('home');">保存</button>
                    </div>
                </div>
            `);
            document.getElementById('userDropdownMenu').style.display = 'none';
        }

        // 退出登录
        function logout() {
            if(confirm('确定要退出登录吗？')) {
                alert('已退出登录');
                window.location.reload();
            }
            document.getElementById('userDropdownMenu').style.display = 'none';
        }

        // 通知
        function showNotifications() {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content" style="width: 500px;">
                    <button class="modal-close" onclick="this.closest('.modal-overlay').remove()">×</button>
                    <div class="form-title">通知中心</div>
                    <div style="max-height: 400px; overflow-y: auto;">
                        <div style="padding: 16px; border-bottom: 1px solid #e8e8e8;">
                            <div style="font-weight: 500; margin-bottom: 4px;">新患者已创建</div>
                            <div style="font-size: 12px; color: #999; margin-bottom: 8px;">2025-01-08 10:30</div>
                            <div style="font-size: 14px; color: #666;">患者"张三"已成功创建</div>
                        </div>
                        <div style="padding: 16px; border-bottom: 1px solid #e8e8e8;">
                            <div style="font-weight: 500; margin-bottom: 4px;">会诊提醒</div>
                            <div style="font-size: 12px; color: #999; margin-bottom: 8px;">2025-01-08 09:15</div>
                            <div style="font-size: 14px; color: #666;">您有一个会诊将在今天14:00开始</div>
                        </div>
                        <div style="padding: 16px; border-bottom: 1px solid #e8e8e8;">
                            <div style="font-weight: 500; margin-bottom: 4px;">系统更新</div>
                            <div style="font-size: 12px; color: #999; margin-bottom: 8px;">2025-01-07 16:20</div>
                            <div style="font-size: 14px; color: #666;">系统已更新至v2.0版本</div>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // 全屏
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        // 质控评分
        function viewQualityScore(id) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content" style="width: 600px;">
                    <button class="modal-close" onclick="this.closest('.modal-overlay').remove()">×</button>
                    <div class="form-title">质控参考评分</div>
                    <div style="background: #fafafa; padding: 24px; border-radius: 8px; margin-bottom: 24px; text-align: center;">
                        <div style="font-size: 48px; font-weight: 600; color: #1890ff; margin-bottom: 8px;">95分</div>
                        <div style="font-size: 14px; color: #666;">综合评分</div>
                    </div>
                    <div style="margin-bottom: 24px;">
                        <div style="font-weight: 500; margin-bottom: 16px;">评分明细</div>
                        <div style="display: grid; gap: 12px;">
                            <div style="display: flex; justify-content: space-between; padding: 12px; background: #fafafa; border-radius: 4px;">
                                <span>基本信息完整性</span>
                                <span style="font-weight: 500; color: #1890ff;">98分</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 12px; background: #fafafa; border-radius: 4px;">
                                <span>诊断准确性</span>
                                <span style="font-weight: 500; color: #1890ff;">95分</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 12px; background: #fafafa; border-radius: 4px;">
                                <span>治疗方案规范性</span>
                                <span style="font-weight: 500; color: #1890ff;">92分</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 12px; background: #fafafa; border-radius: 4px;">
                                <span>随访记录完整性</span>
                                <span style="font-weight: 500; color: #1890ff;">90分</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-primary" onclick="this.closest('.modal-overlay').remove()">确定</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // 病例二维码
        function viewPatientQRCode(id) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content" style="width: 400px;">
                    <button class="modal-close" onclick="this.closest('.modal-overlay').remove()">×</button>
                    <div class="form-title">病例二维码</div>
                    <div class="qrcode-container">
                        <div class="qrcode-image">📱</div>
                        <div style="font-size: 14px; color: #666; margin-bottom: 16px;">扫描二维码查看病例详情</div>
                        <div style="display: flex; gap: 12px; justify-content: center;">
                            <button class="btn btn-default" onclick="alert('二维码已下载')">下载</button>
                            <button class="btn btn-primary" onclick="this.closest('.modal-overlay').remove()">关闭</button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // ===== 管理员后台：合同模块原型交互 =====

        function toggleAdminContractFilter() {
            const panel = document.getElementById('admin-contract-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
            }
        }

        function resetAdminContractFilter() {
            const panel = document.getElementById('admin-contract-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
            panel.querySelectorAll('select').forEach(s => s.selectedIndex = 0);
        }

        function applyAdminContractFilter() {
            alert('已按当前条件筛选合同（原型示意）');
        }

        function showAdminContractForm() {
            showDetailPage('创建合同', `
                <div class="form-section">
                    <div class="form-title">基本信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">合同名称</label>
                            <input type="text" class="form-input" placeholder="请输入合同名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">所属机构</label>
                            <input type="text" class="form-input" placeholder="请选择机构">
                        </div>
                        <div class="form-group">
                            <label class="form-label">合同类型</label>
                            <select class="form-input">
                                <option>年度服务</option>
                                <option>项目合作</option>
                                <option>推广项目</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">合同状态</label>
                            <select class="form-input">
                                <option>待生效</option>
                                <option>生效中</option>
                                <option>已到期</option>
                                <option>已终止</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">生效时间</label>
                            <input type="date" class="form-input">
                        </div>
                        <div class="form-group">
                            <label class="form-label">失效时间</label>
                            <input type="date" class="form-input">
                        </div>
                    </div>
                </div>
                <div class="form-section">
                    <div class="form-title">合同内容</div>
                    <div class="form-group">
                        <label class="form-label">合同条款</label>
                        <textarea class="form-input" rows="6" placeholder="请输入合同主要条款"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">备注</label>
                        <textarea class="form-input" rows="3" placeholder="请输入备注信息"></textarea>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('admin-contract')">取消</button>
                    <button class="btn btn-primary" onclick="alert('合同已保存（原型示意）'); showPage('admin-contract');">保存</button>
                </div>
            `);
        }

        function viewAdminContractDetail(id) {
            showDetailPage('合同详情', `
                <div class="form-section">
                    <div class="form-title">基本信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">合同名称</label>
                            <div>乳腺癌MDT年度服务合同</div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">所属机构</label>
                            <div>江苏省人民医院</div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">合同类型</label>
                            <div>年度服务</div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">合同状态</label>
                            <div><span class="status-tag complete">生效中</span></div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">生效时间</label>
                            <div>2025-01-01</div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">失效时间</label>
                            <div>2025-12-31</div>
                        </div>
                    </div>
                </div>
                <div class="form-section">
                    <div class="form-title">合同内容</div>
                    <div style="background:#fafafa;padding:16px;border-radius:8px;font-size:14px;color:#666;line-height:1.6;">
                        合同主要约定双方在乳腺癌MDT会诊、病例管理、质控评分等方面的合作内容，包括服务范围、服务指标、费用结算与发票开具方式等。
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('admin-contract')">返回列表</button>
                    <button class="btn btn-primary" onclick="editAdminContract(id)">编辑合同</button>
                </div>
            `);
        }

        function editAdminContract(id) {
            showAdminContractForm();
        }

        function terminateAdminContract(id) {
            if (confirm('确定要终止该合同吗？')) {
                alert('合同已标记为终止（原型示意）');
            }
        }

        // ===== 合同审核列表相关函数 =====
        function toggleContractVerificationFilter() {
            const panel = document.getElementById('contract-verification-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
            }
        }
        function resetContractVerificationFilter() {
            const panel = document.getElementById('contract-verification-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
            panel.querySelectorAll('select').forEach(s => s.selectedIndex = 0);
        }
        function applyContractVerificationFilter() {
            alert('已按当前条件筛选（原型示意）');
        }
        function exportContractVerification() {
            alert('正在导出审核列表（原型示意）');
        }
        function previewContractVerification(id) {
            showDetailPage('合同预览', `
                <div class="form-section">
                    <div class="form-title">合同信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">模板名称</label><div>青蓝之约劳务协议-20251218</div></div>
                        <div class="form-group"><label class="form-label">专家名字</label><div>测试</div></div>
                        <div class="form-group"><label class="form-label">状态</label><div><span class="status-tag">未审核</span></div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('contract-verification')">返回</button>
                    <button class="btn btn-primary" onclick="auditContractVerification(${id})">审核</button>
                </div>
            `);
        }
        function auditContractVerification(id) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content" style="width: 500px;">
                    <button class="modal-close" onclick="this.closest('.modal-overlay').remove()">×</button>
                    <div class="form-title">审核合同</div>
                    <div class="form-group">
                        <label class="form-label">审核结果</label>
                        <select class="form-input">
                            <option>审核通过</option>
                            <option>审核拒绝</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">审核意见</label>
                        <textarea class="form-input" rows="4" placeholder="请输入审核意见"></textarea>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="this.closest('.modal-overlay').remove()">取消</button>
                        <button class="btn btn-primary" onclick="alert('审核完成（原型示意）'); this.closest('.modal-overlay').remove(); showPage('contract-verification');">确定</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.addEventListener('click', function(e) { if (e.target === modal) modal.remove(); });
        }
        function bindDoctorContractVerification(id) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-content" style="width: 500px;">
                    <button class="modal-close" onclick="this.closest('.modal-overlay').remove()">×</button>
                    <div class="form-title">绑定医生</div>
                    <div class="form-group">
                        <label class="form-label">选择医生</label>
                        <select class="form-input">
                            <option>请选择医生</option>
                            <option>张医生 - 江苏省人民医院</option>
                            <option>李医生 - 南京医科大学第一附属医院</option>
                        </select>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="this.closest('.modal-overlay').remove()">取消</button>
                        <button class="btn btn-primary" onclick="alert('绑定成功（原型示意）'); this.closest('.modal-overlay').remove();">确定</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.addEventListener('click', function(e) { if (e.target === modal) modal.remove(); });
        }
        function viewContractVerification(id) {
            previewContractVerification(id);
        }

        // ===== 合同模板相关函数 =====
        function toggleContractTemplateFilter() {
            const panel = document.getElementById('contract-template-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
            }
        }
        function showCreateContractTemplateForm() {
            showDetailPage('创建合同模板', `
                <div class="form-section">
                    <div class="form-title">基本信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">模板名称</label>
                            <input type="text" class="form-input" placeholder="请输入模板名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">模板类型</label>
                            <select class="form-input">
                                <option>劳务协议</option>
                                <option>交流协议</option>
                                <option>合作协议</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">模板内容</label>
                        <textarea class="form-input" rows="10" placeholder="请输入合同模板内容"></textarea>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('contract-template')">取消</button>
                    <button class="btn btn-primary" onclick="alert('模板已保存（原型示意）'); showPage('contract-template');">保存</button>
                </div>
            `);
        }
        function viewContractTemplate(id) {
            showDetailPage('合同模板详情', `
                <div class="form-section">
                    <div class="form-title">模板信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">模板名称</label><div>青蓝之约劳务协议</div></div>
                        <div class="form-group"><label class="form-label">模板类型</label><div>劳务协议</div></div>
                        <div class="form-group"><label class="form-label">创建时间</label><div>2025-12-18 10:30</div></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">模板内容</label>
                        <div style="background:#fafafa;padding:16px;border-radius:8px;font-size:14px;color:#666;line-height:1.6;">
                            合同模板内容预览...
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('contract-template')">返回</button>
                    <button class="btn btn-primary" onclick="editContractTemplate(${id})">编辑</button>
                </div>
            `);
        }
        function editContractTemplate(id) {
            showCreateContractTemplateForm();
        }
        function deleteContractTemplate(id) {
            if (confirm('确定要删除该合同模板吗？')) {
                alert('模板已删除（原型示意）');
            }
        }

        // ===== 机构信息相关函数 =====
        function toggleOrganizationFilter() {
            const panel = document.getElementById('organization-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
            }
        }
        function resetOrganizationFilter() {
            const panel = document.getElementById('organization-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
            panel.querySelectorAll('select').forEach(s => s.selectedIndex = 0);
        }
        function applyOrganizationFilter() {
            alert('已按当前条件筛选（原型示意）');
        }
        function showCreateOrganizationForm() {
            showDetailPage('创建机构', `
                <div class="form-section">
                    <div class="form-title">基本信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">机构名称</label>
                            <input type="text" class="form-input" placeholder="请输入机构名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">机构负责人</label>
                            <input type="text" class="form-input" placeholder="请输入负责人姓名">
                        </div>
                        <div class="form-group">
                            <label class="form-label">联系电话</label>
                            <input type="text" class="form-input" placeholder="请输入联系电话">
                        </div>
                        <div class="form-group">
                            <label class="form-label">机构地址</label>
                            <input type="text" class="form-input" placeholder="请输入机构地址">
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('organization')">取消</button>
                    <button class="btn btn-primary" onclick="alert('机构已创建（原型示意）'); showPage('organization');">保存</button>
                </div>
            `);
        }
        function viewOrganizationDetail(id) {
            showDetailPage('机构详情', `
                <div class="form-section">
                    <div class="form-title">基本信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">机构名称</label><div>ah测试机构</div></div>
                        <div class="form-group"><label class="form-label">机构负责人</label><div>安徽测试负责人</div></div>
                        <div class="form-group"><label class="form-label">联系电话</label><div>13800138000</div></div>
                        <div class="form-group"><label class="form-label">机构地址</label><div>安徽省合肥市</div></div>
                        <div class="form-group"><label class="form-label">创建时间</label><div>2025-10-11 14:43:45</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('organization')">返回</button>
                    <button class="btn btn-primary" onclick="editOrganization(${id})">编辑</button>
                </div>
            `);
        }
        function editOrganization(id) {
            showCreateOrganizationForm();
        }
        function deleteOrganization(id) {
            if (confirm('确定要删除该机构吗？')) {
                alert('机构已删除（原型示意）');
            }
        }

        // ===== 项目信息相关函数 =====
        function toggleProjectFilter() {
            const panel = document.getElementById('project-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
            }
        }
        function showCreateProjectForm() {
            showDetailPage('创建项目', `
                <div class="form-section">
                    <div class="form-title">基本信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">项目名称</label>
                            <input type="text" class="form-input" placeholder="请输入项目名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">所属机构</label>
                            <select class="form-input">
                                <option>请选择机构</option>
                                <option>江苏省人民医院</option>
                                <option>南京医科大学第一附属医院</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">项目类型</label>
                            <select class="form-input">
                                <option>MDT项目</option>
                                <option>联合病房</option>
                                <option>推广项目</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('project')">取消</button>
                    <button class="btn btn-primary" onclick="alert('项目已创建（原型示意）'); showPage('project');">保存</button>
                </div>
            `);
        }
        function viewProjectDetail(id) {
            showDetailPage('项目详情', `
                <div class="form-section">
                    <div class="form-title">项目信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">项目名称</label><div>乳腺癌MDT项目</div></div>
                        <div class="form-group"><label class="form-label">所属机构</label><div>江苏省人民医院</div></div>
                        <div class="form-group"><label class="form-label">项目类型</label><div>MDT项目</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('project')">返回</button>
                    <button class="btn btn-primary" onclick="editProject(${id})">编辑</button>
                </div>
            `);
        }
        function editProject(id) {
            showCreateProjectForm();
        }
        function deleteProject(id) {
            if (confirm('确定要删除该项目吗？')) {
                alert('项目已删除（原型示意）');
            }
        }

        // ===== 系统管理相关函数 =====
        // 账号管理
        function toggleSysAccountFilter() {
            const panel = document.getElementById('sys-account-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetSysAccountFilter() {
            const panel = document.getElementById('sys-account-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
            panel.querySelectorAll('select').forEach(s => s.selectedIndex = 0);
        }
        function applySysAccountFilter() { alert('已按当前条件筛选（原型示意）'); }
        function showCreateSysAccountForm() {
            showDetailPage('创建账号', `
                <div class="form-section">
                    <div class="form-title">账号信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">账号</label><input class="form-input" placeholder="请输入账号"></div>
                        <div class="form-group"><label class="form-label">真实姓名</label><input class="form-input" placeholder="请输入姓名"></div>
                        <div class="form-group"><label class="form-label">角色</label><input class="form-input" placeholder="请输入角色"></div>
                        <div class="form-group"><label class="form-label">手机号</label><input class="form-input" placeholder="请输入手机号"></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('sys-account')">取消</button>
                    <button class="btn btn-primary" onclick="alert('账号已创建（原型示意）'); showPage('sys-account');">保存</button>
                </div>
            `);
        }
        function disableSysAccount(id) { alert('账号已禁用（原型示意）'); }
        function editSysAccount(id) { showCreateSysAccountForm(); }
        function removeSysAccount(id) { if (confirm('确定要移除该账号吗？')) alert('账号已移除（原型示意）'); }

        // 角色管理
        function toggleSysRoleFilter() {
            const panel = document.getElementById('sys-role-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetSysRoleFilter() {
            const panel = document.getElementById('sys-role-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
        }
        function applySysRoleFilter() { alert('已按当前条件筛选（原型示意）'); }
        function showCreateSysRoleForm() {
            showDetailPage('创建角色', `
                <div class="form-section">
                    <div class="form-title">角色信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">角色名称</label><input class="form-input" placeholder="请输入角色名称"></div>
                        <div class="form-group"><label class="form-label">角色编码</label><input class="form-input" placeholder="请输入角色编码"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">角色描述</label>
                        <textarea class="form-input" rows="4" placeholder="请输入角色描述"></textarea>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('sys-role')">取消</button>
                    <button class="btn btn-primary" onclick="alert('角色已创建（原型示意）'); showPage('sys-role');">保存</button>
                </div>
            `);
        }
        function bindSysRole(id) { alert('绑定功能（原型示意）'); }
        function viewSysRole(id) { alert('查看角色详情（原型示意）'); }
        function editSysRole(id) { showCreateSysRoleForm(); }
        function deleteSysRole(id) { if (confirm('确定删除该角色吗？')) alert('角色已删除（原型示意）'); }

        // 菜单管理
        function toggleSysMenuFilter() {
            const panel = document.getElementById('sys-menu-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetSysMenuFilter() {
            const panel = document.getElementById('sys-menu-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
            panel.querySelectorAll('select').forEach(s => s.selectedIndex = 0);
        }
        function applySysMenuFilter() { alert('已按当前条件筛选（原型示意）'); }
        function showCreateSysMenuForm() {
            showDetailPage('创建菜单', `
                <div class="form-section">
                    <div class="form-title">菜单信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">菜单名称</label><input class="form-input" placeholder="请输入菜单名称"></div>
                        <div class="form-group"><label class="form-label">菜单编码</label><input class="form-input" placeholder="请输入菜单编码"></div>
                        <div class="form-group"><label class="form-label">菜单级别</label><select class="form-input"><option>一级</option><option>二级</option><option>三级</option></select></div>
                        <div class="form-group"><label class="form-label">接口url</label><input class="form-input" placeholder="请输入接口url"></div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-default" onclick="showPage('sys-menu')">取消</button>
                        <button class="btn btn-primary" onclick="alert('菜单已创建（原型示意）'); showPage('sys-menu');">保存</button>
                    </div>
                </div>
            `);
        }
        function viewSysMenu(id) { alert('查看菜单详情（原型示意）'); }
        function editSysMenu(id) { showCreateSysMenuForm(); }
        function deleteSysMenu(id) { if (confirm('确定删除该菜单吗？')) alert('菜单已删除（原型示意）'); }

        // 权限组管理
        function toggleSysPermissionGroupFilter() {
            const panel = document.getElementById('sys-permission-group-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetSysPermissionGroupFilter() {
            const panel = document.getElementById('sys-permission-group-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
        }
        function applySysPermissionGroupFilter() { alert('已按当前条件筛选（原型示意）'); }
        function showCreateSysPermissionGroupForm() {
            showDetailPage('新增权限组', `
                <div class="form-section">
                    <div class="form-title">权限组信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">权限组名称</label><input class="form-input" placeholder="请输入权限组名称"></div>
                        <div class="form-group"><label class="form-label">描述</label><input class="form-input" placeholder="请输入描述"></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('sys-permission-group')">取消</button>
                    <button class="btn btn-primary" onclick="alert('权限组已创建（原型示意）'); showPage('sys-permission-group');">保存</button>
                </div>
            `);
        }
        function editSysPermissionGroup(id) { showCreateSysPermissionGroupForm(); }
        function deleteSysPermissionGroup(id) { if (confirm('确定删除该权限组吗？')) alert('权限组已删除（原型示意）'); }

        // 病种管理
        function toggleSysDiseaseFilter() {
            const panel = document.getElementById('sys-disease-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetSysDiseaseFilter() {
            const panel = document.getElementById('sys-disease-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
        }
        function applySysDiseaseFilter() { alert('已按当前条件筛选（原型示意）'); }
        function showCreateSysDiseaseForm() {
            showDetailPage('创建病种', `
                <div class="form-section">
                    <div class="form-title">病种信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">病种名称</label><input class="form-input" placeholder="请输入病种名称"></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('sys-disease')">取消</button>
                    <button class="btn btn-primary" onclick="alert('病种已创建（原型示意）'); showPage('sys-disease');">保存</button>
                </div>
            `);
        }
        function editSysDisease(id) { showCreateSysDiseaseForm(); }
        function deleteSysDisease(id) { if (confirm('确定删除该病种吗？')) alert('病种已删除（原型示意）'); }

        // ===== 主数据管理相关函数 =====
        // 区域管理
        function toggleMasterRegionFilter() {
            const panel = document.getElementById('master-region-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetMasterRegionFilter() {
            const panel = document.getElementById('master-region-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
            panel.querySelectorAll('select').forEach(s => s.selectedIndex = 0);
        }
        function applyMasterRegionFilter() { alert('已按当前条件筛选（原型示意）'); }
        function removeMasterRegion(id) { if (confirm('确定要移除该区域吗？')) alert('区域已移除（原型示意）'); }

        // 医院管理
        function toggleMasterHospitalFilter() {
            const panel = document.getElementById('master-hospital-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetMasterHospitalFilter() {
            const panel = document.getElementById('master-hospital-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
            panel.querySelectorAll('select').forEach(s => s.selectedIndex = 0);
        }
        function applyMasterHospitalFilter() { alert('已按当前条件筛选（原型示意）'); }
        function viewMasterHospital(id) {
            showDetailPage('医院详情', `
                <div class="form-section">
                    <div class="form-title">医院信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">医院名称</label><div>江苏省人民医院</div></div>
                        <div class="form-group"><label class="form-label">医院别称</label><div>省人民医院</div></div>
                        <div class="form-group"><label class="form-label">医院地址</label><div>南京市广州路300号</div></div>
                        <div class="form-group"><label class="form-label">医院等级</label><div>三级</div></div>
                        <div class="form-group"><label class="form-label">医院等次</label><div>甲等</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('master-hospital')">返回</button>
                    <button class="btn btn-primary" onclick="editMasterHospital(${id})">编辑</button>
                </div>
            `);
        }
        function editMasterHospital(id) {
            showDetailPage('编辑医院', `
                <div class="form-section">
                    <div class="form-title">医院信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">医院名称</label><input class="form-input" value="江苏省人民医院"></div>
                        <div class="form-group"><label class="form-label">医院别称</label><input class="form-input" value="省人民医院"></div>
                        <div class="form-group"><label class="form-label">医院地址</label><input class="form-input" value="南京市广州路300号"></div>
                        <div class="form-group"><label class="form-label">医院等级</label><select class="form-input"><option>三级</option><option>二级</option><option>一级</option></select></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('master-hospital')">取消</button>
                    <button class="btn btn-primary" onclick="alert('医院已更新（原型示意）'); showPage('master-hospital');">保存</button>
                </div>
            `);
        }
        function deleteMasterHospital(id) { if (confirm('确定要删除该医院吗？')) alert('医院已删除（原型示意）'); }

        // 科室管理
        function toggleMasterDepartmentFilter() {
            const panel = document.getElementById('master-department-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetMasterDepartmentFilter() {
            const panel = document.getElementById('master-department-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
            panel.querySelectorAll('select').forEach(s => s.selectedIndex = 0);
        }
        function applyMasterDepartmentFilter() { alert('已按当前条件筛选（原型示意）'); }
        function editMasterDepartment(id) {
            showDetailPage('编辑科室', `
                <div class="form-section">
                    <div class="form-title">科室信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">科室名称</label><input class="form-input" value="肿瘤科"></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('master-department')">取消</button>
                    <button class="btn btn-primary" onclick="alert('科室已更新（原型示意）'); showPage('master-department');">保存</button>
                </div>
            `);
        }
        function deleteMasterDepartment(id) { if (confirm('确定要删除该科室吗？')) alert('科室已删除（原型示意）'); }

        // 职称管理
        function toggleMasterTitleFilter() {
            const panel = document.getElementById('master-title-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetMasterTitleFilter() {
            const panel = document.getElementById('master-title-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
        }
        function applyMasterTitleFilter() { alert('已按当前条件筛选（原型示意）'); }
        function editMasterTitle(id) {
            showDetailPage('编辑职称', `
                <div class="form-section">
                    <div class="form-title">职称信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">职称名称</label><input class="form-input" value="主任医师"></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('master-title')">取消</button>
                    <button class="btn btn-primary" onclick="alert('职称已更新（原型示意）'); showPage('master-title');">保存</button>
                </div>
            `);
        }
        function deleteMasterTitle(id) { if (confirm('确定要删除该职称吗？')) alert('职称已删除（原型示意）'); }

        // 系统标签管理
        function toggleMasterTagFilter() {
            const panel = document.getElementById('master-tag-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetMasterTagFilter() {
            const panel = document.getElementById('master-tag-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
            panel.querySelectorAll('select').forEach(s => s.selectedIndex = 0);
        }
        function applyMasterTagFilter() { alert('已按当前条件筛选（原型示意）'); }
        function editMasterTag(id) {
            showDetailPage('编辑标签', `
                <div class="form-section">
                    <div class="form-title">标签信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">标签名称</label><input class="form-input" value="MDT专家"></div>
                        <div class="form-group"><label class="form-label">标签类型</label><select class="form-input"><option>医生标签</option><option>患者标签</option></select></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('master-tag')">取消</button>
                    <button class="btn btn-primary" onclick="alert('标签已更新（原型示意）'); showPage('master-tag');">保存</button>
                </div>
            `);
        }
        function deleteMasterTag(id) { if (confirm('确定要删除该标签吗？')) alert('标签已删除（原型示意）'); }

        // ===== 医生信息库相关函数 =====
        function toggleDoctorLibraryFilter() {
            const panel = document.getElementById('doctor-library-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
            }
        }
        function showCreateDoctorForm() {
            showDetailPage('添加医生', `
                <div class="form-section">
                    <div class="form-title">基本信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">医生姓名</label>
                            <input type="text" class="form-input" placeholder="请输入医生姓名">
                        </div>
                        <div class="form-group">
                            <label class="form-label">职称</label>
                            <select class="form-input">
                                <option>主任医师</option>
                                <option>副主任医师</option>
                                <option>主治医师</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">所属医院</label>
                            <input type="text" class="form-input" placeholder="请输入医院名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">所属科室</label>
                            <input type="text" class="form-input" placeholder="请输入科室名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">手机号码</label>
                            <input type="text" class="form-input" placeholder="请输入手机号码">
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('doctor-library')">取消</button>
                    <button class="btn btn-primary" onclick="alert('医生已添加（原型示意）'); showPage('doctor-library');">保存</button>
                </div>
            `);
        }
        function viewDoctorDetail(id) {
            showDetailPage('医生详情', `
                <div class="form-section">
                    <div class="form-title">基本信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">医生姓名</label><div>张医生</div></div>
                        <div class="form-group"><label class="form-label">职称</label><div>主任医师</div></div>
                        <div class="form-group"><label class="form-label">所属医院</label><div>江苏省人民医院</div></div>
                        <div class="form-group"><label class="form-label">所属科室</label><div>肿瘤科</div></div>
                        <div class="form-group"><label class="form-label">手机号码</label><div>13800138000</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('doctor-library')">返回</button>
                    <button class="btn btn-primary" onclick="editDoctor(${id})">编辑</button>
                </div>
            `);
        }
        function editDoctor(id) {
            showCreateDoctorForm();
        }
        function deleteDoctor(id) {
            if (confirm('确定要删除该医生信息吗？')) {
                alert('医生信息已删除（原型示意）');
            }
        }

        // ===== BI配置相关函数 =====
        function showCreateBIConfigForm() {
            showDetailPage('新建BI配置', `
                <div class="form-section">
                    <div class="form-title">配置信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">配置名称</label>
                            <input type="text" class="form-input" placeholder="请输入配置名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">配置类型</label>
                            <select class="form-input">
                                <option>报表</option>
                                <option>仪表盘</option>
                                <option>数据源</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('bi-config')">取消</button>
                    <button class="btn btn-primary" onclick="alert('配置已保存（原型示意）'); showPage('bi-config');">保存</button>
                </div>
            `);
        }
        function viewBIConfigDetail(id) {
            showDetailPage('BI配置详情', `
                <div class="form-section">
                    <div class="form-title">配置信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">配置名称</label><div>数据报表配置</div></div>
                        <div class="form-group"><label class="form-label">配置类型</label><div>报表</div></div>
                        <div class="form-group"><label class="form-label">状态</label><div><span class="status-tag complete">启用</span></div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('bi-config')">返回</button>
                    <button class="btn btn-primary" onclick="editBIConfig(${id})">编辑</button>
                </div>
            `);
        }
        function editBIConfig(id) {
            showCreateBIConfigForm();
        }

        // ===== 公众号网站管理相关函数 =====
        function showCreateWechatWebsiteForm() {
            alert('新建功能（原型示意）');
        }
        function showWechatWebsiteConfig(type) {
            showDetailPage(type === 'wechat' ? '公众号管理' : type === 'website' ? '网站管理' : '内容管理', `
                <div style="background: #fff; padding: 24px; border-radius: 8px;">
                    <div style="text-align: center; color: #999; padding: 40px;">
                        ${type === 'wechat' ? '公众号管理功能（原型示意）' : type === 'website' ? '网站管理功能（原型示意）' : '内容管理功能（原型示意）'}
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('wechat-website')">返回</button>
                </div>
            `);
        }

        // ===== 申请管理相关函数 =====
        // 会诊申请
        function toggleApplicationConsultationFilter() {
            const panel = document.getElementById('application-consultation-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetApplicationConsultationFilter() {
            const panel = document.getElementById('application-consultation-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
        }
        function applyApplicationConsultationFilter() { alert('已按当前条件筛选（原型示意）'); }
        function viewApplicationConsultation(id) {
            showDetailPage('会诊申请详情', `
                <div class="form-section">
                    <div class="form-title">申请信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">申请人姓名</label><div>李回归</div></div>
                        <div class="form-group"><label class="form-label">手机号码</label><div>15017565862</div></div>
                        <div class="form-group"><label class="form-label">所属联盟</label><div>2.14联盟</div></div>
                        <div class="form-group"><label class="form-label">所在医院</label><div>南方</div></div>
                        <div class="form-group"><label class="form-label">所在省/市/区</label><div>广东省 / 广州市 / 天河区</div></div>
                        <div class="form-group"><label class="form-label">申请时间</label><div>2024-04-26 11:38:01</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('application-consultation')">返回</button>
                    <button class="btn btn-primary" onclick="approveApplicationConsultation(${id})">通过</button>
                    <button class="btn btn-danger" onclick="rejectApplicationConsultation(${id})">拒绝</button>
                </div>
            `);
        }
        function approveApplicationConsultation(id) { if (confirm('确定要通过该申请吗？')) alert('申请已通过（原型示意）'); }
        function rejectApplicationConsultation(id) { if (confirm('确定要拒绝该申请吗？')) alert('申请已拒绝（原型示意）'); }

        // 合作申请
        function toggleApplicationCooperationFilter() {
            const panel = document.getElementById('application-cooperation-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetApplicationCooperationFilter() {
            const panel = document.getElementById('application-cooperation-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
        }
        function applyApplicationCooperationFilter() { alert('已按当前条件筛选（原型示意）'); }
        function viewApplicationCooperation(id) {
            showDetailPage('合作申请详情', `
                <div class="form-section">
                    <div class="form-title">申请信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">申请人</label><div>张三</div></div>
                        <div class="form-group"><label class="form-label">手机号码</label><div>13800138000</div></div>
                        <div class="form-group"><label class="form-label">机构名称</label><div>XX医院</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('application-cooperation')">返回</button>
                    <button class="btn btn-primary" onclick="approveApplicationCooperation(${id})">通过</button>
                    <button class="btn btn-danger" onclick="rejectApplicationCooperation(${id})">拒绝</button>
                </div>
            `);
        }
        function approveApplicationCooperation(id) { if (confirm('确定要通过该申请吗？')) alert('申请已通过（原型示意）'); }
        function rejectApplicationCooperation(id) { if (confirm('确定要拒绝该申请吗？')) alert('申请已拒绝（原型示意）'); }

        // 入驻申请
        function toggleApplicationSettlementFilter() {
            const panel = document.getElementById('application-settlement-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetApplicationSettlementFilter() {
            const panel = document.getElementById('application-settlement-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
        }
        function applyApplicationSettlementFilter() { alert('已按当前条件筛选（原型示意）'); }
        function viewApplicationSettlement(id) {
            showDetailPage('入驻申请详情', `
                <div class="form-section">
                    <div class="form-title">申请信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">申请人</label><div>李四</div></div>
                        <div class="form-group"><label class="form-label">手机号码</label><div>13900139000</div></div>
                        <div class="form-group"><label class="form-label">机构名称</label><div>YY医院</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('application-settlement')">返回</button>
                    <button class="btn btn-primary" onclick="approveApplicationSettlement(${id})">通过</button>
                    <button class="btn btn-danger" onclick="rejectApplicationSettlement(${id})">拒绝</button>
                </div>
            `);
        }
        function approveApplicationSettlement(id) { if (confirm('确定要通过该申请吗？')) alert('申请已通过（原型示意）'); }
        function rejectApplicationSettlement(id) { if (confirm('确定要拒绝该申请吗？')) alert('申请已拒绝（原型示意）'); }

        // 注册申请
        function toggleApplicationRegisterFilter() {
            const panel = document.getElementById('application-register-filter-panel');
            if (panel) panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
        }
        function resetApplicationRegisterFilter() {
            const panel = document.getElementById('application-register-filter-panel');
            if (!panel) return;
            panel.querySelectorAll('input').forEach(i => i.value = '');
        }
        function applyApplicationRegisterFilter() { alert('已按当前条件筛选（原型示意）'); }
        function viewApplicationRegister(id) {
            showDetailPage('注册申请详情', `
                <div class="form-section">
                    <div class="form-title">申请信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">申请人</label><div>王五</div></div>
                        <div class="form-group"><label class="form-label">手机号码</label><div>13700137000</div></div>
                        <div class="form-group"><label class="form-label">邮箱</label><div>wangwu@example.com</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('application-register')">返回</button>
                    <button class="btn btn-primary" onclick="approveApplicationRegister(${id})">通过</button>
                    <button class="btn btn-danger" onclick="rejectApplicationRegister(${id})">拒绝</button>
                </div>
            `);
        }
        function approveApplicationRegister(id) { if (confirm('确定要通过该申请吗？')) alert('申请已通过（原型示意）'); }
        function rejectApplicationRegister(id) { if (confirm('确定要拒绝该申请吗？')) alert('申请已拒绝（原型示意）'); }
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">申请类型</label><div>机构申请</div></div>
                        <div class="form-group"><label class="form-label">申请人</label><div>张医生</div></div>
                        <div class="form-group"><label class="form-label">申请时间</label><div>2025-01-08 10:30</div></div>
                        <div class="form-group"><label class="form-label">状态</label><div><span class="status-tag">待审核</span></div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('application')">返回</button>
                    <button class="btn btn-primary" onclick="approveApplication(${id})">通过</button>
                    <button class="btn btn-danger" onclick="rejectApplication(${id})">拒绝</button>
                </div>
            `);
        }
        function approveApplication(id) {
            if (confirm('确定要通过该申请吗？')) {
                alert('申请已通过（原型示意）');
                showPage('application');
            }
        }
        function rejectApplication(id) {
            if (confirm('确定要拒绝该申请吗？')) {
                alert('申请已拒绝（原型示意）');
                showPage('application');
            }
        }

        // ===== 表单库相关函数 =====
        function toggleFormLibraryFilter() {
            const panel = document.getElementById('form-library-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
            }
        }
        function showCreateFormLibraryForm() {
            showDetailPage('创建表单', `
                <div class="form-section">
                    <div class="form-title">表单信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">表单名称</label>
                            <input type="text" class="form-input" placeholder="请输入表单名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">表单类型</label>
                            <select class="form-input">
                                <option>患者信息表</option>
                                <option>会诊申请表</option>
                                <option>随访记录表</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('form-library')">取消</button>
                    <button class="btn btn-primary" onclick="alert('表单已创建（原型示意）'); showPage('form-library');">保存</button>
                </div>
            `);
        }
        function viewFormLibrary(id) {
            showDetailPage('表单详情', `
                <div class="form-section">
                    <div class="form-title">表单信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">表单名称</label><div>患者基本信息表</div></div>
                        <div class="form-group"><label class="form-label">使用次数</label><div>125次</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('form-library')">返回</button>
                    <button class="btn btn-primary" onclick="editFormLibrary(${id})">编辑</button>
                </div>
            `);
        }
        function editFormLibrary(id) {
            showCreateFormLibraryForm();
        }
        function deleteFormLibrary(id) {
            if (confirm('确定要删除该表单吗？')) {
                alert('表单已删除（原型示意）');
            }
        }

        // ===== 图像识别管理相关函数 =====
        function toggleImageRecognitionFilter() {
            const panel = document.getElementById('image-recognition-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
            }
        }
        function showCreateImageRecognitionForm() {
            showDetailPage('新建识别规则', `
                <div class="form-section">
                    <div class="form-title">规则信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">规则名称</label>
                            <input type="text" class="form-input" placeholder="请输入规则名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">识别类型</label>
                            <select class="form-input">
                                <option>OCR识别</option>
                                <option>图像识别</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('image-recognition')">取消</button>
                    <button class="btn btn-primary" onclick="alert('规则已创建（原型示意）'); showPage('image-recognition');">保存</button>
                </div>
            `);
        }
        function viewImageRecognitionDetail(id) {
            showDetailPage('识别规则详情', `
                <div class="form-section">
                    <div class="form-title">规则信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">规则名称</label><div>病历报告识别</div></div>
                        <div class="form-group"><label class="form-label">识别类型</label><div>OCR识别</div></div>
                        <div class="form-group"><label class="form-label">状态</label><div><span class="status-tag complete">启用</span></div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('image-recognition')">返回</button>
                    <button class="btn btn-primary" onclick="editImageRecognition(${id})">编辑</button>
                </div>
            `);
        }
        function editImageRecognition(id) {
            showCreateImageRecognitionForm();
        }

        // ===== 活动管理相关函数 =====
        function toggleActivityFilter() {
            const panel = document.getElementById('activity-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
            }
        }
        function showCreateActivityForm() {
            showDetailPage('创建活动', `
                <div class="form-section">
                    <div class="form-title">活动信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">活动名称</label>
                            <input type="text" class="form-input" placeholder="请输入活动名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">活动类型</label>
                            <select class="form-input">
                                <option>学术会议</option>
                                <option>培训活动</option>
                                <option>推广活动</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">开始时间</label>
                            <input type="datetime-local" class="form-input">
                        </div>
                        <div class="form-group">
                            <label class="form-label">结束时间</label>
                            <input type="datetime-local" class="form-input">
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('activity')">取消</button>
                    <button class="btn btn-primary" onclick="alert('活动已创建（原型示意）'); showPage('activity');">保存</button>
                </div>
            `);
        }
        function viewActivityDetail(id) {
            showDetailPage('活动详情', `
                <div class="form-section">
                    <div class="form-title">活动信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">活动名称</label><div>乳腺癌MDT学术会议</div></div>
                        <div class="form-group"><label class="form-label">活动类型</label><div>学术会议</div></div>
                        <div class="form-group"><label class="form-label">开始时间</label><div>2025-02-01 09:00</div></div>
                        <div class="form-group"><label class="form-label">结束时间</label><div>2025-02-03 17:00</div></div>
                        <div class="form-group"><label class="form-label">状态</label><div><span class="status-tag complete">进行中</span></div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('activity')">返回</button>
                    <button class="btn btn-primary" onclick="editActivity(${id})">编辑</button>
                </div>
            `);
        }
        function editActivity(id) {
            showCreateActivityForm();
        }

        // ===== 活动用户管理相关函数 =====
        function toggleActivityUserFilter() {
            const panel = document.getElementById('activity-user-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
            }
        }
        function viewActivityUserDetail(id) {
            showDetailPage('活动用户详情', `
                <div class="form-section">
                    <div class="form-title">用户信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">用户姓名</label><div>张医生</div></div>
                        <div class="form-group"><label class="form-label">所属活动</label><div>乳腺癌MDT学术会议</div></div>
                        <div class="form-group"><label class="form-label">参与时间</label><div>2025-02-01 09:00</div></div>
                        <div class="form-group"><label class="form-label">状态</label><div><span class="status-tag complete">已参与</span></div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('activity-user')">返回</button>
                </div>
            `);
        }

        // ===== 活动专题管理相关函数 =====
        function showCreateActivityTopicForm() {
            showDetailPage('创建活动专题', `
                <div class="form-section">
                    <div class="form-title">专题信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">专题名称</label>
                            <input type="text" class="form-input" placeholder="请输入专题名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">专题描述</label>
                            <textarea class="form-input" rows="4" placeholder="请输入专题描述"></textarea>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('activity-topic')">取消</button>
                    <button class="btn btn-primary" onclick="alert('专题已创建（原型示意）'); showPage('activity-topic');">保存</button>
                </div>
            `);
        }
        function viewActivityTopic(id) {
            showDetailPage('活动专题详情', `
                <div class="form-section">
                    <div class="form-title">专题信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">专题名称</label><div>乳腺癌规范化诊疗专题</div></div>
                        <div class="form-group"><label class="form-label">创建时间</label><div>2025-01-06 10:30</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('activity-topic')">返回</button>
                    <button class="btn btn-primary" onclick="editActivityTopic(${id})">编辑</button>
                </div>
            `);
        }
        function editActivityTopic(id) {
            showCreateActivityTopicForm();
        }

        // ===== 活动数据列表相关函数 =====
        function toggleActivityDataFilter() {
            const panel = document.getElementById('activity-data-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
            }
        }
        function exportActivityData() {
            alert('正在导出活动数据（原型示意）');
        }
        function viewActivityDataDetail(id) {
            showDetailPage('活动数据详情', `
                <div class="form-section">
                    <div class="form-title">数据统计</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">活动名称</label><div>乳腺癌MDT学术会议</div></div>
                        <div class="form-group"><label class="form-label">参与人数</label><div>125人</div></div>
                        <div class="form-group"><label class="form-label">浏览量</label><div>2580次</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('activity-data')">返回</button>
                    <button class="btn btn-primary" onclick="exportActivityDataDetail(${id})">导出</button>
                </div>
            `);
        }
        function exportActivityDataDetail(id) {
            alert('正在导出活动数据详情（原型示意）');
        }

        // ===== 质控评分管理相关函数 =====
        function toggleQualityControlFilter() {
            const panel = document.getElementById('quality-control-filter-panel');
            if (panel) {
                panel.style.display = panel.style.display === 'none' || panel.style.display === '' ? 'block' : 'none';
            }
        }
        function showCreateQualityControlForm() {
            showDetailPage('新建评分规则', `
                <div class="form-section">
                    <div class="form-title">规则信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">规则名称</label>
                            <input type="text" class="form-input" placeholder="请输入规则名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">评分维度</label>
                            <select class="form-input">
                                <option>完整性</option>
                                <option>准确性</option>
                                <option>规范性</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">权重</label>
                            <input type="number" class="form-input" placeholder="请输入权重百分比" min="0" max="100">
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('quality-control')">取消</button>
                    <button class="btn btn-primary" onclick="alert('规则已创建（原型示意）'); showPage('quality-control');">保存</button>
                </div>
            `);
        }
        function viewQualityControlDetail(id) {
            showDetailPage('评分规则详情', `
                <div class="form-section">
                    <div class="form-title">规则信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">规则名称</label><div>基本信息完整性评分</div></div>
                        <div class="form-group"><label class="form-label">评分维度</label><div>完整性</div></div>
                        <div class="form-group"><label class="form-label">权重</label><div>30%</div></div>
                        <div class="form-group"><label class="form-label">状态</label><div><span class="status-tag complete">启用</span></div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="showPage('quality-control')">返回</button>
                    <button class="btn btn-primary" onclick="editQualityControl(${id})">编辑</button>
                </div>
            `);
        }
        function editQualityControl(id) {
            showCreateQualityControlForm();
        }

        // ===== 科研超级智能体相关函数 =====
        // AI 选题
        function showCreateAISelectionForm() {
            showDetailPage('新建选题', `
                <div class="form-section">
                    <div class="form-title">选题信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">选题名称</label>
                            <input type="text" class="form-input" placeholder="请输入选题名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">研究方向</label>
                            <select class="form-input">
                                <option>请选择</option>
                                <option>医学影像</option>
                                <option>临床诊断</option>
                                <option>药物研发</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="closeDetailPage()">取消</button>
                    <button class="btn btn-primary" onclick="saveAISelection()">保存</button>
                </div>
            `);
        }
        function viewAISelectionDetail(id) {
            showDetailPage('AI 选题详情', `
                <div class="form-section">
                    <div class="form-title">选题信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">选题名称</label><div>基于AI的乳腺癌早期诊断研究</div></div>
                        <div class="form-group"><label class="form-label">研究方向</label><div>医学影像</div></div>
                        <div class="form-group"><label class="form-label">创建时间</label><div>2025-01-08 10:30</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="closeDetailPage()">返回</button>
                    <button class="btn btn-primary" onclick="editAISelection(${id})">编辑</button>
                </div>
            `);
        }
        function editAISelection(id) {
            showCreateAISelectionForm();
        }
        function saveAISelection() {
            alert('保存成功');
            closeDetailPage();
        }

        // 文献检索
        function showAdvancedSearch() {
            alert('打开高级检索');
        }
        function viewLiteratureDetail(id) {
            showDetailPage('文献详情', `
                <div class="form-section">
                    <div class="form-title">文献信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">标题</label><div>Breast Cancer Early Detection Using AI</div></div>
                        <div class="form-group"><label class="form-label">作者</label><div>Zhang et al.</div></div>
                        <div class="form-group"><label class="form-label">期刊</label><div>Nature Medicine</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="closeDetailPage()">返回</button>
                    <button class="btn btn-primary" onclick="addToReadingList(${id})">加入阅读</button>
                </div>
            `);
        }
        function addToReadingList(id) {
            alert('已加入阅读列表');
            closeDetailPage();
        }

        // 文献阅读
        function toggleLiteratureReadingFilter() {
            alert('显示筛选面板');
        }
        function openLiteratureReading(id) {
            alert('打开文献阅读器');
        }
        function viewNotes(id) {
            showDetailPage('阅读笔记', `
                <div class="form-section">
                    <div class="form-title">笔记列表</div>
                    <div>笔记内容...</div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="closeDetailPage()">返回</button>
                </div>
            `);
        }

        // 学术问答
        function showNewQuestionForm() {
            showDetailPage('新建问题', `
                <div class="form-section">
                    <div class="form-title">问题信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">问题标题</label>
                            <input type="text" class="form-input" placeholder="请输入问题标题">
                        </div>
                        <div class="form-group">
                            <label class="form-label">问题描述</label>
                            <textarea class="form-input" rows="5" placeholder="请输入问题描述"></textarea>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="closeDetailPage()">取消</button>
                    <button class="btn btn-primary" onclick="submitQuestion()">提交</button>
                </div>
            `);
        }
        function viewQuestionDetail(id) {
            showDetailPage('问题详情', `
                <div class="form-section">
                    <div class="form-title">问题信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">问题</label><div>什么是MDT诊疗模式？</div></div>
                        <div class="form-group"><label class="form-label">回答</label><div>多学科团队（MDT）诊疗模式...</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="closeDetailPage()">返回</button>
                </div>
            `);
        }
        function submitQuestion() {
            alert('问题提交成功');
            closeDetailPage();
        }

        // 辅助写作
        function showCreateDocumentForm() {
            showDetailPage('新建文档', `
                <div class="form-section">
                    <div class="form-title">文档信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">文档名称</label>
                            <input type="text" class="form-input" placeholder="请输入文档名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">文档类型</label>
                            <select class="form-input">
                                <option>论文</option>
                                <option>报告</option>
                                <option>综述</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="closeDetailPage()">取消</button>
                    <button class="btn btn-primary" onclick="createDocument()">创建</button>
                </div>
            `);
        }
        function openDocument(id) {
            alert('打开文档编辑器');
        }
        function exportDocument(id) {
            alert('导出文档');
        }
        function createDocument() {
            alert('文档创建成功');
            closeDetailPage();
        }

        // 知识库
        function showCreateKnowledgeForm() {
            showDetailPage('新建知识', `
                <div class="form-section">
                    <div class="form-title">知识信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">知识标题</label>
                            <input type="text" class="form-input" placeholder="请输入知识标题">
                        </div>
                        <div class="form-group">
                            <label class="form-label">分类</label>
                            <select class="form-input">
                                <option>临床指南</option>
                                <option>研究资料</option>
                                <option>经验总结</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="closeDetailPage()">取消</button>
                    <button class="btn btn-primary" onclick="saveKnowledge()">保存</button>
                </div>
            `);
        }
        function viewKnowledgeDetail(id) {
            showDetailPage('知识详情', `
                <div class="form-section">
                    <div class="form-title">知识信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">标题</label><div>乳腺癌TNM分期标准</div></div>
                        <div class="form-group"><label class="form-label">内容</label><div>详细内容...</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="closeDetailPage()">返回</button>
                    <button class="btn btn-primary" onclick="editKnowledge(${id})">编辑</button>
                </div>
            `);
        }
        function editKnowledge(id) {
            showCreateKnowledgeForm();
        }
        function saveKnowledge() {
            alert('保存成功');
            closeDetailPage();
        }

        // AI 云盘
        function showUploadDialog() {
            alert('打开上传对话框');
        }
        function createFolder() {
            const folderName = prompt('请输入文件夹名称');
            if (folderName) {
                alert('文件夹创建成功：' + folderName);
            }
        }
        function openCloudFile(id) {
            alert('打开文件/文件夹');
        }
        function downloadCloudFile(id) {
            alert('下载文件');
        }

        // 我的小组
        function showCreateGroupForm() {
            showDetailPage('创建小组', `
                <div class="form-section">
                    <div class="form-title">小组信息</div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">小组名称</label>
                            <input type="text" class="form-input" placeholder="请输入小组名称">
                        </div>
                        <div class="form-group">
                            <label class="form-label">小组描述</label>
                            <textarea class="form-input" rows="3" placeholder="请输入小组描述"></textarea>
                        </div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="closeDetailPage()">取消</button>
                    <button class="btn btn-primary" onclick="createGroup()">创建</button>
                </div>
            `);
        }
        function viewGroupDetail(id) {
            showDetailPage('小组详情', `
                <div class="form-section">
                    <div class="form-title">小组信息</div>
                    <div class="form-grid">
                        <div class="form-group"><label class="form-label">小组名称</label><div>乳腺癌MDT研究小组</div></div>
                        <div class="form-group"><label class="form-label">成员数</label><div>5</div></div>
                        <div class="form-group"><label class="form-label">创建时间</label><div>2025-01-05</div></div>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="btn btn-default" onclick="closeDetailPage()">返回</button>
                    <button class="btn btn-primary" onclick="manageGroup(${id})">管理</button>
                </div>
            `);
        }
        function manageGroup(id) {
            alert('打开小组管理页面');
        }
        function createGroup() {
            alert('小组创建成功');
            closeDetailPage();
        }

        // 初始化显示首页
        showPage('home');
    </script>
</body>
</html>