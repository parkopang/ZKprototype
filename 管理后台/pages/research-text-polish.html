<!-- ç§‘ç ”è¶…çº§æ™ºèƒ½ä½“ï¼šæ–‡æœ¬æ¶¦è‰²é¡µé¢ï¼ˆå‰ç«¯åŸå‹ï¼‰ -->
<div class="text-polish-page">
    <div class="text-polish-header">
        <div class="text-polish-title-section">
            <div class="text-polish-icon">âœ¨</div>
            <div>
                <h1 class="text-polish-title">æ–‡æœ¬æ¶¦è‰²</h1>
                <p class="text-polish-subtitle">æ™ºèƒ½æ–‡æœ¬æ¶¦è‰² Â· è®©å­¦æœ¯å†™ä½œæ›´ç²¾å‡†ã€æ›´åœ°é“</p>
            </div>
        </div>
        <div class="text-polish-highlight">
            <span class="chip chip-primary">ç§‘ç ”å†™ä½œåŠ©æ‰‹</span>
            <span class="chip chip-outline">è¯­æ³•ä¼˜åŒ–</span>
            <span class="chip chip-outline">å­¦æœ¯è¡¨è¾¾</span>
            <span class="chip chip-outline">æœŸåˆŠå‹å¥½</span>
        </div>
    </div>

    <div class="text-polish-main">
        <div class="text-polish-left">
            <div class="card-section">
                <div class="card-header">
                    <h2 class="card-title">è¾“å…¥å‚æ•°</h2>
                    <span class="card-desc">å¡«å†™å¾…æ¶¦è‰²å†…å®¹åŠå¼•ç”¨åå¥½</span>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        æ–‡æœ¬å†…å®¹
                        <span class="required">*</span>
                    </label>
                    <textarea
                        id="textPolishInput_page"
                        class="form-textarea"
                        rows="10"
                        placeholder="è¯·ç²˜è´´éœ€è¦æ¶¦è‰²çš„ä¸­æ–‡æˆ–è‹±æ–‡å­¦æœ¯æ–‡æœ¬ï¼Œä¾‹å¦‚ï¼šæ‘˜è¦ã€å¼•è¨€ã€ç»“æœæˆ–è®¨è®ºéƒ¨åˆ†ï¼ˆå»ºè®®ä¸€æ¬¡ä¸è¶…è¿‡ 2000 å­—ï¼‰"
                    ></textarea>
                    <div class="form-helper">
                        <span id="textPolishCharCount_page">0 å­—</span>
                        <span class="form-tip">æ”¯æŒä¸­è‹±æ··æ’ï¼Œå»ºè®®æŒ‰ç« èŠ‚åˆ†æ®µæ¶¦è‰²ï¼Œæ–¹ä¾¿å¯¹æ¯”ä¿®æ”¹</span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        æˆ–ä¸Šä¼ åŸæ–‡ PDFï¼ˆå¯é€‰ï¼‰
                    </label>
                    <div class="upload-row">
                        <input
                            id="textPolishPdfInput_page"
                            type="file"
                            accept=".pdf"
                            class="form-file-input"
                            onchange="handleTextPolishPdfChange_page(event)"
                        >
                        <div class="upload-summary" id="textPolishPdfSummary_page">
                            å½“å‰æœªé€‰æ‹©æ–‡ä»¶
                        </div>
                    </div>
                    <div class="form-helper">
                        <span class="form-tip">
                            ä»…ä½œä¸ºåŸå‹æ¼”ç¤ºï¼šå®é™…æ¥å…¥æ—¶éœ€åœ¨åç«¯å®Œæˆ PDF è§£æå¹¶æŠ½å–æ­£æ–‡å†…å®¹ï¼ˆå»ºè®®é™åˆ¶æ–‡ä»¶å¤§å°å’Œé¡µæ•°ï¼‰ã€‚
                        </span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        æ–‡çŒ®æ£€ç´¢å’Œå¼•ç”¨
                        <span class="required">*</span>
                    </label>
                    <div class="radio-group">
                        <label class="radio-item">
                            <input type="radio" name="textPolishCitation_page" value="no-ref" checked>
                            <span>ä¸å¼•ç”¨æ–‡çŒ®</span>
                            <span class="radio-desc">åªå¯¹ç°æœ‰å†…å®¹è¿›è¡Œè¯­è¨€æ¶¦è‰²ï¼Œä¸æ–°å¢å‚è€ƒæ–‡çŒ®</span>
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="textPolishCitation_page" value="with-ref">
                            <span>å¼•ç”¨æ–‡çŒ®</span>
                            <span class="radio-desc">åœ¨ä¿æŒåŸæ„å‰æä¸‹ï¼Œé€‚åº¦è¡¥å……å…¸å‹æ–‡çŒ®å¼•ç”¨ï¼ˆç¤ºä¾‹çº§åˆ«ï¼Œä»…ä¾›å‚è€ƒï¼‰</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">
                        æ¶¦è‰²åå¥½ï¼ˆå¯é€‰ï¼‰
                    </label>
                    <div class="pill-group">
                        <button class="pill-btn" data-style="journal" onclick="toggleTextPolishStyle_page(this)">æœŸåˆŠå‘è¡¨å¯¼å‘</button>
                        <button class="pill-btn" data-style="grant" onclick="toggleTextPolishStyle_page(this)">åŸºé‡‘ç”³æŠ¥å¯¼å‘</button>
                        <button class="pill-btn" data-style="concise" onclick="toggleTextPolishStyle_page(this)">ç®€æ´ç²¾ç‚¼</button>
                        <button class="pill-btn" data-style="formal" onclick="toggleTextPolishStyle_page(this)">æ­£å¼å­¦æœ¯</button>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="btn btn-default" onclick="resetTextPolishForm_page()">æ¸…é™¤</button>
                    <button class="btn btn-primary" onclick="runTextPolish_page()">
                        ç«‹å³æ‰§è¡Œ
                    </button>
                </div>

                <div class="secure-tip">
                    <span class="secure-icon">ğŸ”’</span>
                    <div class="secure-text">
                        <div class="secure-title">æ•°æ®ä»…ç”¨äºå½“å‰ä¼šè¯ï¼Œç¤ºä¾‹ç¯å¢ƒä¸åšæŒä¹…åŒ–å­˜å‚¨</div>
                        <div class="secure-desc">å®é™…æ¥å…¥æ—¶éœ€éµå¾ªé™¢å†…åŠå¹³å°çš„æ•°æ®å®‰å…¨è§„èŒƒï¼Œé¿å…ä¸Šä¼ å¯è¯†åˆ«ä¸ªäººéšç§çš„ä¿¡æ¯ã€‚</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-polish-right">
            <div class="card-section">
                <div class="card-header">
                    <div class="card-header-main">
                        <h2 class="card-title">æ‰§è¡Œç»“æœä¸ä¸“å®¶æ¨ç†è¿‡ç¨‹</h2>
                        <span class="card-desc">å±•ç¤ºæ¶¦è‰²å‰åå¯¹æ¯”ã€ä¿®æ”¹è¯´æ˜ä¸ä¿ç•™å»ºè®®</span>
                    </div>
                    <button class="btn btn-ghost" id="textPolishChangeApproachBtn" onclick="changeTextPolishApproach_page()" title="æ¢ä¸ªæ€è·¯ï¼Œæ¨¡æ‹Ÿæ›´æ¢LLMæ¨¡å‹æˆ–æç¤ºè¯é‡æ–°ç”Ÿæˆæ¶¦è‰²å»ºè®®">
                        <span class="btn-ghost-icon">ğŸ”„</span>
                        <span class="btn-ghost-text">æ¢ä¸ªæ€è·¯</span>
                    </button>
                </div>

                <div id="textPolishInitial_page" class="result-initial">
                    <div class="result-badge">å‡†å¤‡å°±ç»ª</div>
                    <h3 class="result-title">è¯·åœ¨å·¦ä¾§å¡«å†™å‚æ•°å¹¶ç‚¹å‡»ã€Œç«‹å³æ‰§è¡Œã€</h3>
                    <p class="result-desc">
                        æ–‡æœ¬æ¶¦è‰²æ™ºèƒ½ä½“å°†æ¨¡æ‹Ÿä¸“å®¶å®¡ç¨¿è§†è§’ï¼Œå¯¹è¯­è¨€è¡¨è¾¾ã€é€»è¾‘ç»“æ„ä¸å­¦æœ¯é£æ ¼è¿›è¡Œç³»ç»Ÿæ€§ä¼˜åŒ–ã€‚
                    </p>
                    <ul class="result-list">
                        <li>è¯†åˆ«è¯­æ³•ã€æ‹¼å†™ä¸æ ‡ç‚¹é”™è¯¯</li>
                        <li>ä¼˜åŒ–å¥å¼ç»“æ„ï¼Œæå‡æµç•…åº¦ä¸å¯è¯»æ€§</li>
                        <li>ç»Ÿä¸€æœ¯è¯­ä¸ç”¨è¯é£æ ¼ï¼Œè´´è¿‘ç›®æ ‡æœŸåˆŠè§„èŒƒ</li>
                        <li>åœ¨å¯ç”¨ã€Œå¼•ç”¨æ–‡çŒ®ã€æ—¶ï¼Œç»™å‡ºç¤ºä¾‹çº§å¼•ç”¨å»ºè®®ï¼ˆéœ€äººå·¥æ ¸å®ï¼‰</li>
                    </ul>
                </div>

                <div id="textPolishLoading_page" class="result-loading" style="display: none;">
                    <div class="spinner"></div>
                    <div class="loading-text">æ­£åœ¨åˆ†ææ–‡æœ¬å¹¶ç”Ÿæˆæ¶¦è‰²å»ºè®®ï¼Œè¯·ç¨å€™â€¦</div>
                    <div class="loading-subtext">å…ˆè¿›è¡Œæ•´ä½“è´¨é‡è¯„ä¼°ï¼Œå†é€å¥ç»™å‡ºä¿®æ”¹ç†ç”±ä¸æ›¿ä»£è¡¨è¾¾ã€‚</div>
                </div>

                <div id="textPolishResult_page" class="result-panel" style="display: none;">
                    <div class="result-summary">
                        <div class="summary-header">
                            <span class="summary-badge">ç¤ºä¾‹ç»“æœ</span>
                            <span class="summary-score-label">æ•´ä½“å¯è¯»æ€§æå‡ï¼š<span class="summary-score">â†‘ æ˜¾è‘—æ”¹å–„ï¼ˆç¤ºä¾‹ï¼‰</span></span>
                        </div>
                        <p class="summary-text">
                            å½“å‰ä¸ºå‰ç«¯åŸå‹ç¤ºä¾‹ï¼Œæœªæ¥å…¥çœŸå®å¤§æ¨¡å‹ã€‚
                            å·¦ä¾§æ–‡æœ¬å°†è¢«è§†ä¸ºã€ŒåŸæ–‡ã€ï¼Œå³ä¾§åŒºåŸŸå±•ç¤ºã€Œæ¶¦è‰²ç‰ˆæœ¬ã€å’Œã€Œä¿®æ”¹è¯´æ˜ã€çš„æ’ç‰ˆæ ·å¼ã€‚
                        </p>
                    </div>

                    <div class="result-split">
                        <div class="result-column">
                            <div class="column-title">åŸæ–‡</div>
                            <pre id="textPolishOriginal_page" class="code-block"></pre>
                        </div>
                        <div class="result-column">
                            <div class="column-title">æ¶¦è‰²ç¤ºä¾‹</div>
                            <pre id="textPolishRewritten_page" class="code-block"></pre>
                        </div>
                    </div>

                    <div class="result-detail">
                        <div class="detail-title">ç¤ºä¾‹ä¿®æ”¹è¯´æ˜ï¼ˆç»“æ„é¢„è§ˆï¼‰</div>
                        <ul id="textPolishExplanation_page" class="detail-list"></ul>
                    </div>

                    <div class="feedback-section" id="textPolishFeedbackSection_page">
                        <div class="feedback-title">æ‚¨æ„Ÿè§‰æœ¬æ¬¡æ–‡æœ¬æ¶¦è‰²çš„ç»“æœå¦‚ä½•?</div>
                        <div class="feedback-buttons">
                            <button class="feedback-btn feedback-positive" onclick="submitTextPolishFeedback_page('positive')">
                                <span class="feedback-icon">ğŸ‘</span>
                                <span>å¾ˆå¥½</span>
                            </button>
                            <button class="feedback-btn feedback-neutral" onclick="submitTextPolishFeedback_page('neutral')">
                                <span class="feedback-icon">ğŸ˜</span>
                                <span>ä¸€èˆ¬</span>
                            </button>
                            <button class="feedback-btn feedback-negative" onclick="submitTextPolishFeedback_page('negative')">
                                <span class="feedback-icon">ğŸ‘</span>
                                <span>ä¸æ»¡æ„</span>
                            </button>
                        </div>
                        <div class="feedback-thanks" id="textPolishFeedbackThanks_page" style="display:none;">
                            æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼æˆ‘ä»¬ä¼šç»“åˆçœŸå®ç¯å¢ƒä¸­çš„æ•°æ®æŒç»­ä¼˜åŒ–æ¶¦è‰²æ•ˆæœã€‚
                        </div>
                        <div class="feedback-guide" id="textPolishFeedbackGuide_page" style="display:none;">
                            <div class="feedback-guide-content">
                                <div class="feedback-guide-icon">ğŸ’¡</div>
                                <div class="feedback-guide-text">
                                    <div class="feedback-guide-title">å¯¹å½“å‰ç»“æœä¸æ»¡æ„ï¼Ÿ</div>
                                    <div class="feedback-guide-desc">
                                        æ‚¨å¯ä»¥å°è¯•ç‚¹å‡»å³ä¸Šè§’çš„ã€Œæ¢ä¸ªæ€è·¯ã€æŒ‰é’®ï¼Œæ¨¡æ‹Ÿæ›´æ¢åº•å±‚å¤§æ¨¡å‹æˆ–æç¤ºè¯ç»„åˆï¼Œç”Ÿæˆé£æ ¼ç•¥æœ‰å·®å¼‚çš„æ–°ç‰ˆæœ¬ï¼Œ<strong>æœ‰æœºä¼šå¾—åˆ°æ›´ç¬¦åˆæ‚¨æœŸæœ›çš„æ¶¦è‰²ç»“æœ</strong>ã€‚
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- æ–‡æœ¬æ¶¦è‰²è¿ç®—è§„åˆ™ä¸éœ€æ±‚è¯´æ˜ -->
    <div class="text-polish-rules-section">
        <div class="rules-header">
            <div class="rules-title-wrapper">
                <div class="rules-badge">ğŸ“– åŸå‹è¯´æ˜æ–‡æ¡£</div>
                <h3 class="rules-title">æ–‡æœ¬æ¶¦è‰²è¿ç®—è§„åˆ™ä¸äº§å“éœ€æ±‚</h3>
                <p class="rules-subtitle">
                    ä»¥ä¸‹å†…å®¹å¯¹åº”æœ¬é¡µåŸå‹çš„åŠŸèƒ½è®¾è®¡ä¸å®ç°è¦æ±‚ï¼Œç”¨äºæŒ‡å¯¼åç«¯æ¥å…¥ç»Ÿä¸€ AI åŸºåº§çš„æ–‡æœ¬æ¶¦è‰²èƒ½åŠ›ã€‚
                </p>
            </div>
            <button class="rules-toggle-btn" onclick="toggleTextPolishRules()" id="textPolishRulesToggleBtn">æ”¶èµ·</button>
        </div>
        <div class="rules-content" id="textPolishRulesContent" style="display: block;">
            <!-- ä¸€ã€ç”¨æˆ·è·¯å¾„ -->
            <div class="rule-section">
                <h4 class="rule-section-title">ä¸€ã€ç”¨æˆ·è·¯å¾„ï¼ˆä»è¾“å…¥åˆ°æ‹¿ç»“æœï¼‰</h4>
                <div class="user-flow-diagram">
                    <div class="flow-step-large">
                        <div class="flow-number-large">1</div>
                        <div class="flow-content">
                            <div class="flow-title">ç²˜è´´åŸæ–‡æˆ–ä¸Šä¼  PDF</div>
                            <div class="flow-desc">åŒ»ç”Ÿåœ¨ã€Œæ–‡æœ¬å†…å®¹ã€ä¸­ç²˜è´´éœ€è¦æ¶¦è‰²çš„æ®µè½ï¼Œæˆ–ä¸Šä¼ ä¸€ä»½åŒ…å«æ­£æ–‡çš„è®ºæ–‡/åŸºé‡‘ PDFã€‚</div>
                        </div>
                    </div>
                    <div class="flow-arrow-large">â†’</div>
                    <div class="flow-step-large">
                        <div class="flow-number-large">2</div>
                        <div class="flow-content">
                            <div class="flow-title">é€‰æ‹©å¼•ç”¨ç­–ç•¥</div>
                            <div class="flow-desc">å‹¾é€‰ã€Œä¸å¼•ç”¨æ–‡çŒ®ã€æˆ–ã€Œå¼•ç”¨æ–‡çŒ®ã€ï¼Œå†³å®šæ˜¯å¦éœ€è¦æ¨¡å‹ç»™å‡ºç¤ºä¾‹çº§å¼•ç”¨å»ºè®®ã€‚</div>
                        </div>
                    </div>
                    <div class="flow-arrow-large">â†’</div>
                    <div class="flow-step-large">
                        <div class="flow-number-large">3</div>
                        <div class="flow-content">
                            <div class="flow-title">é…ç½®æ¶¦è‰²åå¥½</div>
                            <div class="flow-desc">å¯é€‰ç‚¹å‡»è‹¥å¹²ã€ŒæœŸåˆŠå‘è¡¨å¯¼å‘ / åŸºé‡‘ç”³æŠ¥å¯¼å‘ / ç®€æ´ç²¾ç‚¼ / æ­£å¼å­¦æœ¯ã€æ ‡ç­¾ã€‚</div>
                        </div>
                    </div>
                    <div class="flow-arrow-large">â†’</div>
                    <div class="flow-step-large">
                        <div class="flow-number-large">4</div>
                        <div class="flow-content">
                            <div class="flow-title">ç‚¹å‡»ã€Œç«‹å³æ‰§è¡Œã€</div>
                            <div class="flow-desc">å‰ç«¯æ ¡éªŒå¿…å¡«é¡¹åï¼Œè°ƒç”¨ç»Ÿä¸€ AI åŸºåº§çš„æ–‡æœ¬æ¶¦è‰²å·¥å…·ã€‚</div>
                        </div>
                    </div>
                    <div class="flow-arrow-large">â†’</div>
                    <div class="flow-step-large">
                        <div class="flow-number-large">5</div>
                        <div class="flow-content">
                            <div class="flow-title">æŸ¥çœ‹å·¦å³å¯¹æ¯”</div>
                            <div class="flow-desc">å·¦ä¾§å±•ç¤ºåŸæ–‡ï¼Œå³ä¾§å±•ç¤ºæ¶¦è‰²åçš„å»ºè®®ç‰ˆæœ¬ã€‚</div>
                        </div>
                    </div>
                    <div class="flow-arrow-large">â†’</div>
                    <div class="flow-step-large">
                        <div class="flow-number-large">6</div>
                        <div class="flow-content">
                            <div class="flow-title">æŸ¥çœ‹ä¿®æ”¹è¯´æ˜</div>
                            <div class="flow-desc">åœ¨ã€Œç¤ºä¾‹ä¿®æ”¹è¯´æ˜ã€ä¸­åˆ†ç‚¹è§£é‡Šä¸»è¦ä¿®æ”¹ç±»å‹ä¸ç†ç”±ï¼Œä¾¿äºåŒ»ç”Ÿåˆ¤æ–­æ˜¯å¦é‡‡çº³ã€‚</div>
                        </div>
                    </div>
                    <div class="flow-arrow-large flow-arrow-optional">â†’</div>
                    <div class="flow-step-large flow-step-optional">
                        <div class="flow-number-large">7</div>
                        <div class="flow-content">
                            <div class="flow-title">æ¢ä¸ªæ€è·¯ï¼ˆå¯é€‰ï¼‰</div>
                            <div class="flow-desc">å¦‚å¯¹å½“å‰ç»“æœä¸æ»¡æ„ï¼Œå¯ç‚¹å‡»å³ä¸Šè§’ã€Œæ¢ä¸ªæ€è·¯ã€ï¼Œæ¸…é™¤ç¼“å­˜å¹¶å°è¯•ä¸åŒæ¨¡å‹/æç¤ºè¯ç»„åˆé‡æ–°ç”Ÿæˆæ¶¦è‰²å»ºè®®ã€‚</div>
                        </div>
                    </div>
                </div>
                <div class="rule-text" style="margin-top: 8px; padding: 12px; background: #fff; border-radius: 4px; border-left: 3px solid #1890ff;">
                    <strong>åŸå‹ç›®çš„ï¼š</strong>è®©åŒ»ç”Ÿã€Œä¸€çœ¼çœ‹æ‡‚ã€æ¨¡å‹å¯¹æ–‡æœ¬åšäº†ä»€ä¹ˆæ”¹åŠ¨ï¼Œå¹¶ä¸”å¯ä»¥é€‰æ‹©æ€§é‡‡çº³ï¼Œè€Œä¸æ˜¯è¢«è¿«æ•´ä½“æ›¿æ¢ã€‚
                </div>
            </div>

            <!-- äºŒã€åŠŸèƒ½ç›®æ ‡ä¸è¾¹ç•Œ -->
            <div class="rule-section">
                <h4 class="rule-section-title">äºŒã€åŠŸèƒ½ç›®æ ‡ä¸è¾¹ç•Œ</h4>
                <div class="rule-list">
                    <div class="rule-item">
                        <strong>1. åŠŸèƒ½ç›®æ ‡ï¼š</strong>
                        <ul>
                            <li>é¢å‘åŒ»å­¦ç§‘ç ”åœºæ™¯ï¼Œå¯¹åŒ»ç”Ÿå·²æœ‰ç¨¿ä»¶è¿›è¡Œ<strong>è¯­è¨€å±‚é¢çš„ç²¾ä¿®</strong>ï¼Œä¸æ”¹åŠ¨æ ¸å¿ƒå­¦æœ¯ç»“è®ºã€‚</li>
                            <li>ç»Ÿä¸€æ–‡é£ï¼Œæå‡é€»è¾‘æ¸…æ™°åº¦å’Œå¯è¯»æ€§ï¼Œè´´è¿‘æœŸåˆŠ/åŸºé‡‘è¯„å®¡çš„è¯­è¨€ä¹ æƒ¯ã€‚</li>
                            <li>åœ¨å¯ç”¨ã€Œå¼•ç”¨æ–‡çŒ®ã€é€‰é¡¹æ—¶ï¼Œä»…ç»™å‡º<strong>ç¤ºä¾‹çº§</strong>å¼•ç”¨å»ºè®®å’Œå ä½ç¬¦ï¼Œæœ€ç»ˆå¼•ç”¨ä»ç”±åŒ»ç”Ÿç¡®è®¤ã€‚</li>
                            <li>æ”¯æŒä¸¤ç§åŸæ–‡æ¥æºï¼šç›´æ¥ç²˜è´´æ–‡æœ¬ã€ä¸Šä¼  PDFï¼›PDF åœ¨åç«¯è§£æä¸ºçº¯æ–‡æœ¬åå†è¿›å…¥æ¶¦è‰²æµç¨‹ã€‚</li>
                        </ul>
                    </div>
                    <div class="rule-item">
                        <strong>2. æ˜ç¡®ä¸åšï¼š</strong>
                        <ul>
                            <li>ä¸æ“…è‡ªæ›´æ”¹ç»Ÿè®¡ç»“æœã€æ ·æœ¬é‡ã€P å€¼ç­‰<strong>å®è´¨æ€§æ•°æ®</strong>ï¼›å¦‚éœ€æ›´æ”¹ï¼Œå¿…é¡»åœ¨è¯´æ˜ä¸­æ˜¾å¼æç¤ºã€‚</li>
                            <li>ä¸è™šæ„å…·ä½“æ–‡çŒ®ã€å…·ä½“æœŸåˆŠæˆ–å½±å“å› å­ï¼›å¦‚éœ€è¦ç¤ºä¾‹ï¼Œç”¨ã€Œ[ç¤ºä¾‹æ–‡çŒ®ï¼Œå ä½ç¬¦ï¼Œéœ€äººå·¥æ›¿æ¢]ã€é£æ ¼è¾“å‡ºã€‚</li>
                            <li>ä¸è¾“å‡ºè¯Šç–—å»ºè®®ï¼Œä¿æŒä¸ºç§‘ç ”å†™ä½œå·¥å…·ï¼Œè€Œéä¸´åºŠå†³ç­–å·¥å…·ã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- ä¸‰ã€å…³é”®äº¤äº’ä¸å‰ç«¯è¦æ±‚ -->
            <div class="rule-section">
                <h4 class="rule-section-title">ä¸‰ã€å…³é”®äº¤äº’ä¸å‰ç«¯è¡Œä¸º</h4>
                <div class="rule-list">
                    <div class="rule-item">
                        <strong>1. è¡¨å•æ ¡éªŒï¼š</strong>
                        <ul>
                            <li>æ–‡æœ¬å†…å®¹ä¸ PDF è‡³å°‘å¡«å†™/ä¸Šä¼ ä¸€é¡¹ï¼šä¸¤è€…éƒ½ä¸ºç©ºæ—¶ä¸å…è®¸æäº¤ã€‚</li>
                            <li>ç›´æ¥ç²˜è´´çš„æ–‡æœ¬é•¿åº¦å»ºè®®é™åˆ¶åœ¨å•æ¬¡ â‰¤ 4,000 å­—ï¼ˆå…·ä½“ä¸Šé™ç”±æ¨¡å‹ä¸ç½‘å…³é…ç½®ï¼‰ï¼Œè¶…é•¿åº”æç¤ºæ‹†æ®µæ¶¦è‰²ã€‚</li>
                            <li>PDF ä¸Šä¼ å»ºè®®é™åˆ¶ï¼šå•æ–‡ä»¶å¤§å°ï¼ˆä¾‹å¦‚ â‰¤ 10MBï¼‰ã€é¡µæ•°ï¼ˆä¾‹å¦‚ â‰¤ 20 é¡µï¼‰ï¼Œè¶…å‡ºéœ€ç»™å‡ºæ˜ç¡®æç¤ºã€‚</li>
                            <li>æ–‡çŒ®æ£€ç´¢é€‰é¡¹ä¸ºå¿…é€‰ï¼Œé»˜è®¤ã€Œä¸å¼•ç”¨æ–‡çŒ®ã€ã€‚</li>
                        </ul>
                    </div>
                    <div class="rule-item">
                        <strong>2. çŠ¶æ€åˆ‡æ¢ï¼š</strong>
                        <ul>
                            <li>ç‚¹å‡»ã€Œç«‹å³æ‰§è¡Œã€åï¼šæ˜¾ç¤º loading çŠ¶æ€ï¼Œç¦æ­¢é‡å¤ç‚¹å‡»ï¼Œç›´è‡³è¿”å›ã€‚</li>
                            <li>æˆåŠŸè¿”å›ï¼šå±•ç¤ºå·¦å³å¯¹æ¯”ä¸è¯´æ˜ï¼Œéšè—åˆå§‹å¼•å¯¼å¡ç‰‡ã€‚</li>
                            <li>è¯·æ±‚å¼‚å¸¸ï¼šç»™å‡ºæ˜æ˜¾é”™è¯¯æç¤ºï¼Œå¹¶ä¿ç•™åŸè¾“å…¥å†…å®¹ä¾¿äºé‡è¯•ã€‚</li>
                        </ul>
                    </div>
                    <div class="rule-item">
                        <strong>3. ç»“æœå±•ç¤ºè§„èŒƒï¼š</strong>
                        <ul>
                            <li>ã€ŒåŸæ–‡ã€åŒºåŸŸåŸæ ·å±•ç¤ºç”¨æˆ·è¾“å…¥ï¼Œä¸åšä»»ä½•åŠ å·¥ã€‚</li>
                            <li>ã€Œæ¶¦è‰²ç¤ºä¾‹ã€åŒºåŸŸä¸ºæ¨¡å‹è¿”å›çš„å»ºè®®ç‰ˆæœ¬ï¼Œå¯åŒ…å«é€‚åº¦çš„ç»“æ„é‡ç»„ï¼Œä½†ä¸åº”å¤§å¹…åˆ å‡æ®µè½ã€‚</li>
                            <li>ã€Œä¿®æ”¹è¯´æ˜ã€å»ºè®®ä½¿ç”¨åˆ†ç‚¹åˆ—ä¸¾ï¼šä¾‹å¦‚ã€Œåˆå¹¶é•¿å¥ã€ã€Œæœ¯è¯­ç»Ÿä¸€ã€ã€Œè¯­æ€è°ƒæ•´ã€ã€Œåˆ é™¤å£è¯­åŒ–è¡¨è¾¾ã€ç­‰ã€‚</li>
                        </ul>
                    </div>
                    <div class="rule-item">
                        <strong>4. ã€Œæ¢ä¸ªæ€è·¯ã€æŒ‰é’®ï¼š</strong>
                        <ul>
                            <li>åœ¨ç»“æœå¡ç‰‡å³ä¸Šæä¾›ã€Œæ¢ä¸ªæ€è·¯ã€æŒ‰é’®ï¼ˆğŸ”„ï¼‰ï¼Œç‚¹å‡»ååœ¨ä¸ä¿®æ”¹åŸå§‹è¾“å…¥çš„å‰æä¸‹é‡æ–°è§¦å‘æ¶¦è‰²æµç¨‹ã€‚</li>
                            <li>å®é™…æ¥å…¥æ—¶å¯ç”¨äºï¼šæ¸…é™¤å½“å‰ç¼“å­˜ç»“æœã€åˆ‡æ¢ä¸åŒå¤§æ¨¡å‹æˆ–æç¤ºè¯ç»„åˆï¼Œä¸ºåŒ»ç”Ÿæä¾›é£æ ¼ç•¥æœ‰å·®å¼‚çš„å¤‡é€‰ç‰ˆæœ¬ã€‚</li>
                            <li>æœ¬åŸå‹ä¸­é€šè¿‡è¿½åŠ ä¸€æ¡è¯´æ˜é¡¹çš„æ–¹å¼è¿›è¡Œå¯è§†åŒ–ï¼Œæ–¹ä¾¿ç ”å‘ç†è§£äº¤äº’ç»“æ„ä¸åç«¯å®ç°é¢„æœŸã€‚</li>
                        </ul>
                    </div>
                    <div class="rule-item">
                        <strong>5. ç»“æœåé¦ˆä¸è´¨é‡ç›‘æ§ï¼š</strong>
                        <ul>
                            <li>åœ¨ç»“æœåŒºåŸŸåº•éƒ¨æä¾›ä¸‰æ¡£åé¦ˆé—®é¢˜ï¼šã€Œæ‚¨æ„Ÿè§‰æœ¬æ¬¡æ–‡æœ¬æ¶¦è‰²çš„ç»“æœå¦‚ä½•?ã€+ã€Œå¾ˆå¥½ / ä¸€èˆ¬ / ä¸æ»¡æ„ã€ã€‚</li>
                            <li>ç‚¹å‡»ä»»æ„é€‰é¡¹åï¼Œå‰ç«¯ç»™å‡ºã€Œæ„Ÿè°¢åé¦ˆã€æç¤ºï¼›å½“é€‰æ‹©ã€Œä¸€èˆ¬ / ä¸æ»¡æ„ã€æ—¶ï¼Œé¢å¤–æç¤ºå¯é€šè¿‡ã€Œæ¢ä¸ªæ€è·¯ã€å°è¯•æ›´æ¢åº•å±‚å¤§æ¨¡å‹æˆ–æç¤ºè¯ç»„åˆï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸ª<strong>å¯èƒ½æ›´ä»¤åŒ»ç”Ÿæ»¡æ„</strong>çš„å¤‡é€‰ç»“æœã€‚</li>
                            <li>å®é™…æ¥å…¥æ—¶éœ€å°†åé¦ˆç±»å‹ã€æ—¶é—´æˆ³ã€ä¼šè¯/ç”¨æˆ·æ ‡è¯†ç­‰ä¸Šé€åç«¯ï¼Œç”¨äºåç»­å¯¹æ¨¡å‹ç‰ˆæœ¬ã€Prompt æ–¹æ¡ˆçš„ A/B æµ‹è¯•å’Œè´¨é‡ç›‘æ§ã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- å››ã€LLM å¯¹æ¥ä¸ Prompt è®¾è®¡ -->
            <div class="rule-section" id="textPolishPromptSection">
                <h4 class="rule-section-title">å››ã€LLM å¯¹æ¥æ–¹æ¡ˆä¸ Prompt è®¾è®¡</h4>
                <div class="rule-subsection">
                    <h5 class="rule-subsection-title">4.1 è°ƒç”¨æ–¹å¼ï¼ˆç»™ç ”å‘ï¼‰</h5>
                    <div class="rule-list">
                        <div class="rule-item">
                            <strong>æ¥å£å½¢æ€ï¼š</strong>ç»Ÿä¸€é€šè¿‡ AI åŸºåº§çš„ã€Œæ–‡æœ¬æ¶¦è‰²ã€å·¥å…·è°ƒç”¨ï¼Œæ¨èä½¿ç”¨ RESTful / MCP å·¥å…·å½¢å¼ï¼Œå‚æ•°ç¤ºæ„ï¼š
                            <ul>
                                <li><code>original_text</code>ï¼šåŸæ–‡å­—ç¬¦ä¸²ã€‚</li>
                                <li><code>citation_mode</code>ï¼š<code>no_ref</code> æˆ– <code>with_ref</code>ã€‚</li>
                                <li><code>style_preferences</code>ï¼šæ•°ç»„ï¼Œå¦‚ <code>["journal", "concise"]</code>ã€‚</li>
                                <li><code>domain</code>ï¼šå¯é€‰ï¼Œæ ‡è®°å­¦ç§‘ï¼ˆå¦‚ã€Œè‚¿ç˜¤å†…ç§‘ã€ã€Œå‘¼å¸ã€ç­‰ï¼‰ï¼Œä¾¿äºåç»­ä¼˜åŒ–ã€‚</li>
                            </ul>
                        </div>
                        <div class="rule-item">
                            <strong>è¿”å›ç»“æ„ï¼ˆå»ºè®®ï¼‰ï¼š</strong>
                            <ul>
                                <li><code>rewritten_text</code>ï¼šæ¶¦è‰²åçš„å®Œæ•´æ–‡æœ¬ã€‚</li>
                                <li><code>change_summary</code>ï¼šæ•°ç»„ï¼Œæ¯é¡¹åŒ…å« <code>type</code>ï¼ˆè¯­æ³•/é€»è¾‘/æœ¯è¯­ï¼‰ã€<code>before</code>ã€<code>after</code>ã€<code>reason</code>ã€‚</li>
                                <li><code>citation_suggestions</code>ï¼ˆå¯é€‰ï¼‰ï¼šåœ¨ <code>with_ref</code> æ—¶è¿”å›çš„å ä½ç¬¦ä¿¡æ¯ï¼ˆä¸è¦æ±‚çœŸå® DOIï¼‰ã€‚</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="rule-subsection">
                    <h5 class="rule-subsection-title">4.2 Prompt ç»“æ„ï¼ˆè§’è‰²è®¾å®š + é—®é¢˜æƒ…å¢ƒ + ä»»åŠ¡æŒ‡ä»¤ + çº¦æŸæ¡ä»¶ï¼‰</h5>
                    <div class="code-block rules-code-block">
                        <div class="code-header">æ–‡æœ¬æ¶¦è‰² Prompt æ¨¡æ¿ï¼ˆç¤ºæ„ï¼‰</div>
                        <pre class="code-content">ã€ä¸€ã€è§’è‰²è®¾å®šï¼ˆè°ï¼‰ã€‘
ä½ æ˜¯ä¸€åé•¿æœŸæœåŠ¡äºåŒ»å­¦æœŸåˆŠå’Œç§‘ç ”åŸºé‡‘è¯„å®¡å§”å‘˜ä¼šçš„ã€ŒåŒè¯­åŒ»å­¦ç§‘ç ”å†™ä½œç¼–è¾‘ã€ï¼š
- ç†Ÿæ‚‰ä¸­è‹±æ–‡åŒ»å­¦è®ºæ–‡ã€åŸºé‡‘æœ¬å­å†™ä½œè§„èŒƒï¼ˆIMRaD ç»“æ„ã€å¸¸è§æœŸåˆŠè¦æ±‚ç­‰ï¼‰
- ç†è§£ä¸´åºŠä¸åŸºç¡€åŒ»å­¦å¸¸è§è¡¨è¿°æ–¹å¼ï¼Œä½†ä¸å‚ä¸ä¿®æ”¹ç§‘å­¦ç»“è®º
- æ“…é•¿åœ¨ä¸æ”¹å˜äº‹å®å’Œæ•°æ®å‰æä¸‹ï¼Œæé«˜æ–‡æœ¬çš„ä¸“ä¸šæ€§ã€æ¸…æ™°åº¦å’Œå¯è¯»æ€§

ã€äºŒã€é—®é¢˜æƒ…å¢ƒï¼ˆåœ¨ä»€ä¹ˆåœºæ™¯ä¸‹å·¥ä½œï¼‰ã€‘
ç°åœ¨æœ‰ä¸€æ®µæ¥è‡ªåŒ»å­¦ç ”ç©¶è®ºæ–‡æˆ–åŸºé‡‘ç”³è¯·ä¹¦çš„æ–‡æœ¬ï¼Œå¯èƒ½å±äºï¼šæ‘˜è¦ã€å¼•è¨€ã€æ–¹æ³•ã€ç»“æœæˆ–è®¨è®ºç­‰éƒ¨åˆ†ã€‚
- åŸæ–‡å¯èƒ½å­˜åœ¨ï¼šä¸­å¼è‹±è¯­ã€é•¿éš¾å¥ã€è¯­æ³•é”™è¯¯ã€æœ¯è¯­ä¸ç»Ÿä¸€ã€é€»è¾‘è¡”æ¥ç”Ÿç¡¬ç­‰é—®é¢˜
- ä½œè€…å¸Œæœ›ç”¨äºï¼š{writing_purpose}ï¼ˆå¦‚ï¼šSCI æœŸåˆŠæŠ•ç¨¿ / å›½å®¶è‡ªç„¶ç§‘å­¦åŸºé‡‘ / åšå£«æ¯•ä¸šè®ºæ–‡ç­‰ï¼‰
- ä½œè€…å½“å‰çš„å¼•ç”¨ç­–ç•¥åå¥½ä¸ºï¼š{citation_mode}ï¼ˆno_ref / with_refï¼‰
- ä½œè€…é€‰æ‹©çš„æ¶¦è‰²é£æ ¼åå¥½ä¸ºï¼š{style_preferences}ï¼ˆå¦‚ï¼šæœŸåˆŠå‘è¡¨å¯¼å‘ã€åŸºé‡‘ç”³æŠ¥å¯¼å‘ã€ç®€æ´ç²¾ç‚¼ã€æ­£å¼å­¦æœ¯ï¼‰

ã€ä¸‰ã€ä»»åŠ¡æŒ‡ä»¤ï¼ˆä½ è¦åšä»€ä¹ˆï¼‰ã€‘
åœ¨å®Œæ•´ä¿ç•™ç§‘å­¦ç»“è®ºå’Œå…¨éƒ¨æ•°æ®å‰æä¸‹ï¼Œå¯¹ä¸‹é¢çš„åŸæ–‡è¿›è¡Œã€Œè¯­è¨€å±‚é¢ã€çš„ä¸“ä¸šæ¶¦è‰²ï¼Œå¹¶äº§å‡ºç»“æ„åŒ–ç»“æœï¼š
1. è¯­è¨€ä¼˜åŒ–
   - ä¿®æ­£è¯­æ³•ã€æ‹¼å†™å’Œæ ‡ç‚¹é”™è¯¯ï¼Œåˆ é™¤å£è¯­åŒ–æˆ–æ¨¡ç³Šè¡¨è¿°
   - ä¼˜åŒ–å¥å­ç»“æ„ï¼šåˆç†æ‹†åˆ†æˆ–åˆå¹¶é•¿å¥ï¼Œä½¿é€»è¾‘å±‚æ¬¡æ›´æ¸…æ™°
   - ç»Ÿä¸€æœ¯è¯­å’Œæ—¶æ€ï¼Œä½¿å…¶ç¬¦åˆåŒ»å­¦è®ºæ–‡å¸¸è§å†™æ³•ï¼ˆå¦‚ï¼šç»“æœç”¨è¿‡å»æ—¶ã€ç»“è®ºç”¨ä¸€èˆ¬ç°åœ¨æ—¶ï¼‰
2. ç»“æ„ä¸é€»è¾‘
   - åœ¨ä¸å¢åˆ å…³é”®ä¿¡æ¯çš„å‰æä¸‹ï¼Œé€‚åº¦è°ƒæ•´å¥å­é¡ºåºï¼Œä½¿æ®µè½æ›´è¿è´¯
   - å¦‚å‘ç°æ˜æ˜¾æ­§ä¹‰æˆ–é€»è¾‘è·³è·ƒï¼Œç”¨æ›´æ¸…æ™°çš„è¡¨è¿°æ›¿æ¢åŸå¥ï¼Œä½†ä¿æŒå«ä¹‰ä¸å˜
3. å¼•ç”¨å»ºè®®ï¼ˆä»…åœ¨ {citation_mode} = with_ref æ—¶æ‰§è¡Œï¼‰
   - ä¸ç”Ÿæˆå…·ä½“æ–‡çŒ®æ¡ç›®å’Œ DOI
   - ä»…æŒ‡å‡ºåœ¨å“ªäº›ä½ç½®ã€Œå»ºè®®è¡¥å……å“ªä¸€ç±»æ–‡çŒ®ã€ï¼Œä»¥å ä½ç¬¦å½¢å¼æç¤º
4. å˜æ›´è¯´æ˜
   - å¯¹ä¸»è¦ä¿®æ”¹ç‚¹è¿›è¡Œæ€»ç»“ï¼šåŒ…æ‹¬ä¿®æ”¹ç±»å‹ã€ä¿®æ”¹å‰åç‰‡æ®µå’Œä¿®æ”¹åŸå› ï¼Œä¾¿äºä½œè€…åˆ¤æ–­æ˜¯å¦é‡‡çº³

ã€è¾“å…¥åŸæ–‡ã€‘
{original_text}

ã€å››ã€çº¦æŸæ¡ä»¶ï¼ˆå¿…é¡»éµå®ˆä»€ä¹ˆï¼‰ã€‘
1. æ•°æ®ä¸ç»“è®ºå®‰å…¨
   - ä¸¥ç¦ä¿®æ”¹ã€æ¨æ–­æˆ–è™šæ„ï¼šæ ·æœ¬é‡ã€åˆ†ç»„ä¿¡æ¯ã€ç»Ÿè®¡æ–¹æ³•ã€På€¼ã€ç½®ä¿¡åŒºé—´ã€æ•ˆåº”é‡ç­‰ä»»ä½•æ•°å€¼æˆ–å®è´¨æ€§ç»“æœ
   - å¦‚å‘ç°åŸæ–‡ä¸­æ•°æ®æœ¬èº«å­˜åœ¨è‡ªç›¸çŸ›ç›¾ï¼Œä»…åœ¨è¯´æ˜ä¸­ä»¥æ–‡å­—å½¢å¼æ¸©å’Œæç¤ºï¼Œä¸è¦è‡ªè¡Œâ€œä¿®æ­£æ•°æ®â€
2. å¼•æ–‡è§„èŒƒ
   - ä¸è™šæ„å…·ä½“æ–‡çŒ®ã€æœŸåˆŠåç§°ã€ä½œè€…ã€å¹´ä»½ã€DOI ç­‰å¯æ ¸æŸ¥ä¿¡æ¯
   - å¦‚éœ€ç¤ºä¾‹ï¼Œè¯·ä½¿ç”¨å ä½ç¬¦å½¢å¼ï¼Œä¾‹å¦‚ï¼š
     ã€Œ[æ­¤å¤„å¯è¡¥å……ï¼šè¿‘5å¹´å…³äºXXXçš„ç³»ç»Ÿç»¼è¿°æˆ–å¤šä¸­å¿ƒéšæœºå¯¹ç…§è¯•éªŒï¼Œéœ€ä½œè€…è‡ªè¡Œæ£€ç´¢å¹¶æ›¿æ¢ä¸ºçœŸå®æ–‡çŒ®]ã€
3. è¯­æ°”ä¸è¾¹ç•Œ
   - ä¿æŒä¸“ä¸šã€ä¸­æ€§ã€å®¡ç¨¿äººè§†è§’çš„è¯­æ°”ï¼Œä¸å‘è¡¨ä»·å€¼è¯„åˆ¤ï¼ˆå¦‚ã€Œéå¸¸åˆ›æ–°ã€ã€Œè´¨é‡å¾ˆå·®ã€ï¼‰
   - ä¸æä¾›è¯Šç–—å»ºè®®ï¼Œä¸æ”¹å˜ç ”ç©¶è®¾è®¡ç±»å‹ï¼ˆå¦‚ä¸æŠŠå›é¡¾æ€§ç ”ç©¶å†™æˆéšæœºå¯¹ç…§è¯•éªŒï¼‰
4. è¾“å‡ºæ ¼å¼ï¼ˆå¿…é¡»æ˜¯åˆæ³• JSONï¼Œä¸èƒ½åŒ…å«å¤šä½™è¯´æ˜æ–‡å­—ï¼‰
   - ä¸¥æ ¼æŒ‰ç…§ä¸‹é¢ç»“æ„è¾“å‡ºï¼Œä¸è¦æ·»åŠ é¢å¤–å­—æ®µæˆ–æ³¨é‡Šï¼š

{
  "rewritten_text": "æ¶¦è‰²åçš„å®Œæ•´æ–‡æœ¬ï¼ˆåŒä¸€è¯­è¨€ï¼Œä¿ç•™åŸæ„ä¸å…¨éƒ¨å…³é”®ä¿¡æ¯ï¼‰",
  "change_summary": [
    {
      "type": "grammar | wording | structure | terminology",
      "before": "ä¿®æ”¹å‰çš„å±€éƒ¨ç‰‡æ®µï¼ˆå¯æˆªæ–­ï¼‰",
      "after": "å¯¹åº”ä¿®æ”¹åçš„ç‰‡æ®µ",
      "reason": "ç®€è¦è¯´æ˜ä¿®æ”¹æ„å›¾ï¼Œä¾‹å¦‚ï¼šåˆå¹¶é‡å¤ä¿¡æ¯ã€ç»Ÿä¸€æœ¯è¯­ã€æ¶ˆé™¤æ­§ä¹‰ã€æ‹†åˆ†é•¿å¥ç­‰"
    }
  ],
  "citation_suggestions": [
    {
      "position_hint": "å»ºè®®åœ¨å“ªä¸€æ®µæˆ–å“ªä¸€å¥ä¹‹åè¡¥å……æ–‡çŒ®ï¼ˆè‡ªç„¶è¯­è¨€æè¿°å³å¯ï¼‰",
      "description": "å»ºè®®è¡¥å……ä½•ç§ç±»å‹çš„ç ”ç©¶ä½œä¸ºæ”¯æ’‘ï¼Œä¾‹å¦‚ï¼šè¿‘5å¹´å…³äºXXXçš„å¤šä¸­å¿ƒéšæœºå¯¹ç…§è¯•éªŒ",
      "note": "åªä½œä¸ºå ä½ç¬¦æç¤ºï¼Œéœ€ç”¨æˆ·åç»­è‡ªè¡Œæ£€ç´¢å¹¶æ›¿æ¢ä¸ºçœŸå®æ–‡çŒ®"
    }
  ]
}

- å¦‚æœ {citation_mode} = "no_ref"ï¼Œè¯·è¿”å›ç©ºæ•°ç»„ï¼š"citation_suggestions": []ã€‚
- è¯·ä¿è¯ JSON å¯ä»¥è¢«æœºå™¨ç›´æ¥è§£æï¼Œä¸è¾“å‡ºä»»ä½•å¤šä½™æ–‡æœ¬ã€‚</pre>
                    </div>
                </div>
            </div>

            <!-- äº”ã€æ‚£è€…ä¿¡æ¯è„±æ•ä¸è¾“å…¥çº¦æŸï¼ˆç®€è¦ï¼‰ -->
            <div class="rule-section">
                <h4 class="rule-section-title">äº”ã€æ‚£è€…ä¿¡æ¯è„±æ•ä¸è¾“å…¥çº¦æŸï¼ˆç®€è¦ï¼‰</h4>
                <div class="rule-list">
                    <div class="rule-item">
                        <strong>1. æ–‡æœ¬å†…å®¹ä¸ PDFï¼š</strong>
                        <ul>
                            <li>å‰ç«¯æ–‡æ¡ˆéœ€æç¤ºåŒ»ç”Ÿ<strong>å°½é‡è„±æ•</strong>ï¼šé¿å…åœ¨æ–‡æœ¬æ¡†æˆ– PDF ä¸­ä¿ç•™å¯è¯†åˆ«æ‚£è€…èº«ä»½çš„ä¿¡æ¯ï¼ˆå§“åã€æ‰‹æœºå·ã€ä½é™¢å·ç­‰ï¼‰ã€‚</li>
                            <li>PDF ä¸Šä¼ ä»…ä½œä¸ºåŸå‹æ¼”ç¤ºï¼Œå®é™…æ¥å…¥æ—¶ç”±æŠ€æœ¯ä¸­å¿ƒç»Ÿä¸€è®¾è®¡è§£æä¸å®‰å…¨æ–¹æ¡ˆï¼Œæ­¤å¤„ä¸å±•å¼€å…·ä½“å®ç°ã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- å…­ã€æ€§èƒ½ä¸æˆæœ¬æ§åˆ¶ï¼ˆå»ºè®®ï¼‰ -->
            <div class="rule-section">
                <h4 class="rule-section-title">å…­ã€æ€§èƒ½ä¸æˆæœ¬æ§åˆ¶</h4>
                <div class="rule-list">
                    <div class="rule-item">
                        <strong>1. è°ƒç”¨é¢‘ç‡ä¸å­—æ•°é™åˆ¶ï¼š</strong>
                        <ul>
                            <li>åŒä¸€åŒ»ç”Ÿåœ¨çŸ­æ—¶é—´å†…ï¼ˆå¦‚ 30 ç§’ï¼‰é‡å¤æäº¤ç›¸åŒæ–‡æœ¬ï¼Œå¯ç›´æ¥è¿”å›ç¼“å­˜ç»“æœã€‚</li>
                            <li>æ ¹æ®æ¨¡å‹ä¸Šä¸‹æ–‡é•¿åº¦ï¼Œå¯¹å•æ¬¡æœ€å¤§å­—æ•°åšç¡¬é™åˆ¶ï¼Œå¹¶ç»™å‡ºå‹å¥½æç¤ºã€‚</li>
                        </ul>
                    </div>
                    <div class="rule-item">
                        <strong>2. ç¼“å­˜ç­–ç•¥ï¼ˆå¯é€‰ï¼‰ï¼š</strong>
                        <ul>
                            <li>ä»¥ã€Œæ–‡æœ¬å†…å®¹ + å‚æ•°ç»„åˆã€åšå“ˆå¸Œä½œä¸ºç¼“å­˜ Keyï¼Œåœ¨åŒ»ç”Ÿç«¯çŸ­æœŸå†…å¤ç”¨ç»“æœã€‚</li>
                            <li>é€‚ç”¨äºã€Œå¤šæ¬¡ç‚¹é”™æŒ‰é’®ã€è¿™ç±»æƒ…å†µï¼Œå‡å°‘ä¸å¿…è¦çš„é‡å¤è°ƒç”¨ã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- ä¸ƒã€éªŒæ”¶è¦ç‚¹ -->
            <div class="rule-section">
                <h4 class="rule-section-title">ä¸ƒã€è”è°ƒä¸éªŒæ”¶è¦ç‚¹</h4>
                <div class="rule-list">
                    <div class="rule-item">
                        <strong>1. äº¤äº’ä¸çŠ¶æ€ï¼š</strong>
                        <ul>
                            <li>ä¸åŒçŠ¶æ€ï¼ˆåˆå§‹ / åŠ è½½ä¸­ / æœ‰ç»“æœ / å‡ºé”™ï¼‰åˆ‡æ¢æ­£å¸¸ï¼Œæ— æ®‹ç•™ UI é—®é¢˜ã€‚</li>
                        </ul>
                    </div>
                    <div class="rule-item">
                        <strong>2. ç»“æœè´¨é‡ï¼ˆäººå·¥æŠ½æ£€ç»´åº¦ï¼‰ï¼š</strong>
                        <ul>
                            <li>éšæœºé€‰å–è‹¥å¹²çœŸå®åŒ»ç”Ÿæ–‡æœ¬ï¼Œç¡®è®¤æ¶¦è‰²åæ— å®è´¨æ€§äº‹å®é”™è¯¯æˆ–æ•°æ®ç¯¡æ”¹ã€‚</li>
                            <li>è¯­è¨€æ˜æ˜¾æ›´ä¸ºæµç•…ã€ä¸“ä¸šï¼Œä¸”ä¸æ”¹å˜åŸæ„ã€‚</li>
                        </ul>
                    </div>
                    <div class="rule-item">
                        <strong>3. å®‰å…¨ä¸æ—¥å¿—ï¼š</strong>
                        <ul>
                            <li>å…³é”®è°ƒç”¨å‡æœ‰æ—¥å¿—å¯æŸ¥ï¼Œä¾¿äºé—®é¢˜è¿½æº¯ä¸æˆæœ¬åˆ†æã€‚</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* æ ·å¼ä¸ js/pages-loader.js ä¸­çš„ research-text-polish æ¨¡æ¿ä¿æŒä¸€è‡´ï¼Œä¾¿äºç‹¬ç«‹é¢„è§ˆ */
.text-polish-page{padding:24px;max-width:1400px;margin:0 auto}
.text-polish-header{margin-bottom:24px;display:flex;flex-direction:column;gap:12px}
.text-polish-title-section{display:flex;align-items:center;gap:12px}
.text-polish-icon{width:40px;height:40px;border-radius:16px;background:linear-gradient(135deg,#f6ffed,#e6f7ff);display:flex;align-items:center;justify-content:center;font-size:22px}
.text-polish-title{margin:0;font-size:26px;font-weight:600;color:#1a1a1a}
.text-polish-subtitle{margin:4px 0 0;font-size:14px;color:#666}
.text-polish-highlight{display:flex;flex-wrap:wrap;gap:8px}
.chip{padding:4px 10px;border-radius:999px;font-size:12px;display:inline-flex;align-items:center}
.chip-primary{background:#e6f7ff;color:#1890ff;border:1px solid #91d5ff}
.chip-outline{background:#fff;color:#595959;border:1px solid #d9d9d9}
.text-polish-main{display:grid;grid-template-columns:minmax(0,1.1fr) minmax(0,1.2fr);gap:20px;align-items:flex-start}
@media (max-width:1200px){.text-polish-main{grid-template-columns:1fr}}
.text-polish-left,.text-polish-right{min-width:0}
.card-section{background:#fff;border-radius:12px;padding:20px 20px 18px;box-shadow:0 1px 4px rgba(0,0,0,.06);border:1px solid #f0f0f0}
.card-header{margin-bottom:16px;display:flex;justify-content:space-between;align-items:flex-start;gap:12px}
.card-header-main{display:flex;flex-direction:column;gap:4px;min-width:0}
.card-title{margin:0 0 4px;font-size:16px;font-weight:600;color:#1f1f1f}
.card-desc{margin:0;font-size:13px;color:#8c8c8c}
.form-group{margin-bottom:16px}
.form-label{display:block;font-size:14px;font-weight:500;color:#333;margin-bottom:6px}
.required{color:#f5222d;margin-left:4px}
.form-textarea{width:100%;border-radius:8px;border:1px solid #d9d9d9;padding:10px 12px;font-size:14px;resize:vertical;min-height:200px;line-height:1.6}
.form-textarea:focus{outline:none;border-color:#1890ff;box-shadow:0 0 0 2px rgba(24,144,255,.15)}
.form-helper{margin-top:4px;display:flex;justify-content:space-between;font-size:12px;color:#8c8c8c}
.form-tip{text-align:right}
.upload-row{display:flex;align-items:center;gap:8px}
.form-file-input{font-size:12px}
.upload-summary{font-size:12px;color:#8c8c8c;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:40%}
.radio-group{display:flex;flex-direction:column;gap:8px}
.radio-item{display:flex;align-items:flex-start;gap:8px;font-size:14px;color:#333}
.radio-item input[type=radio]{margin-top:3px}
.radio-desc{font-size:12px;color:#8c8c8c}
.pill-group{display:flex;flex-wrap:wrap;gap:8px}
.pill-btn{padding:4px 12px;border-radius:999px;border:1px solid #d9d9d9;background:#fff;font-size:12px;cursor:pointer;color:#595959;transition:all .2s}
.pill-btn.active{background:#e6f7ff;border-color:#1890ff;color:#1890ff}
.pill-btn:hover{border-color:#1890ff}
.form-actions{margin-top:8px;display:flex;justify-content:flex-end;gap:10px}
.btn{padding:8px 16px;border-radius:6px;border:1px solid #d9d9d9;font-size:14px;cursor:pointer;transition:all .2s}
.btn-default{background:#fff;color:#333}
.btn-default:hover{background:#f5f5f5}
.btn-primary{background:#1890ff;color:#fff;border-color:#1890ff}
.btn-primary:hover{background:#40a9ff;border-color:#40a9ff}
.btn-ghost{background:transparent;color:#1890ff;border-color:#1890ff;padding:6px 10px;font-size:12px;display:inline-flex;align-items:center;gap:4px}
.btn-ghost:hover{background:#e6f7ff}
.btn-ghost-icon{font-size:14px}
.secure-tip{margin-top:12px;padding:10px 12px;background:#f6ffed;border-radius:8px;border:1px solid #b7eb8f;display:flex;gap:8px}
.secure-icon{font-size:18px;margin-top:2px}
.secure-title{font-size:13px;font-weight:500;color:#389e0d}
.secure-desc{font-size:12px;color:#8c8c8c}
.result-initial{padding:16px;border-radius:10px;background:linear-gradient(135deg,#f6ffed,#e6f7ff);border:1px solid rgba(24,144,255,.25)}
.result-badge{display:inline-flex;align-items:center;padding:2px 10px;border-radius:999px;font-size:12px;color:#096dd9;background:rgba(230,247,255,.9);margin-bottom:8px}
.result-title{margin:0 0 4px;font-size:16px;font-weight:600;color:#1f1f1f}
.result-desc{margin:0 0 8px;font-size:13px;color:#595959}
.result-list{margin:0;padding-left:18px;font-size:13px;color:#595959}
.result-list li+li{margin-top:2px}
.result-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 16px;gap:8px}
.spinner{width:32px;height:32px;border-radius:50%;border:3px solid #e6f7ff;border-top-color:#1890ff;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.loading-text{font-size:14px;color:#262626}
.loading-subtext{font-size:12px;color:#8c8c8c}
.result-panel{display:flex;flex-direction:column;gap:12px}
.result-summary{padding:12px 12px 10px;border-radius:8px;background:#f5f5f5}
.summary-header{display:flex;justify-content:space-between;align-items:center;gap:8px;margin-bottom:4px}
.summary-badge{font-size:12px;padding:2px 8px;border-radius:999px;background:#fff;border:1px solid #d9d9d9;color:#595959}
.summary-score-label{font-size:12px;color:#8c8c8c}
.summary-score{color:#389e0d;font-weight:500}
.summary-text{margin:0;font-size:12px;color:#595959}
.result-split{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:900px){.result-split{grid-template-columns:1fr}}
.result-column{display:flex;flex-direction:column;gap:6px}
.column-title{font-size:13px;font-weight:500;color:#434343}
.code-block{margin:0;padding:10px 12px;border-radius:8px;background:#fdfdfd;border:1px solid #f0f0f0;font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:12px;line-height:1.6;white-space:pre-wrap;max-height:260px;overflow:auto}
.result-detail{padding-top:4px;border-top:1px dashed #e8e8e8}
.detail-title{font-size:13px;font-weight:500;color:#434343;margin-bottom:6px}
.detail-list{margin:0;padding-left:18px;font-size:12px;color:#595959}
.detail-list li+li{margin-top:2px}
.feedback-section{margin-top:12px;padding-top:10px;border-top:1px dashed #e8e8e8}
.feedback-title{font-size:13px;font-weight:500;color:#434343;margin-bottom:8px}
.feedback-buttons{display:flex;flex-wrap:wrap;gap:8px}
.feedback-btn{padding:6px 12px;border-radius:16px;border:1px solid #d9d9d9;background:#fff;font-size:12px;display:inline-flex;align-items:center;gap:4px;cursor:pointer;transition:all .2s}
.feedback-btn:hover{border-color:#1890ff;color:#1890ff}
.feedback-positive{border-color:#52c41a;color:#389e0d}
.feedback-negative{border-color:#ff4d4f;color:#cf1322}
.feedback-icon{font-size:14px}
.feedback-thanks{margin-top:8px;font-size:12px;color:#8c8c8c}
.feedback-guide{margin-top:8px}
.feedback-guide-content{display:flex;gap:8px;padding:8px 10px;background:#f0f8ff;border-radius:6px;border:1px solid #bae7ff}
.feedback-guide-icon{font-size:18px}
.feedback-guide-title{font-size:12px;font-weight:500;color:#1f1f1f;margin-bottom:2px}
.feedback-guide-desc{font-size:12px;color:#595959;line-height:1.6}

/* å¤ç”¨ AI é€‰é¢˜è§„åˆ™åŒºåŸŸçš„æ ·å¼ï¼Œå‘½åä¿æŒä¸€è‡´ä»¥ä¾¿å‰ç«¯ç»Ÿä¸€é£æ ¼ */
.text-polish-rules-section{margin-top:40px;padding:0;background:linear-gradient(135deg,#f0f8ff 0%,#e6f7ff 100%);border-radius:12px;border:2px solid #1890ff;box-shadow:0 4px 12px rgba(24,144,255,.15);position:relative;overflow:hidden}
.text-polish-rules-section::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#1890ff 0%,#096dd9 50%,#1890ff 100%)}
.rules-header{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;padding:24px 24px 16px;background:#fff;border-bottom:2px dashed #e6f7ff}
.rules-title-wrapper{flex:1}
.rules-badge{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;background:linear-gradient(135deg,#1890ff 0%,#096dd9 100%);color:#fff;border-radius:20px;font-size:12px;font-weight:600;margin-bottom:12px;box-shadow:0 2px 4px rgba(24,144,255,.3)}
.rules-title{font-size:20px;font-weight:600;color:#1890ff;margin:0 0 8px;display:flex;align-items:center;gap:8px}
.rules-title::before{content:'ğŸ“‹';font-size:24px}
.rules-subtitle{font-size:14px;color:#666;line-height:1.6;margin:0;padding:12px;background:#f0f8ff;border-left:3px solid #1890ff;border-radius:4px}
.rules-toggle-btn{background:#fff;color:#1890ff;border:1px solid #1890ff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .3s;flex-shrink:0;white-space:nowrap}
.rules-toggle-btn:hover{background:#1890ff;color:#fff;box-shadow:0 2px 8px rgba(24,144,255,.3)}
.rules-content{padding:24px;background:#fff}
.rule-section{margin-bottom:24px;padding:20px;background:#fafafa;border-radius:8px;border-left:4px solid #1890ff;transition:all .3s}
.rule-section:hover{background:#f5f5f5;box-shadow:0 2px 8px rgba(0,0,0,.05)}
.rule-section:last-child{margin-bottom:0}
.rule-section-title{font-size:16px;font-weight:600;color:#1890ff;margin:0 0 12px;padding-bottom:6px;border-bottom:2px solid #e6f7ff;display:flex;align-items:center;gap:8px}
.rule-section-title::before{content:'â–¸';color:#1890ff;font-size:18px}
.rule-subsection{margin-bottom:16px;padding-left:0}
.rule-subsection-title{font-size:14px;font-weight:600;color:#1a1a1a;margin:0 0 8px}
.rule-text{font-size:14px;color:#666;line-height:1.8;margin:0 0 8px}
.rule-list{display:flex;flex-direction:column;gap:10px}
.rule-item{font-size:14px;color:#333;line-height:1.8}
.rule-item strong{color:#1a1a1a;font-weight:600}
.rule-item ul{margin:6px 0 0 20px;padding:0}
.rule-item li{margin-bottom:4px;line-height:1.6}
.code-block{background:#2d2d2d;border-radius:6px;overflow:hidden;margin:12px 0}
.rules-code-block{max-height:none;overflow:auto}
.code-header{background:#1e1e1e;padding:8px 12px;font-size:12px;color:#999;border-bottom:1px solid #3d3d3d}
.code-content{padding:16px;margin:0;font-family:Monaco,Menlo,"Ubuntu Mono",monospace;font-size:13px;line-height:1.6;color:#d4d4d4;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word}
.user-flow-diagram{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;gap:16px;margin:16px 0;padding:16px;background:#fff;border-radius:12px;border:1px solid #e8e8e8}
.flow-step-large{display:flex;flex-direction:column;align-items:center;gap:10px;min-width:140px;max-width:180px;padding:14px;background:#fafafa;border-radius:8px;border:1px solid #e8e8e8;transition:all .3s}
.flow-step-large:hover{border-color:#1890ff;box-shadow:0 2px 8px rgba(24,144,255,.15)}
.flow-step-branch{border-color:#1890ff;background:#e6f7ff}
.flow-step-branch .flow-number-large{background:linear-gradient(135deg,#1890ff 0%,#096dd9 100%)}
.flow-step-optional{border-color:#faad14;background:#fff7e6}
.flow-step-optional .flow-number-large{background:linear-gradient(135deg,#faad14 0%,#d46b08 100%)}
.flow-number-large{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#1890ff 0%,#096dd9 100%);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:18px;box-shadow:0 2px 4px rgba(24,144,255,.3)}
.flow-content{text-align:center}
.flow-title{font-size:14px;font-weight:600;color:#1a1a1a;margin-bottom:4px}
.flow-desc{font-size:13px;color:#666;line-height:1.5}
.flow-arrow-large{font-size:22px;color:#1890ff;font-weight:bold;flex-shrink:0}
.flow-arrow-optional{color:#faad14}
@media (max-width:768px){.user-flow-diagram{flex-direction:column}.flow-arrow-large{transform:rotate(90deg)}.flow-step-large{max-width:100%}}
</style>

<script>
function updateTextPolishCharCount_page(){
    var t=document.getElementById('textPolishInput_page');
    var c=document.getElementById('textPolishCharCount_page');
    if(!t||!c)return;
    var v=t.value||'';
    c.textContent=v.length+' å­—';
}
function toggleTextPolishStyle_page(btn){
    if(!btn)return;
    btn.classList.toggle('active');
}

function handleTextPolishPdfChange_page(e){
    var summary=document.getElementById('textPolishPdfSummary_page');
    if(!summary)return;
    var file=e&&e.target&&e.target.files&&e.target.files[0];
    if(file){
        summary.textContent='å·²é€‰æ‹©ï¼š'+file.name+'ï¼ˆç¤ºä¾‹ç¯å¢ƒä¸è§£æï¼Œä»…å±•ç¤ºäº¤äº’ç»“æ„ï¼‰';
    }else{
        summary.textContent='å½“å‰æœªé€‰æ‹©æ–‡ä»¶';
    }
}
function resetTextPolishForm_page(){
    var t=document.getElementById('textPolishInput_page');
    if(t)t.value='';
    updateTextPolishCharCount_page();
    var f=document.getElementById('textPolishPdfInput_page');
    if(f)f.value='';
    handleTextPolishPdfChange_page({target:{files:[]}})
    document.querySelectorAll('input[name="textPolishCitation_page"]').forEach(function(r){
        if(r.value==='no-ref')r.checked=true;
    });
    document.querySelectorAll('.pill-btn.active').forEach(function(el){el.classList.remove('active')});
    var i=document.getElementById('textPolishInitial_page');
    var l=document.getElementById('textPolishLoading_page');
    var r=document.getElementById('textPolishResult_page');
    if(i)i.style.display='block';
    if(l)l.style.display='none';
    if(r)r.style.display='none';
}
function runTextPolish_page(){
    var t=document.getElementById('textPolishInput_page');
    var f=document.getElementById('textPolishPdfInput_page');
    if(!t)return;
    var v=t.value.trim();
    var hasPdf=f&&f.files&&f.files[0];
    if(!v && !hasPdf){
        alert('è¯·å…ˆè¾“å…¥éœ€è¦æ¶¦è‰²çš„æ–‡æœ¬å†…å®¹ï¼Œæˆ–ä¸Šä¼ ä¸€ä»½åŸæ–‡ PDF');
        return;
    }
    var i=document.getElementById('textPolishInitial_page');
    var l=document.getElementById('textPolishLoading_page');
    var r=document.getElementById('textPolishResult_page');
    if(i)i.style.display='none';
    if(r)r.style.display='none';
    if(l)l.style.display='flex';
    setTimeout(function(){
        if(l)l.style.display='none';
        if(r)r.style.display='flex';
        var o=document.getElementById('textPolishOriginal_page');
        var w=document.getElementById('textPolishRewritten_page');
        var e=document.getElementById('textPolishExplanation_page');
        if(o)o.textContent=v;
        if(w)w.textContent='ã€ç¤ºä¾‹å±•ç¤ºã€‘\\næ­¤å¤„å°†å±•ç¤ºæ¥å…¥çœŸå®ã€Œç§‘ç ”æ–‡æœ¬æ¶¦è‰²æ¨¡å‹ã€åçš„æ¶¦è‰²ç»“æœã€‚\\n\\nåœ¨å®é™…ç¯å¢ƒä¸­ï¼Œç³»ç»Ÿä¼šï¼š\\n1ï¼‰ä¿ç•™åŸå§‹å­¦æœ¯å«ä¹‰ä¸å˜ï¼›\\n2ï¼‰ç»Ÿä¸€æ—¶æ€ã€è¯­æ€ä¸æœ¯è¯­ï¼›\\n3ï¼‰ä¼˜åŒ–é•¿å¥ä¸é‡å¤è¡¨è¾¾ï¼Œä½¿å…¶æ›´ç¬¦åˆç›®æ ‡æœŸåˆŠçš„è¯­è¨€é£æ ¼ï¼›\\n4ï¼‰åœ¨å¯ç”¨ã€Œå¼•ç”¨æ–‡çŒ®ã€æ—¶ï¼Œä¸ºå…³é”®è®ºç‚¹è¡¥å……ç¤ºä¾‹çº§çš„å‚è€ƒæ–‡çŒ®å ä½ç¬¦ï¼ˆéœ€äººå·¥æ ¸å®ä¸æ›¿æ¢ï¼‰ã€‚';
        if(e){
            e.innerHTML='';
            ['æœ¬é¡µä¸ºã€Œç§‘ç ”è¶…çº§æ™ºèƒ½ä½“ã€ä¸‹çš„æ–‡æœ¬æ¶¦è‰²åŸå‹é¡µé¢ï¼Œå°šæœªä¸åç«¯æ¨¡å‹çœŸå®è”é€šã€‚','å·¦ä¾§è¡¨å•ç”¨äºæ”¶é›†å¾…æ¶¦è‰²æ–‡æœ¬ä¸å¼•ç”¨åå¥½ï¼Œæœªæ¥å¯ç›´æ¥é€ä¼ ç»™ç»Ÿä¸€ AI åŸºåº§çš„ç›¸å…³å·¥å…·ã€‚','å³ä¾§åŒºåŸŸé‡‡ç”¨ã€ŒåŸæ–‡ / æ¶¦è‰²ç‰ˆæœ¬ / ä¿®æ”¹è¯´æ˜ã€ä¸‰å±‚ç»“æ„ï¼Œæ–¹ä¾¿åŒ»ç”Ÿé€å¥å¯¹ç…§ä¸é€‰æ‹©æ€§é‡‡çº³ã€‚','åç»­æ¥å…¥æ—¶ï¼Œå»ºè®®åœ¨è¿”å›ç»“æœä¸­æ ‡è®°ä¿®æ”¹å¼ºåº¦ï¼Œå¹¶æ”¯æŒä¸€é”®å¤åˆ¶ / å¯¼å‡ºä¸º Word æˆ– Markdownã€‚'].forEach(function(t){
                var li=document.createElement('li');
                li.textContent=t;
                e.appendChild(li);
            });
        }
    },900);
}

// ã€Œæ¢ä¸ªæ€è·¯ã€ï¼šåœ¨ä¸ä¿®æ”¹è¾“å…¥çš„å‰æä¸‹ï¼Œæ¨¡æ‹Ÿåˆ‡æ¢æ¨¡å‹æˆ–æç¤ºè¯é‡æ–°ç»™å‡ºæ¶¦è‰²å»ºè®®
function changeTextPolishApproach_page(){
    var l=document.getElementById('textPolishLoading_page');
    var r=document.getElementById('textPolishResult_page');
    var i=document.getElementById('textPolishInitial_page');
    if(i)i.style.display='none';
    if(r)r.style.display='none';
    if(l)l.style.display='flex';
    setTimeout(function(){
        if(l)l.style.display='none';
        if(r)r.style.display='flex';
        var e=document.getElementById('textPolishExplanation_page');
        if(e){
            var li=document.createElement('li');
            li.textContent='ã€ç¤ºä¾‹ã€‘æ‚¨ç‚¹å‡»äº†â€œæ¢ä¸ªæ€è·¯â€åï¼Œå®é™…ç³»ç»Ÿå¯ä»¥å°è¯•åˆ‡æ¢ä¸åŒçš„å¤§æ¨¡å‹æˆ–æç¤ºè¯ç»„åˆï¼Œç”Ÿæˆé£æ ¼ç•¥æœ‰å·®å¼‚çš„æ¶¦è‰²ç»“æœï¼ˆå¦‚æ›´ç®€æ´ã€æ›´åŠ æ­£å¼ç­‰ï¼‰ï¼Œæœ¬åŸå‹ä»…å±•ç¤ºäº¤äº’ç»“æ„ã€‚';
            e.appendChild(li);
        }
    },750);
}

// æ–‡æœ¬æ¶¦è‰²ç»“æœä¸‰æ¡£åé¦ˆï¼ˆå¾ˆå¥½ / ä¸€èˆ¬ / ä¸æ»¡æ„ï¼‰
function submitTextPolishFeedback_page(type){
    var thanks=document.getElementById('textPolishFeedbackThanks_page');
    var guide=document.getElementById('textPolishFeedbackGuide_page');
    if(thanks)thanks.style.display='block';
    if(guide)guide.style.display=(type==='neutral'||type==='negative')?'block':'none';
    // åŸå‹ä¸­ä¸åšå®é™…ä¸ŠæŠ¥ï¼Œä»…é¢„ç•™æ¥å£è¯´æ˜ï¼š
    // å®é™…æ¥å…¥æ—¶å¯åœ¨æ­¤å¤„è°ƒç”¨åç«¯ APIï¼Œä¸Šé€é¡µé¢IDã€åé¦ˆç±»å‹ã€æ—¶é—´æˆ³ç­‰ï¼Œç”¨äºè´¨é‡ç›‘æ§ä¸Prompt/æ¨¡å‹ä¼˜åŒ–ã€‚
}
document.addEventListener('DOMContentLoaded',function(){
    var t=document.getElementById('textPolishInput_page');
    if(t){
        t.addEventListener('input',updateTextPolishCharCount_page);
        updateTextPolishCharCount_page();
    }
});

// å¿«é€Ÿæ»šåŠ¨åˆ° Prompt æ¨¡æ¿ä½ç½®ï¼Œæ–¹ä¾¿åœ¨åµŒå…¥åå°æ—¶æŸ¥çœ‹
function scrollToTextPolishPrompt(){
    try{
        var section=document.getElementById('textPolishPromptSection');
        if(section){
            section.scrollIntoView({behavior:'smooth',block:'start'});
        }
    }catch(e){
        // é™é»˜å¤±è´¥å³å¯
    }
}

function toggleTextPolishRules(){
    var content=document.getElementById('textPolishRulesContent');
    var btn=document.getElementById('textPolishRulesToggleBtn');
    if(!content||!btn)return;
    if(content.style.display==='none'){
        content.style.display='block';
        btn.textContent='æ”¶èµ·';
    }else{
        content.style.display='none';
        btn.textContent='å±•å¼€';
    }
}
</script>

