<!-- 机构信息页面 -->
<div class="breadcrumb">
    <a href="#" onclick="showPage('home'); return false;">首页</a> / 机构信息
</div>
<div class="page-header">
    <div class="page-toolbar">
        <div class="search-box">
            <span>🔍</span>
            <input type="text" placeholder="请输入机构名称" id="organizationSearch">
        </div>
        <button class="toolbar-icon" title="筛选" onclick="toggleOrganizationFilter()">🔽</button>
        <button class="toolbar-icon" title="设置" onclick="toggleTableSettings('organization', this)" style="position: relative;">⚙️</button>
        <div id="organizationTableSettings" class="table-settings-tooltip" style="display: none;">
            <div class="table-settings-header">
                <div style="font-weight: 500; font-size: 14px;">表头设置</div>
                <button class="modal-close" onclick="closeTableSettings('organization')" style="position: static; width: 20px; height: 20px; font-size: 14px;">×</button>
            </div>
            <div style="margin-bottom: 12px;">
                <div class="search-box" style="max-width: 100%;">
                    <span>🔍</span>
                    <input type="text" placeholder="搜索字段" id="organizationFieldSearch" onkeyup="filterTableFields('organization', this.value)" style="width: 100%;">
                </div>
            </div>
            <div style="max-height: 300px; overflow-y: auto;">
                <div style="font-weight: 500; margin-bottom: 12px; color: #666; font-size: 12px;">显示字段</div>
                <div id="organizationFieldList" style="display: grid; gap: 8px;">
                    <label class="field-item" data-field="序号"><span>序号</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('organization', '序号', this.checked)"><span class="switch-slider"></span></label></label>
                    <label class="field-item" data-field="机构名称"><span>机构名称</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('organization', '机构名称', this.checked)"><span class="switch-slider"></span></label></label>
                    <label class="field-item" data-field="机构负责人"><span>机构负责人</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('organization', '机构负责人', this.checked)"><span class="switch-slider"></span></label></label>
                    <label class="field-item" data-field="创建时间"><span>创建时间</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('organization', '创建时间', this.checked)"><span class="switch-slider"></span></label></label>
                    <label class="field-item" data-field="操作"><span>操作</span><label class="switch"><input type="checkbox" class="field-toggle" checked onchange="toggleTableField('organization', '操作', this.checked)"><span class="switch-slider"></span></label></label>
                </div>
            </div>
        </div>
        <button class="create-btn" onclick="showCreateOrganizationForm()">
            <span>➕</span>
            <span>创建机构</span>
        </button>
    </div>
</div>
<!-- 筛选面板 -->
<div id="organization-filter-panel" class="filter-panel" style="display: none; background: #fff; padding: 16px; border-radius: 8px; margin-bottom: 16px; border: 1px solid #e8e8e8;">
    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 16px;">
        <div class="form-group" style="margin-bottom: 0;">
            <label class="form-label">机构名称</label>
            <input type="text" class="form-input" placeholder="请输入机构名称">
        </div>
        <div class="form-group" style="margin-bottom: 0;">
            <label class="form-label">机构负责人</label>
            <input type="text" class="form-input" placeholder="请输入负责人姓名">
        </div>
        <div class="form-group" style="margin-bottom: 0;">
            <label class="form-label">创建时间范围</label>
            <div style="display: flex; gap: 8px; align-items: center;">
                <input type="date" class="form-input" style="flex: 1;">
                <span>至</span>
                <input type="date" class="form-input" style="flex: 1;">
            </div>
        </div>
    </div>
    <div style="display: flex; justify-content: flex-end; gap: 12px;">
        <button class="btn btn-default" onclick="resetOrganizationFilter()">重置</button>
        <button class="btn btn-primary" onclick="applyOrganizationFilter()">查询</button>
    </div>
</div>
<div class="table-container">
    <table class="data-table">
        <thead>
            <tr>
                <th>序号</th>
                <th>机构名称</th>
                <th>机构负责人</th>
                <th>创建时间</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td><a class="action-link" onclick="viewOrganizationDetail(1)" style="text-decoration: none;">ah测试机构</a></td>
                <td>安徽测试负责人</td>
                <td>2025-10-11 14:43:45</td>
                <td>
                    <div class="action-btns">
                        <a class="action-link" onclick="viewOrganizationDetail(1)">查看</a>
                        <a class="action-link" onclick="editOrganization(1)">编辑</a>
                        <a class="action-link danger" onclick="deleteOrganization(1)">删除</a>
                    </div>
                </td>
            </tr>
            <tr>
                <td>2</td>
                <td><a class="action-link" onclick="viewOrganizationDetail(2)" style="text-decoration: none;">机构测试2501</a></td>
                <td>机构负责人2501</td>
                <td>2025-08-21 16:21:17</td>
                <td>
                    <div class="action-btns">
                        <a class="action-link" onclick="viewOrganizationDetail(2)">查看</a>
                        <a class="action-link" onclick="editOrganization(2)">编辑</a>
                        <a class="action-link danger" onclick="deleteOrganization(2)">删除</a>
                    </div>
                </td>
            </tr>
            <tr>
                <td>3</td>
                <td><a class="action-link" onclick="viewOrganizationDetail(3)" style="text-decoration: none;">结直肠癌机构</a></td>
                <td>金城</td>
                <td>2025-05-29 20:56:55</td>
                <td>
                    <div class="action-btns">
                        <a class="action-link" onclick="viewOrganizationDetail(3)">查看</a>
                        <a class="action-link" onclick="editOrganization(3)">编辑</a>
                        <a class="action-link danger" onclick="deleteOrganization(3)">删除</a>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="pagination">
    <div class="pagination-info">共 58 条</div>
    <div class="pagination-controls">
        <button class="pagination-btn" disabled>◀</button>
        <span class="pagination-page active">1</span>
        <span class="pagination-page">2</span>
        <span class="pagination-page">3</span>
        <span class="pagination-page">4</span>
        <button class="pagination-btn">▶</button>
        <div class="pagination-size">
            <select>
                <option>15 条/页</option>
                <option>30 条/页</option>
                <option>50 条/页</option>
            </select>
        </div>
        <div style="margin-left: 12px; display: flex; align-items: center; gap: 8px;">
            <span>跳至</span>
            <input type="number" style="width: 60px; padding: 4px; border: 1px solid #d9d9d9; border-radius: 4px;">
            <span>页</span>
        </div>
    </div>
</div>
